function CF(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var bF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function EF(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var id={},TF={get exports(){return id},set exports(n){id=n}},t0={},H={},PF={get exports(){return H},set exports(n){H=n}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=Symbol.for("react.element"),BF=Symbol.for("react.portal"),RF=Symbol.for("react.fragment"),LF=Symbol.for("react.strict_mode"),IF=Symbol.for("react.profiler"),DF=Symbol.for("react.provider"),FF=Symbol.for("react.context"),kF=Symbol.for("react.forward_ref"),OF=Symbol.for("react.suspense"),NF=Symbol.for("react.memo"),UF=Symbol.for("react.lazy"),_C=Symbol.iterator;function zF(n){return n===null||typeof n!="object"?null:(n=_C&&n[_C]||n["@@iterator"],typeof n=="function"?n:null)}var aP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lP=Object.assign,uP={};function xc(n,e,t){this.props=n,this.context=e,this.refs=uP,this.updater=t||aP}xc.prototype.isReactComponent={};xc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cP(){}cP.prototype=xc.prototype;function a_(n,e,t){this.props=n,this.context=e,this.refs=uP,this.updater=t||aP}var l_=a_.prototype=new cP;l_.constructor=a_;lP(l_,xc.prototype);l_.isPureReactComponent=!0;var SC=Array.isArray,fP=Object.prototype.hasOwnProperty,u_={current:null},dP={key:!0,ref:!0,__self:!0,__source:!0};function hP(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fP.call(e,i)&&!dP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Kd,type:n,key:s,ref:o,props:r,_owner:u_.current}}function GF(n,e){return{$$typeof:Kd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function c_(n){return typeof n=="object"&&n!==null&&n.$$typeof===Kd}function HF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var wC=/\/+/g;function fv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?HF(""+n.key):e.toString(36)}function km(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Kd:case BF:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+fv(o,0):i,SC(r)?(t="",n!=null&&(t=n.replace(wC,"$&/")+"/"),km(r,e,t,"",function(u){return u})):r!=null&&(c_(r)&&(r=GF(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(wC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",SC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+fv(s,a);o+=km(s,e,t,l,r)}else if(l=zF(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+fv(s,a++),o+=km(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mp(n,e,t){if(n==null)return n;var i=[],r=0;return km(n,i,"","",function(s){return e.call(t,s,r++)}),i}function VF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _i={current:null},Om={transition:null},WF={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:Om,ReactCurrentOwner:u_};wt.Children={map:Mp,forEach:function(n,e,t){Mp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Mp(n,function(){e++}),e},toArray:function(n){return Mp(n,function(e){return e})||[]},only:function(n){if(!c_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};wt.Component=xc;wt.Fragment=RF;wt.Profiler=IF;wt.PureComponent=a_;wt.StrictMode=LF;wt.Suspense=OF;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WF;wt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=lP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u_.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)fP.call(e,l)&&!dP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Kd,type:n.type,key:r,ref:s,props:i,_owner:o}};wt.createContext=function(n){return n={$$typeof:FF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:DF,_context:n},n.Consumer=n};wt.createElement=hP;wt.createFactory=function(n){var e=hP.bind(null,n);return e.type=n,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(n){return{$$typeof:kF,render:n}};wt.isValidElement=c_;wt.lazy=function(n){return{$$typeof:UF,_payload:{_status:-1,_result:n},_init:VF}};wt.memo=function(n,e){return{$$typeof:NF,type:n,compare:e===void 0?null:e}};wt.startTransition=function(n){var e=Om.transition;Om.transition={};try{n()}finally{Om.transition=e}};wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};wt.useCallback=function(n,e){return _i.current.useCallback(n,e)};wt.useContext=function(n){return _i.current.useContext(n)};wt.useDebugValue=function(){};wt.useDeferredValue=function(n){return _i.current.useDeferredValue(n)};wt.useEffect=function(n,e){return _i.current.useEffect(n,e)};wt.useId=function(){return _i.current.useId()};wt.useImperativeHandle=function(n,e,t){return _i.current.useImperativeHandle(n,e,t)};wt.useInsertionEffect=function(n,e){return _i.current.useInsertionEffect(n,e)};wt.useLayoutEffect=function(n,e){return _i.current.useLayoutEffect(n,e)};wt.useMemo=function(n,e){return _i.current.useMemo(n,e)};wt.useReducer=function(n,e,t){return _i.current.useReducer(n,e,t)};wt.useRef=function(n){return _i.current.useRef(n)};wt.useState=function(n){return _i.current.useState(n)};wt.useSyncExternalStore=function(n,e,t){return _i.current.useSyncExternalStore(n,e,t)};wt.useTransition=function(){return _i.current.useTransition()};wt.version="18.2.0";(function(n){n.exports=wt})(PF);const n0=o_(H),rd=CF({__proto__:null,default:n0},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jF=H,JF=Symbol.for("react.element"),XF=Symbol.for("react.fragment"),KF=Object.prototype.hasOwnProperty,YF=jF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QF={key:!0,ref:!0,__self:!0,__source:!0};function pP(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)KF.call(e,i)&&!QF.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:JF,type:n,key:s,ref:o,props:r,_owner:YF.current}}t0.Fragment=XF;t0.jsx=pP;t0.jsxs=pP;(function(n){n.exports=t0})(TF);const f_=id.Fragment,ve=id.jsx,vt=id.jsxs;var Wx={},cg={},ZF={get exports(){return cg},set exports(n){cg=n}},tr={},jx={},qF={get exports(){return jx},set exports(n){jx=n}},mP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,W){var X=F.length;F.push(W);e:for(;0<X;){var te=X-1>>>1,K=F[te];if(0<r(K,W))F[te]=W,F[X]=K,X=te;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var W=F[0],X=F.pop();if(X!==W){F[0]=X;e:for(var te=0,K=F.length,oe=K>>>1;te<oe;){var xe=2*(te+1)-1,re=F[xe],ee=xe+1,Be=F[ee];if(0>r(re,X))ee<K&&0>r(Be,re)?(F[te]=Be,F[ee]=X,te=ee):(F[te]=re,F[xe]=X,te=xe);else if(ee<K&&0>r(Be,X))F[te]=Be,F[ee]=X,te=ee;else break e}}return W}function r(F,W){var X=F.sortIndex-W.sortIndex;return X!==0?X:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var W=t(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=F)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(F){if(g=!1,S(F),!y)if(t(l)!==null)y=!0,Y(b);else{var W=t(u);W!==null&&$(M,W.startTime-F)}}function b(F,W){y=!1,g&&(g=!1,x(E),E=-1),m=!0;var X=p;try{for(S(W),h=t(l);h!==null&&(!(h.expirationTime>W)||F&&!I());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var K=te(h.expirationTime<=W);W=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&i(l),S(W)}else i(l);h=t(l)}if(h!==null)var oe=!0;else{var xe=t(u);xe!==null&&$(M,xe.startTime-W),oe=!1}return oe}finally{h=null,p=X,m=!1}}var P=!1,R=null,E=-1,T=5,L=-1;function I(){return!(n.unstable_now()-L<T)}function V(){if(R!==null){var F=n.unstable_now();L=F;var W=!0;try{W=R(!0,F)}finally{W?G():(P=!1,R=null)}}else P=!1}var G;if(typeof _=="function")G=function(){_(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,j=N.port2;N.port1.onmessage=V,G=function(){j.postMessage(null)}}else G=function(){A(V,0)};function Y(F){R=F,P||(P=!0,G())}function $(F,W){E=A(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Y(b))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return F()}finally{p=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=p;p=F;try{return W()}finally{p=X}},n.unstable_scheduleCallback=function(F,W,X){var te=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,F={id:d++,callback:W,priorityLevel:F,startTime:X,expirationTime:K,sortIndex:-1},X>te?(F.sortIndex=X,e(u,F),t(l)===null&&F===t(u)&&(g?(x(E),E=-1):g=!0,$(M,X-te))):(F.sortIndex=K,e(l,F),y||m||(y=!0,Y(b))),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var W=p;return function(){var X=p;p=W;try{return F.apply(this,arguments)}finally{p=X}}}})(mP);(function(n){n.exports=mP})(qF);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=H,qi=jx;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yP=new Set,sd={};function bl(n,e){Zu(n,e),Zu(n+"Capture",e)}function Zu(n,e){for(sd[n]=e,n=0;n<e.length;n++)yP.add(e[n])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jx=Object.prototype.hasOwnProperty,$F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MC={},CC={};function ek(n){return Jx.call(CC,n)?!0:Jx.call(MC,n)?!1:$F.test(n)?CC[n]=!0:(MC[n]=!0,!1)}function tk(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function nk(n,e,t,i){if(e===null||typeof e>"u"||tk(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Si(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qn[n]=new Si(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qn[e]=new Si(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qn[n]=new Si(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qn[n]=new Si(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qn[n]=new Si(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qn[n]=new Si(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qn[n]=new Si(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qn[n]=new Si(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qn[n]=new Si(n,5,!1,n.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function h_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(d_,h_);qn[e]=new Si(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(d_,h_);qn[e]=new Si(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(d_,h_);qn[e]=new Si(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qn[n]=new Si(n,1,!1,n.toLowerCase(),null,!1,!1)});qn.xlinkHref=new Si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qn[n]=new Si(n,1,!1,n.toLowerCase(),null,!0,!0)});function p_(n,e,t,i){var r=qn.hasOwnProperty(e)?qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nk(e,t,r,i)&&(t=null),i||r===null?ek(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ho=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),_u=Symbol.for("react.portal"),Su=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),vP=Symbol.for("react.provider"),xP=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),y_=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),AP=Symbol.for("react.offscreen"),bC=Symbol.iterator;function qc(n){return n===null||typeof n!="object"?null:(n=bC&&n[bC]||n["@@iterator"],typeof n=="function"?n:null)}var un=Object.assign,dv;function Rf(n){if(dv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+n}var hv=!1;function pv(n,e){if(!n||hv)return"";hv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{hv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Rf(n):""}function ik(n){switch(n.tag){case 5:return Rf(n.type);case 16:return Rf("Lazy");case 13:return Rf("Suspense");case 19:return Rf("SuspenseList");case 0:case 2:case 15:return n=pv(n.type,!1),n;case 11:return n=pv(n.type.render,!1),n;case 1:return n=pv(n.type,!0),n;default:return""}}function Qx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Su:return"Fragment";case _u:return"Portal";case Xx:return"Profiler";case m_:return"StrictMode";case Kx:return"Suspense";case Yx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xP:return(n.displayName||"Context")+".Consumer";case vP:return(n._context.displayName||"Context")+".Provider";case g_:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case y_:return e=n.displayName||null,e!==null?e:Qx(n.type)||"Memo";case Fo:e=n._payload,n=n._init;try{return Qx(n(e))}catch{}}return null}function rk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qx(e);case 8:return e===m_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ia(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _P(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sk(n){var e=_P(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function bp(n){n._valueTracker||(n._valueTracker=sk(n))}function SP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=_P(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function fg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Zx(n,e){var t=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function EC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ia(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wP(n,e){e=e.checked,e!=null&&p_(n,"checked",e,!1)}function qx(n,e){wP(n,e);var t=ia(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?$x(n,e.type,t):e.hasOwnProperty("defaultValue")&&$x(n,e.type,ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function TC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function $x(n,e,t){(e!=="number"||fg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Lf=Array.isArray;function zu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ia(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function e1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function PC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(Lf(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ia(t)}}function MP(n,e){var t=ia(e.value),i=ia(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function BC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function CP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?CP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ep,bP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ep.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function od(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ok=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(n){ok.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Of[e]=Of[n]})});function EP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Of.hasOwnProperty(n)&&Of[n]?(""+e).trim():e+"px"}function TP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=EP(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var ak=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n1(n,e){if(e){if(ak[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function i1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=null;function v_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var s1=null,Gu=null,Hu=null;function RC(n){if(n=Zd(n)){if(typeof s1!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=a0(e),s1(n.stateNode,n.type,e))}}function PP(n){Gu?Hu?Hu.push(n):Hu=[n]:Gu=n}function BP(){if(Gu){var n=Gu,e=Hu;if(Hu=Gu=null,RC(n),e)for(n=0;n<e.length;n++)RC(e[n])}}function RP(n,e){return n(e)}function LP(){}var mv=!1;function IP(n,e,t){if(mv)return n(e,t);mv=!0;try{return RP(n,e,t)}finally{mv=!1,(Gu!==null||Hu!==null)&&(LP(),BP())}}function ad(n,e){var t=n.stateNode;if(t===null)return null;var i=a0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var o1=!1;if(ro)try{var $c={};Object.defineProperty($c,"passive",{get:function(){o1=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{o1=!1}function lk(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Nf=!1,dg=null,hg=!1,a1=null,uk={onError:function(n){Nf=!0,dg=n}};function ck(n,e,t,i,r,s,o,a,l){Nf=!1,dg=null,lk.apply(uk,arguments)}function fk(n,e,t,i,r,s,o,a,l){if(ck.apply(this,arguments),Nf){if(Nf){var u=dg;Nf=!1,dg=null}else throw Error(Me(198));hg||(hg=!0,a1=u)}}function El(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function DP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function LC(n){if(El(n)!==n)throw Error(Me(188))}function dk(n){var e=n.alternate;if(!e){if(e=El(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return LC(r),n;if(s===i)return LC(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function FP(n){return n=dk(n),n!==null?kP(n):null}function kP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kP(n);if(e!==null)return e;n=n.sibling}return null}var OP=qi.unstable_scheduleCallback,IC=qi.unstable_cancelCallback,hk=qi.unstable_shouldYield,pk=qi.unstable_requestPaint,_n=qi.unstable_now,mk=qi.unstable_getCurrentPriorityLevel,x_=qi.unstable_ImmediatePriority,NP=qi.unstable_UserBlockingPriority,pg=qi.unstable_NormalPriority,gk=qi.unstable_LowPriority,UP=qi.unstable_IdlePriority,i0=null,ms=null;function yk(n){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(i0,n,void 0,(n.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Ak,vk=Math.log,xk=Math.LN2;function Ak(n){return n>>>=0,n===0?32:31-(vk(n)/xk|0)|0}var Tp=64,Pp=4194304;function If(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function mg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=If(a):(s&=o,s!==0&&(i=If(s)))}else o=t&~r,o!==0?i=If(o):s!==0&&(i=If(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Vr(e),r=1<<t,i|=n[t],e&=~r;return i}function _k(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Vr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=_k(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function l1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zP(){var n=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),n}function gv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Yd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Vr(e),n[e]=t}function wk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Vr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function A_(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Vr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var zt=0;function GP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var HP,__,VP,WP,jP,u1=!1,Bp=[],Jo=null,Xo=null,Ko=null,ld=new Map,ud=new Map,Uo=[],Mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DC(n,e){switch(n){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(e.pointerId)}}function ef(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Zd(e),e!==null&&__(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Ck(n,e,t,i,r){switch(e){case"focusin":return Jo=ef(Jo,n,e,t,i,r),!0;case"dragenter":return Xo=ef(Xo,n,e,t,i,r),!0;case"mouseover":return Ko=ef(Ko,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ld.set(s,ef(ld.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ud.set(s,ef(ud.get(s)||null,n,e,t,i,r)),!0}return!1}function JP(n){var e=Za(n.target);if(e!==null){var t=El(e);if(t!==null){if(e=t.tag,e===13){if(e=DP(t),e!==null){n.blockedOn=e,jP(n.priority,function(){VP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=c1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);r1=i,t.target.dispatchEvent(i),r1=null}else return e=Zd(t),e!==null&&__(e),n.blockedOn=t,!1;e.shift()}return!0}function FC(n,e,t){Nm(n)&&t.delete(e)}function bk(){u1=!1,Jo!==null&&Nm(Jo)&&(Jo=null),Xo!==null&&Nm(Xo)&&(Xo=null),Ko!==null&&Nm(Ko)&&(Ko=null),ld.forEach(FC),ud.forEach(FC)}function tf(n,e){n.blockedOn===e&&(n.blockedOn=null,u1||(u1=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,bk)))}function cd(n){function e(r){return tf(r,n)}if(0<Bp.length){tf(Bp[0],n);for(var t=1;t<Bp.length;t++){var i=Bp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Jo!==null&&tf(Jo,n),Xo!==null&&tf(Xo,n),Ko!==null&&tf(Ko,n),ld.forEach(e),ud.forEach(e),t=0;t<Uo.length;t++)i=Uo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Uo.length&&(t=Uo[0],t.blockedOn===null);)JP(t),t.blockedOn===null&&Uo.shift()}var Vu=ho.ReactCurrentBatchConfig,gg=!0;function Ek(n,e,t,i){var r=zt,s=Vu.transition;Vu.transition=null;try{zt=1,S_(n,e,t,i)}finally{zt=r,Vu.transition=s}}function Tk(n,e,t,i){var r=zt,s=Vu.transition;Vu.transition=null;try{zt=4,S_(n,e,t,i)}finally{zt=r,Vu.transition=s}}function S_(n,e,t,i){if(gg){var r=c1(n,e,t,i);if(r===null)bv(n,e,i,yg,t),DC(n,i);else if(Ck(r,n,e,t,i))i.stopPropagation();else if(DC(n,i),e&4&&-1<Mk.indexOf(n)){for(;r!==null;){var s=Zd(r);if(s!==null&&HP(s),s=c1(n,e,t,i),s===null&&bv(n,e,i,yg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else bv(n,e,i,null,t)}}var yg=null;function c1(n,e,t,i){if(yg=null,n=v_(i),n=Za(n),n!==null)if(e=El(n),e===null)n=null;else if(t=e.tag,t===13){if(n=DP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return yg=n,null}function XP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case x_:return 1;case NP:return 4;case pg:case gk:return 16;case UP:return 536870912;default:return 16}default:return 16}}var Go=null,w_=null,Um=null;function KP(){if(Um)return Um;var n,e=w_,t=e.length,i,r="value"in Go?Go.value:Go.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Um=r.slice(n,1<i?1-i:void 0)}function zm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Rp(){return!0}function kC(){return!1}function nr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rp:kC,this.isPropagationStopped=kC,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),e}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M_=nr(Ac),Qd=un({},Ac,{view:0,detail:0}),Pk=nr(Qd),yv,vv,nf,r0=un({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nf&&(nf&&n.type==="mousemove"?(yv=n.screenX-nf.screenX,vv=n.screenY-nf.screenY):vv=yv=0,nf=n),yv)},movementY:function(n){return"movementY"in n?n.movementY:vv}}),OC=nr(r0),Bk=un({},r0,{dataTransfer:0}),Rk=nr(Bk),Lk=un({},Qd,{relatedTarget:0}),xv=nr(Lk),Ik=un({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),Dk=nr(Ik),Fk=un({},Ac,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kk=nr(Fk),Ok=un({},Ac,{data:0}),NC=nr(Ok),Nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=zk[n])?!!e[n]:!1}function C_(){return Gk}var Hk=un({},Qd,{key:function(n){if(n.key){var e=Nk[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=zm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(n){return n.type==="keypress"?zm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Vk=nr(Hk),Wk=un({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UC=nr(Wk),jk=un({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),Jk=nr(jk),Xk=un({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=nr(Xk),Yk=un({},r0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qk=nr(Yk),Zk=[9,13,27,32],b_=ro&&"CompositionEvent"in window,Uf=null;ro&&"documentMode"in document&&(Uf=document.documentMode);var qk=ro&&"TextEvent"in window&&!Uf,YP=ro&&(!b_||Uf&&8<Uf&&11>=Uf),zC=String.fromCharCode(32),GC=!1;function QP(n,e){switch(n){case"keyup":return Zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wu=!1;function $k(n,e){switch(n){case"compositionend":return ZP(e);case"keypress":return e.which!==32?null:(GC=!0,zC);case"textInput":return n=e.data,n===zC&&GC?null:n;default:return null}}function eO(n,e){if(wu)return n==="compositionend"||!b_&&QP(n,e)?(n=KP(),Um=w_=Go=null,wu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YP&&e.locale!=="ko"?null:e.data;default:return null}}var tO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!tO[n.type]:e==="textarea"}function qP(n,e,t,i){PP(i),e=vg(e,"onChange"),0<e.length&&(t=new M_("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var zf=null,fd=null;function nO(n){uB(n,0)}function s0(n){var e=bu(n);if(SP(e))return n}function iO(n,e){if(n==="change")return e}var $P=!1;if(ro){var Av;if(ro){var _v="oninput"in document;if(!_v){var VC=document.createElement("div");VC.setAttribute("oninput","return;"),_v=typeof VC.oninput=="function"}Av=_v}else Av=!1;$P=Av&&(!document.documentMode||9<document.documentMode)}function WC(){zf&&(zf.detachEvent("onpropertychange",eB),fd=zf=null)}function eB(n){if(n.propertyName==="value"&&s0(fd)){var e=[];qP(e,fd,n,v_(n)),IP(nO,e)}}function rO(n,e,t){n==="focusin"?(WC(),zf=e,fd=t,zf.attachEvent("onpropertychange",eB)):n==="focusout"&&WC()}function sO(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return s0(fd)}function oO(n,e){if(n==="click")return s0(e)}function aO(n,e){if(n==="input"||n==="change")return s0(e)}function lO(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Kr=typeof Object.is=="function"?Object.is:lO;function dd(n,e){if(Kr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Jx.call(e,r)||!Kr(n[r],e[r]))return!1}return!0}function jC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function JC(n,e){var t=jC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=jC(t)}}function tB(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?tB(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function nB(){for(var n=window,e=fg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=fg(n.document)}return e}function E_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function uO(n){var e=nB(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&tB(t.ownerDocument.documentElement,t)){if(i!==null&&E_(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=JC(t,s);var o=JC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cO=ro&&"documentMode"in document&&11>=document.documentMode,Mu=null,f1=null,Gf=null,d1=!1;function XC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;d1||Mu==null||Mu!==fg(i)||(i=Mu,"selectionStart"in i&&E_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gf&&dd(Gf,i)||(Gf=i,i=vg(f1,"onSelect"),0<i.length&&(e=new M_("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Mu)))}function Lp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Cu={animationend:Lp("Animation","AnimationEnd"),animationiteration:Lp("Animation","AnimationIteration"),animationstart:Lp("Animation","AnimationStart"),transitionend:Lp("Transition","TransitionEnd")},Sv={},iB={};ro&&(iB=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function o0(n){if(Sv[n])return Sv[n];if(!Cu[n])return n;var e=Cu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in iB)return Sv[n]=e[t];return n}var rB=o0("animationend"),sB=o0("animationiteration"),oB=o0("animationstart"),aB=o0("transitionend"),lB=new Map,KC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(n,e){lB.set(n,e),bl(e,[n])}for(var wv=0;wv<KC.length;wv++){var Mv=KC[wv],fO=Mv.toLowerCase(),dO=Mv[0].toUpperCase()+Mv.slice(1);da(fO,"on"+dO)}da(rB,"onAnimationEnd");da(sB,"onAnimationIteration");da(oB,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(aB,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Df));function YC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,fk(i,e,void 0,n),n.currentTarget=null}function uB(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;YC(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;YC(r,a,u),s=l}}}if(hg)throw n=a1,hg=!1,a1=null,n}function Xt(n,e){var t=e[y1];t===void 0&&(t=e[y1]=new Set);var i=n+"__bubble";t.has(i)||(cB(e,n,2,!1),t.add(i))}function Cv(n,e,t){var i=0;e&&(i|=4),cB(t,n,i,e)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function hd(n){if(!n[Ip]){n[Ip]=!0,yP.forEach(function(t){t!=="selectionchange"&&(hO.has(t)||Cv(t,!1,n),Cv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ip]||(e[Ip]=!0,Cv("selectionchange",!1,e))}}function cB(n,e,t,i){switch(XP(e)){case 1:var r=Ek;break;case 4:r=Tk;break;default:r=S_}t=r.bind(null,e,t,n),r=void 0,!o1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function bv(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}IP(function(){var u=s,d=v_(t),h=[];e:{var p=lB.get(n);if(p!==void 0){var m=M_,y=n;switch(n){case"keypress":if(zm(t)===0)break e;case"keydown":case"keyup":m=Vk;break;case"focusin":y="focus",m=xv;break;case"focusout":y="blur",m=xv;break;case"beforeblur":case"afterblur":m=xv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Rk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Jk;break;case rB:case sB:case oB:m=Dk;break;case aB:m=Kk;break;case"scroll":m=Pk;break;case"wheel":m=Qk;break;case"copy":case"cut":case"paste":m=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=UC}var g=(e&4)!==0,A=!g&&n==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var _=u,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,x!==null&&(M=ad(_,x),M!=null&&g.push(pd(_,M,S)))),A)break;_=_.return}0<g.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==r1&&(y=t.relatedTarget||t.fromElement)&&(Za(y)||y[so]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?Za(y):null,y!==null&&(A=El(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=OC,M="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=UC,M="onPointerLeave",x="onPointerEnter",_="pointer"),A=m==null?p:bu(m),S=y==null?p:bu(y),p=new g(M,_+"leave",m,t,d),p.target=A,p.relatedTarget=S,M=null,Za(d)===u&&(g=new g(x,_+"enter",y,t,d),g.target=S,g.relatedTarget=A,M=g),A=M,m&&y)t:{for(g=m,x=y,_=0,S=g;S;S=Kl(S))_++;for(S=0,M=x;M;M=Kl(M))S++;for(;0<_-S;)g=Kl(g),_--;for(;0<S-_;)x=Kl(x),S--;for(;_--;){if(g===x||x!==null&&g===x.alternate)break t;g=Kl(g),x=Kl(x)}g=null}else g=null;m!==null&&QC(h,p,m,g,!1),y!==null&&A!==null&&QC(h,A,y,g,!0)}}e:{if(p=u?bu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=iO;else if(HC(p))if($P)b=aO;else{b=sO;var P=rO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=oO);if(b&&(b=b(n,u))){qP(h,b,t,d);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&$x(p,"number",p.value)}switch(P=u?bu(u):window,n){case"focusin":(HC(P)||P.contentEditable==="true")&&(Mu=P,f1=u,Gf=null);break;case"focusout":Gf=f1=Mu=null;break;case"mousedown":d1=!0;break;case"contextmenu":case"mouseup":case"dragend":d1=!1,XC(h,t,d);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":XC(h,t,d)}var R;if(b_)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wu?QP(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(YP&&t.locale!=="ko"&&(wu||E!=="onCompositionStart"?E==="onCompositionEnd"&&wu&&(R=KP()):(Go=d,w_="value"in Go?Go.value:Go.textContent,wu=!0)),P=vg(u,E),0<P.length&&(E=new NC(E,n,null,t,d),h.push({event:E,listeners:P}),R?E.data=R:(R=ZP(t),R!==null&&(E.data=R)))),(R=qk?$k(n,t):eO(n,t))&&(u=vg(u,"onBeforeInput"),0<u.length&&(d=new NC("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}uB(h,e)})}function pd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function vg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ad(n,t),s!=null&&i.unshift(pd(n,s,r)),s=ad(n,e),s!=null&&i.push(pd(n,s,r))),n=n.return}return i}function Kl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function QC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=ad(t,s),l!=null&&o.unshift(pd(t,l,a))):r||(l=ad(t,s),l!=null&&o.push(pd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var pO=/\r\n?/g,mO=/\u0000|\uFFFD/g;function ZC(n){return(typeof n=="string"?n:""+n).replace(pO,`
`).replace(mO,"")}function Dp(n,e,t){if(e=ZC(e),ZC(n)!==e&&t)throw Error(Me(425))}function xg(){}var h1=null,p1=null;function m1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g1=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,qC=typeof Promise=="function"?Promise:void 0,yO=typeof queueMicrotask=="function"?queueMicrotask:typeof qC<"u"?function(n){return qC.resolve(null).then(n).catch(vO)}:g1;function vO(n){setTimeout(function(){throw n})}function Ev(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),cd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);cd(e)}function Yo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function $C(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var _c=Math.random().toString(36).slice(2),ps="__reactFiber$"+_c,md="__reactProps$"+_c,so="__reactContainer$"+_c,y1="__reactEvents$"+_c,xO="__reactListeners$"+_c,AO="__reactHandles$"+_c;function Za(n){var e=n[ps];if(e)return e;for(var t=n.parentNode;t;){if(e=t[so]||t[ps]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=$C(n);n!==null;){if(t=n[ps])return t;n=$C(n)}return e}n=t,t=n.parentNode}return null}function Zd(n){return n=n[ps]||n[so],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function bu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function a0(n){return n[md]||null}var v1=[],Eu=-1;function ha(n){return{current:n}}function Kt(n){0>Eu||(n.current=v1[Eu],v1[Eu]=null,Eu--)}function jt(n,e){Eu++,v1[Eu]=n.current,n.current=e}var ra={},ui=ha(ra),Li=ha(!1),yl=ra;function qu(n,e){var t=n.type.contextTypes;if(!t)return ra;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ii(n){return n=n.childContextTypes,n!=null}function Ag(){Kt(Li),Kt(ui)}function eb(n,e,t){if(ui.current!==ra)throw Error(Me(168));jt(ui,e),jt(Li,t)}function fB(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,rk(n)||"Unknown",r));return un({},t,i)}function _g(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ra,yl=ui.current,jt(ui,n),jt(Li,Li.current),!0}function tb(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=fB(n,e,yl),i.__reactInternalMemoizedMergedChildContext=n,Kt(Li),Kt(ui),jt(ui,n)):Kt(Li),jt(Li,t)}var Ws=null,l0=!1,Tv=!1;function dB(n){Ws===null?Ws=[n]:Ws.push(n)}function _O(n){l0=!0,dB(n)}function pa(){if(!Tv&&Ws!==null){Tv=!0;var n=0,e=zt;try{var t=Ws;for(zt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ws=null,l0=!1}catch(r){throw Ws!==null&&(Ws=Ws.slice(n+1)),OP(x_,pa),r}finally{zt=e,Tv=!1}}return null}var Tu=[],Pu=0,Sg=null,wg=0,xr=[],Ar=0,vl=null,Ks=1,Ys="";function Ga(n,e){Tu[Pu++]=wg,Tu[Pu++]=Sg,Sg=n,wg=e}function hB(n,e,t){xr[Ar++]=Ks,xr[Ar++]=Ys,xr[Ar++]=vl,vl=n;var i=Ks;n=Ys;var r=32-Vr(i)-1;i&=~(1<<r),t+=1;var s=32-Vr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ks=1<<32-Vr(e)+r|t<<r|i,Ys=s+n}else Ks=1<<s|t<<r|i,Ys=n}function T_(n){n.return!==null&&(Ga(n,1),hB(n,1,0))}function P_(n){for(;n===Sg;)Sg=Tu[--Pu],Tu[Pu]=null,wg=Tu[--Pu],Tu[Pu]=null;for(;n===vl;)vl=xr[--Ar],xr[Ar]=null,Ys=xr[--Ar],xr[Ar]=null,Ks=xr[--Ar],xr[Ar]=null}var Yi=null,Xi=null,$t=!1,zr=null;function pB(n,e){var t=wr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function nb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Yi=n,Xi=Yo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Yi=n,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=vl!==null?{id:Ks,overflow:Ys}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=wr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Yi=n,Xi=null,!0):!1;default:return!1}}function x1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function A1(n){if($t){var e=Xi;if(e){var t=e;if(!nb(n,e)){if(x1(n))throw Error(Me(418));e=Yo(t.nextSibling);var i=Yi;e&&nb(n,e)?pB(i,t):(n.flags=n.flags&-4097|2,$t=!1,Yi=n)}}else{if(x1(n))throw Error(Me(418));n.flags=n.flags&-4097|2,$t=!1,Yi=n}}}function ib(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Yi=n}function Fp(n){if(n!==Yi)return!1;if(!$t)return ib(n),$t=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!m1(n.type,n.memoizedProps)),e&&(e=Xi)){if(x1(n))throw mB(),Error(Me(418));for(;e;)pB(n,e),e=Yo(e.nextSibling)}if(ib(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Xi=Yo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Xi=null}}else Xi=Yi?Yo(n.stateNode.nextSibling):null;return!0}function mB(){for(var n=Xi;n;)n=Yo(n.nextSibling)}function $u(){Xi=Yi=null,$t=!1}function B_(n){zr===null?zr=[n]:zr.push(n)}var SO=ho.ReactCurrentBatchConfig;function Or(n,e){if(n&&n.defaultProps){e=un({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Mg=ha(null),Cg=null,Bu=null,R_=null;function L_(){R_=Bu=Cg=null}function I_(n){var e=Mg.current;Kt(Mg),n._currentValue=e}function _1(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Wu(n,e){Cg=n,R_=Bu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ri=!0),n.firstContext=null)}function br(n){var e=n._currentValue;if(R_!==n)if(n={context:n,memoizedValue:e,next:null},Bu===null){if(Cg===null)throw Error(Me(308));Bu=n,Cg.dependencies={lanes:0,firstContext:n}}else Bu=Bu.next=n;return e}var qa=null;function D_(n){qa===null?qa=[n]:qa.push(n)}function gB(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,D_(e)):(t.next=r.next,r.next=t),e.interleaved=t,oo(n,i)}function oo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ko=!1;function F_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function eo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,oo(n,t)}return r=i.interleaved,r===null?(e.next=e,D_(i)):(e.next=r.next,r.next=e),i.interleaved=e,oo(n,t)}function Gm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,A_(n,t)}}function rb(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function bg(n,e,t,i){var r=n.updateQueue;ko=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=un({},h,p);break e;case 2:ko=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Al|=o,n.lanes=o,n.memoizedState=h}}function sb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var vB=new gP.Component().refs;function S1(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:un({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var u0={isMounted:function(n){return(n=n._reactInternals)?El(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=xi(),r=qo(n),s=eo(i,r);s.payload=e,t!=null&&(s.callback=t),e=Qo(n,s,r),e!==null&&(Wr(e,n,r,i),Gm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=xi(),r=qo(n),s=eo(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Qo(n,s,r),e!==null&&(Wr(e,n,r,i),Gm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xi(),i=qo(n),r=eo(t,i);r.tag=2,e!=null&&(r.callback=e),e=Qo(n,r,i),e!==null&&(Wr(e,n,i,t),Gm(e,n,i))}};function ob(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!dd(t,i)||!dd(r,s):!0}function xB(n,e,t){var i=!1,r=ra,s=e.contextType;return typeof s=="object"&&s!==null?s=br(s):(r=Ii(e)?yl:ui.current,i=e.contextTypes,s=(i=i!=null)?qu(n,r):ra),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function ab(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&u0.enqueueReplaceState(e,e.state,null)}function w1(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=vB,F_(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=br(s):(s=Ii(e)?yl:ui.current,r.context=qu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(S1(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&u0.enqueueReplaceState(r,r.state,null),bg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function rf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===vB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function kp(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function lb(n){var e=n._init;return e(n._payload)}function AB(n){function e(x,_){if(n){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function i(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function r(x,_){return x=$o(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,S,M){return _===null||_.tag!==6?(_=Fv(S,x.mode,M),_.return=x,_):(_=r(_,S),_.return=x,_)}function l(x,_,S,M){var b=S.type;return b===Su?d(x,_,S.props.children,M,S.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fo&&lb(b)===_.type)?(M=r(_,S.props),M.ref=rf(x,_,S),M.return=x,M):(M=Xm(S.type,S.key,S.props,null,x.mode,M),M.ref=rf(x,_,S),M.return=x,M)}function u(x,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=kv(S,x.mode,M),_.return=x,_):(_=r(_,S.children||[]),_.return=x,_)}function d(x,_,S,M,b){return _===null||_.tag!==7?(_=ll(S,x.mode,M,b),_.return=x,_):(_=r(_,S),_.return=x,_)}function h(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Fv(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cp:return S=Xm(_.type,_.key,_.props,null,x.mode,S),S.ref=rf(x,null,_),S.return=x,S;case _u:return _=kv(_,x.mode,S),_.return=x,_;case Fo:var M=_._init;return h(x,M(_._payload),S)}if(Lf(_)||qc(_))return _=ll(_,x.mode,S,null),_.return=x,_;kp(x,_)}return null}function p(x,_,S,M){var b=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(x,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cp:return S.key===b?l(x,_,S,M):null;case _u:return S.key===b?u(x,_,S,M):null;case Fo:return b=S._init,p(x,_,b(S._payload),M)}if(Lf(S)||qc(S))return b!==null?null:d(x,_,S,M,null);kp(x,S)}return null}function m(x,_,S,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(S)||null,a(_,x,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Cp:return x=x.get(M.key===null?S:M.key)||null,l(_,x,M,b);case _u:return x=x.get(M.key===null?S:M.key)||null,u(_,x,M,b);case Fo:var P=M._init;return m(x,_,S,P(M._payload),b)}if(Lf(M)||qc(M))return x=x.get(S)||null,d(_,x,M,b,null);kp(_,M)}return null}function y(x,_,S,M){for(var b=null,P=null,R=_,E=_=0,T=null;R!==null&&E<S.length;E++){R.index>E?(T=R,R=null):T=R.sibling;var L=p(x,R,S[E],M);if(L===null){R===null&&(R=T);break}n&&R&&L.alternate===null&&e(x,R),_=s(L,_,E),P===null?b=L:P.sibling=L,P=L,R=T}if(E===S.length)return t(x,R),$t&&Ga(x,E),b;if(R===null){for(;E<S.length;E++)R=h(x,S[E],M),R!==null&&(_=s(R,_,E),P===null?b=R:P.sibling=R,P=R);return $t&&Ga(x,E),b}for(R=i(x,R);E<S.length;E++)T=m(R,x,E,S[E],M),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?E:T.key),_=s(T,_,E),P===null?b=T:P.sibling=T,P=T);return n&&R.forEach(function(I){return e(x,I)}),$t&&Ga(x,E),b}function g(x,_,S,M){var b=qc(S);if(typeof b!="function")throw Error(Me(150));if(S=b.call(S),S==null)throw Error(Me(151));for(var P=b=null,R=_,E=_=0,T=null,L=S.next();R!==null&&!L.done;E++,L=S.next()){R.index>E?(T=R,R=null):T=R.sibling;var I=p(x,R,L.value,M);if(I===null){R===null&&(R=T);break}n&&R&&I.alternate===null&&e(x,R),_=s(I,_,E),P===null?b=I:P.sibling=I,P=I,R=T}if(L.done)return t(x,R),$t&&Ga(x,E),b;if(R===null){for(;!L.done;E++,L=S.next())L=h(x,L.value,M),L!==null&&(_=s(L,_,E),P===null?b=L:P.sibling=L,P=L);return $t&&Ga(x,E),b}for(R=i(x,R);!L.done;E++,L=S.next())L=m(R,x,E,L.value,M),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?E:L.key),_=s(L,_,E),P===null?b=L:P.sibling=L,P=L);return n&&R.forEach(function(V){return e(x,V)}),$t&&Ga(x,E),b}function A(x,_,S,M){if(typeof S=="object"&&S!==null&&S.type===Su&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cp:e:{for(var b=S.key,P=_;P!==null;){if(P.key===b){if(b=S.type,b===Su){if(P.tag===7){t(x,P.sibling),_=r(P,S.props.children),_.return=x,x=_;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fo&&lb(b)===P.type){t(x,P.sibling),_=r(P,S.props),_.ref=rf(x,P,S),_.return=x,x=_;break e}t(x,P);break}else e(x,P);P=P.sibling}S.type===Su?(_=ll(S.props.children,x.mode,M,S.key),_.return=x,x=_):(M=Xm(S.type,S.key,S.props,null,x.mode,M),M.ref=rf(x,_,S),M.return=x,x=M)}return o(x);case _u:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(x,_.sibling),_=r(_,S.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=kv(S,x.mode,M),_.return=x,x=_}return o(x);case Fo:return P=S._init,A(x,_,P(S._payload),M)}if(Lf(S))return y(x,_,S,M);if(qc(S))return g(x,_,S,M);kp(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(x,_.sibling),_=r(_,S),_.return=x,x=_):(t(x,_),_=Fv(S,x.mode,M),_.return=x,x=_),o(x)):t(x,_)}return A}var ec=AB(!0),_B=AB(!1),qd={},gs=ha(qd),gd=ha(qd),yd=ha(qd);function $a(n){if(n===qd)throw Error(Me(174));return n}function k_(n,e){switch(jt(yd,e),jt(gd,n),jt(gs,qd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=t1(e,n)}Kt(gs),jt(gs,e)}function tc(){Kt(gs),Kt(gd),Kt(yd)}function SB(n){$a(yd.current);var e=$a(gs.current),t=t1(e,n.type);e!==t&&(jt(gd,n),jt(gs,t))}function O_(n){gd.current===n&&(Kt(gs),Kt(gd))}var rn=ha(0);function Eg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pv=[];function N_(){for(var n=0;n<Pv.length;n++)Pv[n]._workInProgressVersionPrimary=null;Pv.length=0}var Hm=ho.ReactCurrentDispatcher,Bv=ho.ReactCurrentBatchConfig,xl=0,ln=null,In=null,Wn=null,Tg=!1,Hf=!1,vd=0,wO=0;function ii(){throw Error(Me(321))}function U_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Kr(n[t],e[t]))return!1;return!0}function z_(n,e,t,i,r,s){if(xl=s,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hm.current=n===null||n.memoizedState===null?EO:TO,n=t(i,r),Hf){s=0;do{if(Hf=!1,vd=0,25<=s)throw Error(Me(301));s+=1,Wn=In=null,e.updateQueue=null,Hm.current=PO,n=t(i,r)}while(Hf)}if(Hm.current=Pg,e=In!==null&&In.next!==null,xl=0,Wn=In=ln=null,Tg=!1,e)throw Error(Me(300));return n}function G_(){var n=vd!==0;return vd=0,n}function cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?ln.memoizedState=Wn=n:Wn=Wn.next=n,Wn}function Er(){if(In===null){var n=ln.alternate;n=n!==null?n.memoizedState:null}else n=In.next;var e=Wn===null?ln.memoizedState:Wn.next;if(e!==null)Wn=e,In=n;else{if(n===null)throw Error(Me(310));In=n,n={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Wn===null?ln.memoizedState=Wn=n:Wn=Wn.next=n}return Wn}function xd(n,e){return typeof e=="function"?e(n):e}function Rv(n){var e=Er(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=In,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((xl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ln.lanes|=d,Al|=d}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Kr(i,e.memoizedState)||(Ri=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ln.lanes|=s,Al|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Lv(n){var e=Er(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Kr(s,e.memoizedState)||(Ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function wB(){}function MB(n,e){var t=ln,i=Er(),r=e(),s=!Kr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ri=!0),i=i.queue,H_(EB.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(t.flags|=2048,Ad(9,bB.bind(null,t,i,r,e),void 0,null),jn===null)throw Error(Me(349));xl&30||CB(t,e,r)}return r}function CB(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function bB(n,e,t,i){e.value=t,e.getSnapshot=i,TB(e)&&PB(n)}function EB(n,e,t){return t(function(){TB(e)&&PB(n)})}function TB(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Kr(n,t)}catch{return!0}}function PB(n){var e=oo(n,1);e!==null&&Wr(e,n,1,-1)}function ub(n){var e=cs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:n},e.queue=n,n=n.dispatch=bO.bind(null,ln,n),[e.memoizedState,n]}function Ad(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function BB(){return Er().memoizedState}function Vm(n,e,t,i){var r=cs();ln.flags|=n,r.memoizedState=Ad(1|e,t,void 0,i===void 0?null:i)}function c0(n,e,t,i){var r=Er();i=i===void 0?null:i;var s=void 0;if(In!==null){var o=In.memoizedState;if(s=o.destroy,i!==null&&U_(i,o.deps)){r.memoizedState=Ad(e,t,s,i);return}}ln.flags|=n,r.memoizedState=Ad(1|e,t,s,i)}function cb(n,e){return Vm(8390656,8,n,e)}function H_(n,e){return c0(2048,8,n,e)}function RB(n,e){return c0(4,2,n,e)}function LB(n,e){return c0(4,4,n,e)}function IB(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function DB(n,e,t){return t=t!=null?t.concat([n]):null,c0(4,4,IB.bind(null,e,n),t)}function V_(){}function FB(n,e){var t=Er();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&U_(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function kB(n,e){var t=Er();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&U_(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function OB(n,e,t){return xl&21?(Kr(t,e)||(t=zP(),ln.lanes|=t,Al|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ri=!0),n.memoizedState=t)}function MO(n,e){var t=zt;zt=t!==0&&4>t?t:4,n(!0);var i=Bv.transition;Bv.transition={};try{n(!1),e()}finally{zt=t,Bv.transition=i}}function NB(){return Er().memoizedState}function CO(n,e,t){var i=qo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},UB(n))zB(e,t);else if(t=gB(n,e,t,i),t!==null){var r=xi();Wr(t,n,i,r),GB(t,e,i)}}function bO(n,e,t){var i=qo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(UB(n))zB(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Kr(a,o)){var l=e.interleaved;l===null?(r.next=r,D_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=gB(n,e,r,i),t!==null&&(r=xi(),Wr(t,n,i,r),GB(t,e,i))}}function UB(n){var e=n.alternate;return n===ln||e!==null&&e===ln}function zB(n,e){Hf=Tg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function GB(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,A_(n,t)}}var Pg={readContext:br,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},EO={readContext:br,useCallback:function(n,e){return cs().memoizedState=[n,e===void 0?null:e],n},useContext:br,useEffect:cb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Vm(4194308,4,IB.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Vm(4194308,4,n,e)},useInsertionEffect:function(n,e){return Vm(4,2,n,e)},useMemo:function(n,e){var t=cs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=cs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=CO.bind(null,ln,n),[i.memoizedState,n]},useRef:function(n){var e=cs();return n={current:n},e.memoizedState=n},useState:ub,useDebugValue:V_,useDeferredValue:function(n){return cs().memoizedState=n},useTransition:function(){var n=ub(!1),e=n[0];return n=MO.bind(null,n[1]),cs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ln,r=cs();if($t){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),jn===null)throw Error(Me(349));xl&30||CB(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,cb(EB.bind(null,i,s,n),[n]),i.flags|=2048,Ad(9,bB.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=cs(),e=jn.identifierPrefix;if($t){var t=Ys,i=Ks;t=(i&~(1<<32-Vr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=vd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=wO++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},TO={readContext:br,useCallback:FB,useContext:br,useEffect:H_,useImperativeHandle:DB,useInsertionEffect:RB,useLayoutEffect:LB,useMemo:kB,useReducer:Rv,useRef:BB,useState:function(){return Rv(xd)},useDebugValue:V_,useDeferredValue:function(n){var e=Er();return OB(e,In.memoizedState,n)},useTransition:function(){var n=Rv(xd)[0],e=Er().memoizedState;return[n,e]},useMutableSource:wB,useSyncExternalStore:MB,useId:NB,unstable_isNewReconciler:!1},PO={readContext:br,useCallback:FB,useContext:br,useEffect:H_,useImperativeHandle:DB,useInsertionEffect:RB,useLayoutEffect:LB,useMemo:kB,useReducer:Lv,useRef:BB,useState:function(){return Lv(xd)},useDebugValue:V_,useDeferredValue:function(n){var e=Er();return In===null?e.memoizedState=n:OB(e,In.memoizedState,n)},useTransition:function(){var n=Lv(xd)[0],e=Er().memoizedState;return[n,e]},useMutableSource:wB,useSyncExternalStore:MB,useId:NB,unstable_isNewReconciler:!1};function nc(n,e){try{var t="",i=e;do t+=ik(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Iv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function M1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var BO=typeof WeakMap=="function"?WeakMap:Map;function HB(n,e,t){t=eo(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Rg||(Rg=!0,D1=i),M1(n,e)},t}function VB(n,e,t){t=eo(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){M1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){M1(n,e),typeof i!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function fb(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new BO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=WO.bind(null,n,e,t),e.then(n,n))}function db(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function hb(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=eo(-1,1),e.tag=2,Qo(t,e,1))),t.lanes|=1),n)}var RO=ho.ReactCurrentOwner,Ri=!1;function yi(n,e,t,i){e.child=n===null?_B(e,null,t,i):ec(e,n.child,t,i)}function pb(n,e,t,i,r){t=t.render;var s=e.ref;return Wu(e,r),i=z_(n,e,t,i,s,r),t=G_(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ao(n,e,r)):($t&&t&&T_(e),e.flags|=1,yi(n,e,i,r),e.child)}function mb(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Z_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,WB(n,e,s,i,r)):(n=Xm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:dd,t(o,i)&&n.ref===e.ref)return ao(n,e,r)}return e.flags|=1,n=$o(s,i),n.ref=e.ref,n.return=e,e.child=n}function WB(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(dd(s,i)&&n.ref===e.ref)if(Ri=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ri=!0);else return e.lanes=n.lanes,ao(n,e,r)}return C1(n,e,t,i,r)}function jB(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Lu,Wi),Wi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,jt(Lu,Wi),Wi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,jt(Lu,Wi),Wi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,jt(Lu,Wi),Wi|=i;return yi(n,e,r,t),e.child}function JB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function C1(n,e,t,i,r){var s=Ii(t)?yl:ui.current;return s=qu(e,s),Wu(e,r),t=z_(n,e,t,i,s,r),i=G_(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ao(n,e,r)):($t&&i&&T_(e),e.flags|=1,yi(n,e,t,r),e.child)}function gb(n,e,t,i,r){if(Ii(t)){var s=!0;_g(e)}else s=!1;if(Wu(e,r),e.stateNode===null)Wm(n,e),xB(e,t,i),w1(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Ii(t)?yl:ui.current,u=qu(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&ab(e,o,i,u),ko=!1;var p=e.memoizedState;o.state=p,bg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Li.current||ko?(typeof d=="function"&&(S1(e,t,d,i),l=e.memoizedState),(a=ko||ob(e,t,a,i,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yB(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Or(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Ii(t)?yl:ui.current,l=qu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ab(e,o,i,l),ko=!1,p=e.memoizedState,o.state=p,bg(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Li.current||ko?(typeof m=="function"&&(S1(e,t,m,i),y=e.memoizedState),(u=ko||ob(e,t,u,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return b1(n,e,t,i,s,r)}function b1(n,e,t,i,r,s){JB(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&tb(e,t,!1),ao(n,e,s);i=e.stateNode,RO.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=ec(e,n.child,null,s),e.child=ec(e,null,a,s)):yi(n,e,a,s),e.memoizedState=i.state,r&&tb(e,t,!0),e.child}function XB(n){var e=n.stateNode;e.pendingContext?eb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&eb(n,e.context,!1),k_(n,e.containerInfo)}function yb(n,e,t,i,r){return $u(),B_(r),e.flags|=256,yi(n,e,t,i),e.child}var E1={dehydrated:null,treeContext:null,retryLane:0};function T1(n){return{baseLanes:n,cachePool:null,transitions:null}}function KB(n,e,t){var i=e.pendingProps,r=rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),jt(rn,r&1),n===null)return A1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=h0(o,i,0,null),n=ll(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=T1(t),e.memoizedState=E1,n):W_(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return LO(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=$o(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=$o(a,s):(s=ll(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?T1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=E1,i}return s=n.child,n=s.sibling,i=$o(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function W_(n,e){return e=h0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Op(n,e,t,i){return i!==null&&B_(i),ec(e,n.child,null,t),n=W_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function LO(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Iv(Error(Me(422))),Op(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=h0({mode:"visible",children:i.children},r,0,null),s=ll(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ec(e,n.child,null,o),e.child.memoizedState=T1(o),e.memoizedState=E1,s);if(!(e.mode&1))return Op(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=Iv(s,i,void 0),Op(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ri||a){if(i=jn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,oo(n,r),Wr(i,n,r,-1))}return Q_(),i=Iv(Error(Me(421))),Op(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=jO.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Xi=Yo(r.nextSibling),Yi=e,$t=!0,zr=null,n!==null&&(xr[Ar++]=Ks,xr[Ar++]=Ys,xr[Ar++]=vl,Ks=n.id,Ys=n.overflow,vl=e),e=W_(e,i.children),e.flags|=4096,e)}function vb(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),_1(n.return,e,t)}function Dv(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function YB(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yi(n,e,i.children,t),i=rn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vb(n,t,e);else if(n.tag===19)vb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(jt(rn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Eg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Dv(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Eg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Dv(e,!0,t,null,s);break;case"together":Dv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ao(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Al|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=$o(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=$o(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function IO(n,e,t){switch(e.tag){case 3:XB(e),$u();break;case 5:SB(e);break;case 1:Ii(e.type)&&_g(e);break;case 4:k_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;jt(Mg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(jt(rn,rn.current&1),e.flags|=128,null):t&e.child.childLanes?KB(n,e,t):(jt(rn,rn.current&1),n=ao(n,e,t),n!==null?n.sibling:null);jt(rn,rn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return YB(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),jt(rn,rn.current),i)break;return null;case 22:case 23:return e.lanes=0,jB(n,e,t)}return ao(n,e,t)}var QB,P1,ZB,qB;QB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};P1=function(){};ZB=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,$a(gs.current);var s=null;switch(t){case"input":r=Zx(n,r),i=Zx(n,i),s=[];break;case"select":r=un({},r,{value:void 0}),i=un({},i,{value:void 0}),s=[];break;case"textarea":r=e1(n,r),i=e1(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=xg)}n1(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qB=function(n,e,t,i){t!==i&&(e.flags|=4)};function sf(n,e){if(!$t)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function DO(n,e,t){var i=e.pendingProps;switch(P_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Ii(e.type)&&Ag(),ri(e),null;case 3:return i=e.stateNode,tc(),Kt(Li),Kt(ui),N_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Fp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zr!==null&&(O1(zr),zr=null))),P1(n,e),ri(e),null;case 5:O_(e);var r=$a(yd.current);if(t=e.type,n!==null&&e.stateNode!=null)ZB(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return ri(e),null}if(n=$a(gs.current),Fp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ps]=e,i[md]=s,n=(e.mode&1)!==0,t){case"dialog":Xt("cancel",i),Xt("close",i);break;case"iframe":case"object":case"embed":Xt("load",i);break;case"video":case"audio":for(r=0;r<Df.length;r++)Xt(Df[r],i);break;case"source":Xt("error",i);break;case"img":case"image":case"link":Xt("error",i),Xt("load",i);break;case"details":Xt("toggle",i);break;case"input":EC(i,s),Xt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xt("invalid",i);break;case"textarea":PC(i,s),Xt("invalid",i)}n1(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dp(i.textContent,a,n),r=["children",""+a]):sd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xt("scroll",i)}switch(t){case"input":bp(i),TC(i,s,!0);break;case"textarea":bp(i),BC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=xg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=CP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ps]=e,n[md]=i,QB(n,e,!1,!1),e.stateNode=n;e:{switch(o=i1(t,i),t){case"dialog":Xt("cancel",n),Xt("close",n),r=i;break;case"iframe":case"object":case"embed":Xt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Df.length;r++)Xt(Df[r],n);r=i;break;case"source":Xt("error",n),r=i;break;case"img":case"image":case"link":Xt("error",n),Xt("load",n),r=i;break;case"details":Xt("toggle",n),r=i;break;case"input":EC(n,i),r=Zx(n,i),Xt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=un({},i,{value:void 0}),Xt("invalid",n);break;case"textarea":PC(n,i),r=e1(n,i),Xt("invalid",n);break;default:r=i}n1(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TP(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&od(n,l):typeof l=="number"&&od(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xt("scroll",n):l!=null&&p_(n,s,l,o))}switch(t){case"input":bp(n),TC(n,i,!1);break;case"textarea":bp(n),BC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ia(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?zu(n,!!i.multiple,s,!1):i.defaultValue!=null&&zu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=xg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)qB(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=$a(yd.current),$a(gs.current),Fp(e)){if(i=e.stateNode,t=e.memoizedProps,i[ps]=e,(s=i.nodeValue!==t)&&(n=Yi,n!==null))switch(n.tag){case 3:Dp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ps]=e,e.stateNode=i}return ri(e),null;case 13:if(Kt(rn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if($t&&Xi!==null&&e.mode&1&&!(e.flags&128))mB(),$u(),e.flags|=98560,s=!1;else if(s=Fp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ps]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else zr!==null&&(O1(zr),zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||rn.current&1?Dn===0&&(Dn=3):Q_())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return tc(),P1(n,e),n===null&&hd(e.stateNode.containerInfo),ri(e),null;case 10:return I_(e.type._context),ri(e),null;case 17:return Ii(e.type)&&Ag(),ri(e),null;case 19:if(Kt(rn),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)sf(s,!1);else{if(Dn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Eg(n),o!==null){for(e.flags|=128,sf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return jt(rn,rn.current&1|2),e.child}n=n.sibling}s.tail!==null&&_n()>ic&&(e.flags|=128,i=!0,sf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Eg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return ri(e),null}else 2*_n()-s.renderingStartTime>ic&&t!==1073741824&&(e.flags|=128,i=!0,sf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_n(),e.sibling=null,t=rn.current,jt(rn,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return Y_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Wi&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function FO(n,e){switch(P_(e),e.tag){case 1:return Ii(e.type)&&Ag(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return tc(),Kt(Li),Kt(ui),N_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return O_(e),null;case 13:if(Kt(rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));$u()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Kt(rn),null;case 4:return tc(),null;case 10:return I_(e.type._context),null;case 22:case 23:return Y_(),null;case 24:return null;default:return null}}var Np=!1,li=!1,kO=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ru(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){gn(n,e,i)}else t.current=null}function B1(n,e,t){try{t()}catch(i){gn(n,e,i)}}var xb=!1;function OO(n,e){if(h1=gg,n=nB(),E_(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(p1={focusedElem:n,selectionRange:t},gg=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,A=y.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Or(e.type,g),A);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(M){gn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return y=xb,xb=!1,y}function Vf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&B1(e,t,s)}r=r.next}while(r!==i)}}function f0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function R1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function $B(n){var e=n.alternate;e!==null&&(n.alternate=null,$B(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ps],delete e[md],delete e[y1],delete e[xO],delete e[AO])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function e3(n){return n.tag===5||n.tag===3||n.tag===4}function Ab(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function L1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=xg));else if(i!==4&&(n=n.child,n!==null))for(L1(n,e,t),n=n.sibling;n!==null;)L1(n,e,t),n=n.sibling}function I1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(I1(n,e,t),n=n.sibling;n!==null;)I1(n,e,t),n=n.sibling}var Xn=null,Nr=!1;function Co(n,e,t){for(t=t.child;t!==null;)t3(n,e,t),t=t.sibling}function t3(n,e,t){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(i0,t)}catch{}switch(t.tag){case 5:li||Ru(t,e);case 6:var i=Xn,r=Nr;Xn=null,Co(n,e,t),Xn=i,Nr=r,Xn!==null&&(Nr?(n=Xn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Xn.removeChild(t.stateNode));break;case 18:Xn!==null&&(Nr?(n=Xn,t=t.stateNode,n.nodeType===8?Ev(n.parentNode,t):n.nodeType===1&&Ev(n,t),cd(n)):Ev(Xn,t.stateNode));break;case 4:i=Xn,r=Nr,Xn=t.stateNode.containerInfo,Nr=!0,Co(n,e,t),Xn=i,Nr=r;break;case 0:case 11:case 14:case 15:if(!li&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&B1(t,e,o),r=r.next}while(r!==i)}Co(n,e,t);break;case 1:if(!li&&(Ru(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){gn(t,e,a)}Co(n,e,t);break;case 21:Co(n,e,t);break;case 22:t.mode&1?(li=(i=li)||t.memoizedState!==null,Co(n,e,t),li=i):Co(n,e,t);break;default:Co(n,e,t)}}function _b(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new kO),e.forEach(function(i){var r=JO.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Ir(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,Nr=!1;break e;case 3:Xn=a.stateNode.containerInfo,Nr=!0;break e;case 4:Xn=a.stateNode.containerInfo,Nr=!0;break e}a=a.return}if(Xn===null)throw Error(Me(160));t3(s,o,r),Xn=null,Nr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){gn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n3(e,n),e=e.sibling}function n3(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ir(e,n),us(n),i&4){try{Vf(3,n,n.return),f0(3,n)}catch(g){gn(n,n.return,g)}try{Vf(5,n,n.return)}catch(g){gn(n,n.return,g)}}break;case 1:Ir(e,n),us(n),i&512&&t!==null&&Ru(t,t.return);break;case 5:if(Ir(e,n),us(n),i&512&&t!==null&&Ru(t,t.return),n.flags&32){var r=n.stateNode;try{od(r,"")}catch(g){gn(n,n.return,g)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wP(r,s),i1(a,o);var u=i1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?TP(r,h):d==="dangerouslySetInnerHTML"?bP(r,h):d==="children"?od(r,h):p_(r,d,h,u)}switch(a){case"input":qx(r,s);break;case"textarea":MP(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?zu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?zu(r,!!s.multiple,s.defaultValue,!0):zu(r,!!s.multiple,s.multiple?[]:"",!1))}r[md]=s}catch(g){gn(n,n.return,g)}}break;case 6:if(Ir(e,n),us(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(g){gn(n,n.return,g)}}break;case 3:if(Ir(e,n),us(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(g){gn(n,n.return,g)}break;case 4:Ir(e,n),us(n);break;case 13:Ir(e,n),us(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(X_=_n())),i&4&&_b(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(li=(u=li)||d,Ir(e,n),li=u):Ir(e,n),us(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(He=n,d=n.child;d!==null;){for(h=He=d;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vf(4,p,p.return);break;case 1:Ru(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){gn(i,t,g)}}break;case 5:Ru(p,p.return);break;case 22:if(p.memoizedState!==null){wb(h);continue}}m!==null?(m.return=p,He=m):wb(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EP("display",o))}catch(g){gn(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){gn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ir(e,n),us(n),i&4&&_b(n);break;case 21:break;default:Ir(e,n),us(n)}}function us(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(e3(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(od(r,""),i.flags&=-33);var s=Ab(n);I1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Ab(n);L1(n,a,o);break;default:throw Error(Me(161))}}catch(l){gn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function NO(n,e,t){He=n,i3(n)}function i3(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Np;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||li;a=Np;var u=li;if(Np=o,(li=l)&&!u)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?Mb(r):l!==null?(l.return=o,He=l):Mb(r);for(;s!==null;)He=s,i3(s),s=s.sibling;He=r,Np=a,li=u}Sb(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):Sb(n)}}function Sb(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:li||f0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!li)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Or(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}sb(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}li||e.flags&512&&R1(e)}catch(p){gn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function wb(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function Mb(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{f0(4,e)}catch(l){gn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){gn(e,r,l)}}var s=e.return;try{R1(e)}catch(l){gn(e,s,l)}break;case 5:var o=e.return;try{R1(e)}catch(l){gn(e,o,l)}}}catch(l){gn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var UO=Math.ceil,Bg=ho.ReactCurrentDispatcher,j_=ho.ReactCurrentOwner,Mr=ho.ReactCurrentBatchConfig,Rt=0,jn=null,Pn=null,Qn=0,Wi=0,Lu=ha(0),Dn=0,_d=null,Al=0,d0=0,J_=0,Wf=null,Pi=null,X_=0,ic=1/0,Vs=null,Rg=!1,D1=null,Zo=null,Up=!1,Ho=null,Lg=0,jf=0,F1=null,jm=-1,Jm=0;function xi(){return Rt&6?_n():jm!==-1?jm:jm=_n()}function qo(n){return n.mode&1?Rt&2&&Qn!==0?Qn&-Qn:SO.transition!==null?(Jm===0&&(Jm=zP()),Jm):(n=zt,n!==0||(n=window.event,n=n===void 0?16:XP(n.type)),n):1}function Wr(n,e,t,i){if(50<jf)throw jf=0,F1=null,Error(Me(185));Yd(n,t,i),(!(Rt&2)||n!==jn)&&(n===jn&&(!(Rt&2)&&(d0|=t),Dn===4&&zo(n,Qn)),Di(n,i),t===1&&Rt===0&&!(e.mode&1)&&(ic=_n()+500,l0&&pa()))}function Di(n,e){var t=n.callbackNode;Sk(n,e);var i=mg(n,n===jn?Qn:0);if(i===0)t!==null&&IC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&IC(t),e===1)n.tag===0?_O(Cb.bind(null,n)):dB(Cb.bind(null,n)),yO(function(){!(Rt&6)&&pa()}),t=null;else{switch(GP(i)){case 1:t=x_;break;case 4:t=NP;break;case 16:t=pg;break;case 536870912:t=UP;break;default:t=pg}t=f3(t,r3.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function r3(n,e){if(jm=-1,Jm=0,Rt&6)throw Error(Me(327));var t=n.callbackNode;if(ju()&&n.callbackNode!==t)return null;var i=mg(n,n===jn?Qn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ig(n,i);else{e=i;var r=Rt;Rt|=2;var s=o3();(jn!==n||Qn!==e)&&(Vs=null,ic=_n()+500,al(n,e));do try{HO();break}catch(a){s3(n,a)}while(1);L_(),Bg.current=s,Rt=r,Pn!==null?e=0:(jn=null,Qn=0,e=Dn)}if(e!==0){if(e===2&&(r=l1(n),r!==0&&(i=r,e=k1(n,r))),e===1)throw t=_d,al(n,0),zo(n,i),Di(n,_n()),t;if(e===6)zo(n,i);else{if(r=n.current.alternate,!(i&30)&&!zO(r)&&(e=Ig(n,i),e===2&&(s=l1(n),s!==0&&(i=s,e=k1(n,s))),e===1))throw t=_d,al(n,0),zo(n,i),Di(n,_n()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:Ha(n,Pi,Vs);break;case 3:if(zo(n,i),(i&130023424)===i&&(e=X_+500-_n(),10<e)){if(mg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){xi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=g1(Ha.bind(null,n,Pi,Vs),e);break}Ha(n,Pi,Vs);break;case 4:if(zo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Vr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=_n()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*UO(i/1960))-i,10<i){n.timeoutHandle=g1(Ha.bind(null,n,Pi,Vs),i);break}Ha(n,Pi,Vs);break;case 5:Ha(n,Pi,Vs);break;default:throw Error(Me(329))}}}return Di(n,_n()),n.callbackNode===t?r3.bind(null,n):null}function k1(n,e){var t=Wf;return n.current.memoizedState.isDehydrated&&(al(n,e).flags|=256),n=Ig(n,e),n!==2&&(e=Pi,Pi=t,e!==null&&O1(e)),n}function O1(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function zO(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Kr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zo(n,e){for(e&=~J_,e&=~d0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Vr(e),i=1<<t;n[t]=-1,e&=~i}}function Cb(n){if(Rt&6)throw Error(Me(327));ju();var e=mg(n,0);if(!(e&1))return Di(n,_n()),null;var t=Ig(n,e);if(n.tag!==0&&t===2){var i=l1(n);i!==0&&(e=i,t=k1(n,i))}if(t===1)throw t=_d,al(n,0),zo(n,e),Di(n,_n()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ha(n,Pi,Vs),Di(n,_n()),null}function K_(n,e){var t=Rt;Rt|=1;try{return n(e)}finally{Rt=t,Rt===0&&(ic=_n()+500,l0&&pa())}}function _l(n){Ho!==null&&Ho.tag===0&&!(Rt&6)&&ju();var e=Rt;Rt|=1;var t=Mr.transition,i=zt;try{if(Mr.transition=null,zt=1,n)return n()}finally{zt=i,Mr.transition=t,Rt=e,!(Rt&6)&&pa()}}function Y_(){Wi=Lu.current,Kt(Lu)}function al(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,gO(t)),Pn!==null)for(t=Pn.return;t!==null;){var i=t;switch(P_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ag();break;case 3:tc(),Kt(Li),Kt(ui),N_();break;case 5:O_(i);break;case 4:tc();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:I_(i.type._context);break;case 22:case 23:Y_()}t=t.return}if(jn=n,Pn=n=$o(n.current,null),Qn=Wi=e,Dn=0,_d=null,J_=d0=Al=0,Pi=Wf=null,qa!==null){for(e=0;e<qa.length;e++)if(t=qa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}qa=null}return n}function s3(n,e){do{var t=Pn;try{if(L_(),Hm.current=Pg,Tg){for(var i=ln.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Tg=!1}if(xl=0,Wn=In=ln=null,Hf=!1,vd=0,j_.current=null,t===null||t.return===null){Dn=1,_d=e,Pn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=db(o);if(m!==null){m.flags&=-257,hb(m,o,a,s,e),m.mode&1&&fb(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){fb(s,u,e),Q_();break e}l=Error(Me(426))}}else if($t&&a.mode&1){var A=db(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),hb(A,o,a,s,e),B_(nc(l,a));break e}}s=l=nc(l,a),Dn!==4&&(Dn=2),Wf===null?Wf=[s]:Wf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=HB(s,l,e);rb(s,x);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Zo===null||!Zo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=VB(s,a,e);rb(s,M);break e}}s=s.return}while(s!==null)}l3(t)}catch(b){e=b,Pn===t&&t!==null&&(Pn=t=t.return);continue}break}while(1)}function o3(){var n=Bg.current;return Bg.current=Pg,n===null?Pg:n}function Q_(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),jn===null||!(Al&268435455)&&!(d0&268435455)||zo(jn,Qn)}function Ig(n,e){var t=Rt;Rt|=2;var i=o3();(jn!==n||Qn!==e)&&(Vs=null,al(n,e));do try{GO();break}catch(r){s3(n,r)}while(1);if(L_(),Rt=t,Bg.current=i,Pn!==null)throw Error(Me(261));return jn=null,Qn=0,Dn}function GO(){for(;Pn!==null;)a3(Pn)}function HO(){for(;Pn!==null&&!hk();)a3(Pn)}function a3(n){var e=c3(n.alternate,n,Wi);n.memoizedProps=n.pendingProps,e===null?l3(n):Pn=e,j_.current=null}function l3(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=FO(t,e),t!==null){t.flags&=32767,Pn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dn=6,Pn=null;return}}else if(t=DO(t,e,Wi),t!==null){Pn=t;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=n}while(e!==null);Dn===0&&(Dn=5)}function Ha(n,e,t){var i=zt,r=Mr.transition;try{Mr.transition=null,zt=1,VO(n,e,t,i)}finally{Mr.transition=r,zt=i}return null}function VO(n,e,t,i){do ju();while(Ho!==null);if(Rt&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(wk(n,s),n===jn&&(Pn=jn=null,Qn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Up||(Up=!0,f3(pg,function(){return ju(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Mr.transition,Mr.transition=null;var o=zt;zt=1;var a=Rt;Rt|=4,j_.current=null,OO(n,t),n3(t,n),uO(p1),gg=!!h1,p1=h1=null,n.current=t,NO(t),pk(),Rt=a,zt=o,Mr.transition=s}else n.current=t;if(Up&&(Up=!1,Ho=n,Lg=r),s=n.pendingLanes,s===0&&(Zo=null),yk(t.stateNode),Di(n,_n()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Rg)throw Rg=!1,n=D1,D1=null,n;return Lg&1&&n.tag!==0&&ju(),s=n.pendingLanes,s&1?n===F1?jf++:(jf=0,F1=n):jf=0,pa(),null}function ju(){if(Ho!==null){var n=GP(Lg),e=Mr.transition,t=zt;try{if(Mr.transition=null,zt=16>n?16:n,Ho===null)var i=!1;else{if(n=Ho,Ho=null,Lg=0,Rt&6)throw Error(Me(331));var r=Rt;for(Rt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(He=u;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:Vf(8,d,s)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var p=d.sibling,m=d.return;if($B(d),d===u){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(g!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,He=x;break e}He=s.return}}var _=n.current;for(He=_;He!==null;){o=He;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,He=S;else e:for(o=_;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f0(9,a)}}catch(b){gn(a,a.return,b)}if(a===o){He=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,He=M;break e}He=a.return}}if(Rt=r,pa(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(i0,n)}catch{}i=!0}return i}finally{zt=t,Mr.transition=e}}return!1}function bb(n,e,t){e=nc(t,e),e=HB(n,e,1),n=Qo(n,e,1),e=xi(),n!==null&&(Yd(n,1,e),Di(n,e))}function gn(n,e,t){if(n.tag===3)bb(n,n,t);else for(;e!==null;){if(e.tag===3){bb(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zo===null||!Zo.has(i))){n=nc(t,n),n=VB(e,n,1),e=Qo(e,n,1),n=xi(),e!==null&&(Yd(e,1,n),Di(e,n));break}}e=e.return}}function WO(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=xi(),n.pingedLanes|=n.suspendedLanes&t,jn===n&&(Qn&t)===t&&(Dn===4||Dn===3&&(Qn&130023424)===Qn&&500>_n()-X_?al(n,0):J_|=t),Di(n,e)}function u3(n,e){e===0&&(n.mode&1?(e=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):e=1);var t=xi();n=oo(n,e),n!==null&&(Yd(n,e,t),Di(n,t))}function jO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),u3(n,t)}function JO(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),u3(n,t)}var c3;c3=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Li.current)Ri=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ri=!1,IO(n,e,t);Ri=!!(n.flags&131072)}else Ri=!1,$t&&e.flags&1048576&&hB(e,wg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wm(n,e),n=e.pendingProps;var r=qu(e,ui.current);Wu(e,t),r=z_(null,e,i,n,r,t);var s=G_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(i)?(s=!0,_g(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,F_(e),r.updater=u0,e.stateNode=r,r._reactInternals=e,w1(e,i,n,t),e=b1(null,e,i,!0,s,t)):(e.tag=0,$t&&s&&T_(e),yi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Wm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=KO(i),n=Or(i,n),r){case 0:e=C1(null,e,i,n,t);break e;case 1:e=gb(null,e,i,n,t);break e;case 11:e=pb(null,e,i,n,t);break e;case 14:e=mb(null,e,i,Or(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Or(i,r),C1(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Or(i,r),gb(n,e,i,r,t);case 3:e:{if(XB(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,yB(n,e),bg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=nc(Error(Me(423)),e),e=yb(n,e,i,t,r);break e}else if(i!==r){r=nc(Error(Me(424)),e),e=yb(n,e,i,t,r);break e}else for(Xi=Yo(e.stateNode.containerInfo.firstChild),Yi=e,$t=!0,zr=null,t=_B(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($u(),i===r){e=ao(n,e,t);break e}yi(n,e,i,t)}e=e.child}return e;case 5:return SB(e),n===null&&A1(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,m1(i,r)?o=null:s!==null&&m1(i,s)&&(e.flags|=32),JB(n,e),yi(n,e,o,t),e.child;case 6:return n===null&&A1(e),null;case 13:return KB(n,e,t);case 4:return k_(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ec(e,null,i,t):yi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Or(i,r),pb(n,e,i,r,t);case 7:return yi(n,e,e.pendingProps,t),e.child;case 8:return yi(n,e,e.pendingProps.children,t),e.child;case 12:return yi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,jt(Mg,i._currentValue),i._currentValue=o,s!==null)if(Kr(s.value,o)){if(s.children===r.children&&!Li.current){e=ao(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=eo(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),_1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),_1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Wu(e,t),r=br(r),i=i(r),e.flags|=1,yi(n,e,i,t),e.child;case 14:return i=e.type,r=Or(i,e.pendingProps),r=Or(i.type,r),mb(n,e,i,r,t);case 15:return WB(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Or(i,r),Wm(n,e),e.tag=1,Ii(i)?(n=!0,_g(e)):n=!1,Wu(e,t),xB(e,i,r),w1(e,i,r,t),b1(null,e,i,!0,n,t);case 19:return YB(n,e,t);case 22:return jB(n,e,t)}throw Error(Me(156,e.tag))};function f3(n,e){return OP(n,e)}function XO(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(n,e,t,i){return new XO(n,e,t,i)}function Z_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KO(n){if(typeof n=="function")return Z_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===g_)return 11;if(n===y_)return 14}return 2}function $o(n,e){var t=n.alternate;return t===null?(t=wr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Xm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Z_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Su:return ll(t.children,r,s,e);case m_:o=8,r|=8;break;case Xx:return n=wr(12,t,e,r|2),n.elementType=Xx,n.lanes=s,n;case Kx:return n=wr(13,t,e,r),n.elementType=Kx,n.lanes=s,n;case Yx:return n=wr(19,t,e,r),n.elementType=Yx,n.lanes=s,n;case AP:return h0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case vP:o=10;break e;case xP:o=9;break e;case g_:o=11;break e;case y_:o=14;break e;case Fo:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=wr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ll(n,e,t,i){return n=wr(7,n,i,e),n.lanes=t,n}function h0(n,e,t,i){return n=wr(22,n,i,e),n.elementType=AP,n.lanes=t,n.stateNode={isHidden:!1},n}function Fv(n,e,t){return n=wr(6,n,null,e),n.lanes=t,n}function kv(n,e,t){return e=wr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function YO(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gv(0),this.expirationTimes=gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function q_(n,e,t,i,r,s,o,a,l){return n=new YO(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},F_(s),n}function QO(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function d3(n){if(!n)return ra;n=n._reactInternals;e:{if(El(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ii(t))return fB(n,t,e)}return e}function h3(n,e,t,i,r,s,o,a,l){return n=q_(t,i,!0,n,r,s,o,a,l),n.context=d3(null),t=n.current,i=xi(),r=qo(t),s=eo(i,r),s.callback=e??null,Qo(t,s,r),n.current.lanes=r,Yd(n,r,i),Di(n,i),n}function p0(n,e,t,i){var r=e.current,s=xi(),o=qo(r);return t=d3(t),e.context===null?e.context=t:e.pendingContext=t,e=eo(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Qo(r,e,o),n!==null&&(Wr(n,r,o,s),Gm(n,r,o)),o}function Dg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Eb(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function $_(n,e){Eb(n,e),(n=n.alternate)&&Eb(n,e)}function ZO(){return null}var p3=typeof reportError=="function"?reportError:function(n){console.error(n)};function eS(n){this._internalRoot=n}m0.prototype.render=eS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));p0(n,e,null,null)};m0.prototype.unmount=eS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_l(function(){p0(null,n,null,null)}),e[so]=null}};function m0(n){this._internalRoot=n}m0.prototype.unstable_scheduleHydration=function(n){if(n){var e=WP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Uo.length&&e!==0&&e<Uo[t].priority;t++);Uo.splice(t,0,n),t===0&&JP(n)}};function tS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function g0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tb(){}function qO(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Dg(o);s.call(u)}}var o=h3(e,i,n,0,null,!1,!1,"",Tb);return n._reactRootContainer=o,n[so]=o.current,hd(n.nodeType===8?n.parentNode:n),_l(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Dg(l);a.call(u)}}var l=q_(n,0,!1,null,null,!1,!1,"",Tb);return n._reactRootContainer=l,n[so]=l.current,hd(n.nodeType===8?n.parentNode:n),_l(function(){p0(e,l,t,i)}),l}function y0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Dg(o);a.call(l)}}p0(e,o,n,r)}else o=qO(t,e,n,r,i);return Dg(o)}HP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=If(e.pendingLanes);t!==0&&(A_(e,t|1),Di(e,_n()),!(Rt&6)&&(ic=_n()+500,pa()))}break;case 13:_l(function(){var i=oo(n,1);if(i!==null){var r=xi();Wr(i,n,1,r)}}),$_(n,1)}};__=function(n){if(n.tag===13){var e=oo(n,134217728);if(e!==null){var t=xi();Wr(e,n,134217728,t)}$_(n,134217728)}};VP=function(n){if(n.tag===13){var e=qo(n),t=oo(n,e);if(t!==null){var i=xi();Wr(t,n,e,i)}$_(n,e)}};WP=function(){return zt};jP=function(n,e){var t=zt;try{return zt=n,e()}finally{zt=t}};s1=function(n,e,t){switch(e){case"input":if(qx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=a0(i);if(!r)throw Error(Me(90));SP(i),qx(i,r)}}}break;case"textarea":MP(n,t);break;case"select":e=t.value,e!=null&&zu(n,!!t.multiple,e,!1)}};RP=K_;LP=_l;var $O={usingClientEntryPoint:!1,Events:[Zd,bu,a0,PP,BP,K_]},of={findFiberByHostInstance:Za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eN={bundleType:of.bundleType,version:of.version,rendererPackageName:of.rendererPackageName,rendererConfig:of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=FP(n),n===null?null:n.stateNode},findFiberByHostInstance:of.findFiberByHostInstance||ZO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{i0=zp.inject(eN),ms=zp}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;tr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tS(e))throw Error(Me(200));return QO(n,e,null,t)};tr.createRoot=function(n,e){if(!tS(n))throw Error(Me(299));var t=!1,i="",r=p3;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=q_(n,1,!1,null,null,t,!1,i,r),n[so]=e.current,hd(n.nodeType===8?n.parentNode:n),new eS(e)};tr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=FP(e),n=n===null?null:n.stateNode,n};tr.flushSync=function(n){return _l(n)};tr.hydrate=function(n,e,t){if(!g0(e))throw Error(Me(200));return y0(null,n,e,!0,t)};tr.hydrateRoot=function(n,e,t){if(!tS(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=p3;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=h3(e,null,n,1,t??null,r,!1,s,o),n[so]=e.current,hd(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new m0(e)};tr.render=function(n,e,t){if(!g0(e))throw Error(Me(200));return y0(null,n,e,!1,t)};tr.unmountComponentAtNode=function(n){if(!g0(n))throw Error(Me(40));return n._reactRootContainer?(_l(function(){y0(null,null,n,!1,function(){n._reactRootContainer=null,n[so]=null})}),!0):!1};tr.unstable_batchedUpdates=K_;tr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!g0(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return y0(n,e,t,!1,i)};tr.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=tr})(ZF);var m3,Pb=cg;m3=Wx.createRoot=Pb.createRoot,Wx.hydrateRoot=Pb.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sd.apply(this,arguments)}var el;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(el||(el={}));const Bb="popstate";function tN(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return N1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Fg(r)}return iN(e,t,null,n)}function ea(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nN(){return Math.random().toString(36).substr(2,8)}function Rb(n,e){return{usr:n.state,key:n.key,idx:e}}function N1(n,e,t,i){return t===void 0&&(t=null),Sd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?v0(e):e,{state:t,key:e&&e.key||i||nN()})}function Fg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function v0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function iN(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=el.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Sd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=el.Pop;let A=d(),x=A==null?null:A-u;u=A,l&&l({action:a,location:g.location,delta:x})}function p(A,x){a=el.Push;let _=N1(g.location,A,x);t&&t(_,A),u=d()+1;let S=Rb(_,u),M=g.createHref(_);try{o.pushState(S,"",M)}catch{r.location.assign(M)}s&&l&&l({action:a,location:g.location,delta:1})}function m(A,x){a=el.Replace;let _=N1(g.location,A,x);t&&t(_,A),u=d();let S=Rb(_,u),M=g.createHref(_);o.replaceState(S,"",M),s&&l&&l({action:a,location:g.location,delta:0})}function y(A){let x=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof A=="string"?A:Fg(A);return ea(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let g={get action(){return a},get location(){return n(r,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Bb,h),l=A,()=>{r.removeEventListener(Bb,h),l=null}},createHref(A){return e(r,A)},createURL:y,encodeLocation(A){let x=y(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(A){return o.go(A)}};return g}var Lb;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Lb||(Lb={}));function rN(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function sN(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?v0(n):n;return{pathname:t?t.startsWith("/")?t:oN(t,e):e,search:aN(i),hash:lN(r)}}function oN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Ov(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function y3(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=v0(n):(r=Sd({},n),ea(!r.pathname||!r.pathname.includes("?"),Ov("?","pathname","search",r)),ea(!r.pathname||!r.pathname.includes("#"),Ov("#","pathname","hash",r)),ea(!r.search||!r.search.includes("#"),Ov("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=sN(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const v3=n=>n.join("/").replace(/\/\/+/g,"/"),aN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,uN=["post","put","patch","delete"];[...uN];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const fN=typeof Object.is=="function"?Object.is:cN,{useState:dN,useEffect:hN,useLayoutEffect:pN,useDebugValue:mN}=rd;function gN(n,e,t){const i=e(),[{inst:r},s]=dN({inst:{value:i,getSnapshot:e}});return pN(()=>{r.value=i,r.getSnapshot=e,Nv(r)&&s({inst:r})},[n,i,e]),hN(()=>(Nv(r)&&s({inst:r}),n(()=>{Nv(r)&&s({inst:r})})),[n]),mN(i),i}function Nv(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!fN(t,i)}catch{return!0}}function yN(n,e,t){return e()}const vN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xN=!vN,AN=xN?yN:gN;"useSyncExternalStore"in rd&&(n=>n.useSyncExternalStore)(rd);const nS=H.createContext(null),iS=H.createContext(null),x3=H.createContext({outlet:null,matches:[]});function _N(n,e){let{relative:t}=e===void 0?{}:e;x0()||ea(!1);let{basename:i,navigator:r}=H.useContext(nS),{hash:s,pathname:o,search:a}=A3(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:v3([i,o])),r.createHref({pathname:l,search:a,hash:s})}function x0(){return H.useContext(iS)!=null}function rS(){return x0()||ea(!1),H.useContext(iS).location}function SN(){x0()||ea(!1);let{basename:n,navigator:e}=H.useContext(nS),{matches:t}=H.useContext(x3),{pathname:i}=rS(),r=JSON.stringify(g3(t).map(a=>a.pathnameBase)),s=H.useRef(!1);return H.useEffect(()=>{s.current=!0}),H.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=y3(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:v3([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,r,i])}function A3(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=H.useContext(x3),{pathname:r}=rS(),s=JSON.stringify(g3(i).map(o=>o.pathnameBase));return H.useMemo(()=>y3(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}var Ib;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(Ib||(Ib={}));var Db;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Db||(Db={}));function wN(n){let{basename:e="/",children:t=null,location:i,navigationType:r=el.Pop,navigator:s,static:o=!1}=n;x0()&&ea(!1);let a=e.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=v0(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,y=H.useMemo(()=>{let g=rN(u,a);return g==null?null:{pathname:g,search:d,hash:h,state:p,key:m}},[a,u,d,h,p,m]);return y==null?null:H.createElement(nS.Provider,{value:l},H.createElement(iS.Provider,{children:t,value:{location:y,navigationType:r}}))}var Fb;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Fb||(Fb={}));new Promise(()=>{});/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(){return U1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},U1.apply(this,arguments)}function MN(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function CN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bN(n,e){return n.button===0&&(!e||e==="_self")&&!CN(n)}const EN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function TN(n){let{basename:e,children:t,window:i}=n,r=H.useRef();r.current==null&&(r.current=tN({window:i,v5Compat:!0}));let s=r.current,[o,a]=H.useState({action:s.action,location:s.location});return H.useLayoutEffect(()=>s.listen(a),[s]),H.createElement(wN,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const PN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BN=H.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=MN(e,EN),p,m=!1;if(PN&&typeof u=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){p=u;let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u);_.origin===x.origin?u=_.pathname+_.search+_.hash:m=!0}let y=_N(u,{relative:r}),g=RN(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r});function A(x){i&&i(x),x.defaultPrevented||g(x)}return H.createElement("a",U1({},h,{href:p||y,onClick:m||s?i:A,ref:t,target:l}))});var kb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(kb||(kb={}));var Ob;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ob||(Ob={}));function RN(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=SN(),l=rS(),u=A3(n,{relative:o});return H.useCallback(d=>{if(bN(d,t)){d.preventDefault();let h=i!==void 0?i:Fg(l)===Fg(u);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const A0="149",Va={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_3=0,z1=1,S3=2,LN=3,w3=0,_0=1,Jf=2,tl=3,_s=0,Fi=1,Hr=2,IN=2,to=0,ul=1,G1=2,H1=3,V1=4,M3=5,Ya=100,C3=101,b3=102,W1=103,j1=104,E3=200,T3=201,P3=202,B3=203,sS=204,oS=205,R3=206,L3=207,I3=208,D3=209,F3=210,k3=0,O3=1,N3=2,kg=3,U3=4,z3=5,G3=6,H3=7,$d=0,V3=1,W3=2,jr=0,j3=1,J3=2,X3=3,aS=4,K3=5,S0=300,sa=301,oa=302,wd=303,Md=304,Sc=306,aa=1e3,Yn=1001,rc=1002,yn=1003,Cd=1004,DN=1004,Ju=1005,FN=1005,sn=1006,w0=1007,kN=1007,Ss=1008,ON=1008,lo=1009,Y3=1010,Q3=1011,lS=1012,Z3=1013,Vo=1014,Qs=1015,sc=1016,q3=1017,$3=1018,cl=1020,eR=1021,Bi=1023,tR=1024,nR=1025,ta=1026,Sl=1027,iR=1028,rR=1029,sR=1030,oR=1031,aR=1033,Km=33776,Ym=33777,Qm=33778,Zm=33779,J1=35840,X1=35841,K1=35842,Y1=35843,lR=36196,Q1=37492,Z1=37496,q1=37808,$1=37809,eA=37810,tA=37811,nA=37812,iA=37813,rA=37814,sA=37815,oA=37816,aA=37817,lA=37818,uA=37819,cA=37820,fA=37821,qm=36492,uR=36283,dA=36284,hA=36285,pA=36286,cR=2200,fR=2201,dR=2202,oc=2300,wl=2301,$m=2302,nl=2400,il=2401,bd=2402,M0=2500,uS=2501,NN=0,hR=1,cS=2,uo=3e3,bt=3001,pR=3200,mR=3201,po=0,gR=1,UN="",Ur="srgb",ac="srgb-linear",zN=0,eg=7680,GN=7681,HN=7682,VN=7683,WN=34055,jN=34056,JN=5386,XN=512,KN=513,YN=514,QN=515,ZN=516,qN=517,$N=518,yR=519,Ed=35044,fl=35048,e4=35040,t4=35045,n4=35049,i4=35041,r4=35046,s4=35050,o4=35042,a4="100",mA="300 es",Og=1035;class Ms{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Nb=1234567;const dl=Math.PI/180,Td=180/Math.PI;function Qi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function Sn(n,e,t){return Math.max(e,Math.min(t,n))}function fS(n,e){return(n%e+e)%e}function l4(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function u4(n,e,t){return n!==e?(t-n)/(e-n):0}function Xf(n,e,t){return(1-t)*n+t*e}function c4(n,e,t,i){return Xf(n,e,1-Math.exp(-t*i))}function f4(n,e=1){return e-Math.abs(fS(n,e*2)-e)}function d4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function h4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function p4(n,e){return n+Math.floor(Math.random()*(e-n+1))}function m4(n,e){return n+Math.random()*(e-n)}function g4(n){return n*(.5-Math.random())}function y4(n){n!==void 0&&(Nb=n);let e=Nb+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function v4(n){return n*dl}function x4(n){return n*Td}function gA(n){return(n&n-1)===0&&n!==0}function vR(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Ng(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function A4(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Zs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Vt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var dS=Object.freeze({__proto__:null,DEG2RAD:dl,RAD2DEG:Td,ceilPowerOfTwo:vR,clamp:Sn,damp:c4,degToRad:v4,denormalize:Zs,euclideanModulo:fS,floorPowerOfTwo:Ng,generateUUID:Qi,inverseLerp:u4,isPowerOfTwo:gA,lerp:Xf,mapLinear:l4,normalize:Vt,pingpong:f4,radToDeg:x4,randFloat:m4,randFloatSpread:g4,randInt:p4,seededRandom:y4,setQuaternionFromProperEuler:A4,smootherstep:h4,smoothstep:d4});class me{constructor(e=0,t=0){me.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vi{constructor(){vi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],g=r[0],A=r[3],x=r[6],_=r[1],S=r[4],M=r[7],b=r[2],P=r[5],R=r[8];return s[0]=o*g+a*_+l*b,s[3]=o*A+a*S+l*P,s[6]=o*x+a*M+l*R,s[1]=u*g+d*_+h*b,s[4]=u*A+d*S+h*P,s[7]=u*x+d*M+h*R,s[2]=p*g+m*_+y*b,s[5]=p*A+m*S+y*P,s[8]=p*x+m*M+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-i*s*d+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=h*g,e[1]=(r*u-d*i)*g,e[2]=(a*i-r*o)*g,e[3]=p*g,e[4]=(d*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=m*g,e[7]=(i*l-u*t)*g,e[8]=(o*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Uv.makeScale(e,t)),this}rotate(e){return this.premultiply(Uv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Uv.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Uv=new vi;function xR(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const _4={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Iu(n,e){return new _4[n](e)}function Pd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function tg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const zv={[Ur]:{[ac]:hl},[ac]:{[Ur]:tg}},oi={legacyMode:!0,get workingColorSpace(){return ac},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(zv[e]&&zv[e][t]!==void 0){const i=zv[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},AR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ln={r:0,g:0,b:0},Dr={h:0,s:0,l:0},Gp={h:0,s:0,l:0};function Gv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Hp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class De{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ur){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=oi.workingColorSpace){return this.r=e,this.g=t,this.b=i,oi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=oi.workingColorSpace){if(e=fS(e,1),t=Sn(t,0,1),i=Sn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Gv(o,s,e+1/3),this.g=Gv(o,s,e),this.b=Gv(o,s,e-1/3)}return oi.toWorkingColorSpace(this,r),this}setStyle(e,t=Ur){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,oi.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,oi.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,u,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,oi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,oi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ur){const i=AR[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hl(e.r),this.g=hl(e.g),this.b=hl(e.b),this}copyLinearToSRGB(e){return this.r=tg(e.r),this.g=tg(e.g),this.b=tg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ur){return oi.fromWorkingColorSpace(Hp(this,Ln),e),Sn(Ln.r*255,0,255)<<16^Sn(Ln.g*255,0,255)<<8^Sn(Ln.b*255,0,255)<<0}getHexString(e=Ur){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.fromWorkingColorSpace(Hp(this,Ln),t);const i=Ln.r,r=Ln.g,s=Ln.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=oi.workingColorSpace){return oi.fromWorkingColorSpace(Hp(this,Ln),t),e.r=Ln.r,e.g=Ln.g,e.b=Ln.b,e}getStyle(e=Ur){return oi.fromWorkingColorSpace(Hp(this,Ln),e),e!==Ur?`color(${e} ${Ln.r} ${Ln.g} ${Ln.b})`:`rgb(${Ln.r*255|0},${Ln.g*255|0},${Ln.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Dr),Dr.h+=e,Dr.s+=t,Dr.l+=i,this.setHSL(Dr.h,Dr.s,Dr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Dr),e.getHSL(Gp);const i=Xf(Dr.h,Gp.h,t),r=Xf(Dr.s,Gp.s,t),s=Xf(Dr.l,Gp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}De.NAMES=AR;let Yl;class hS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Yl===void 0&&(Yl=Pd("canvas")),Yl.width=e.width,Yl.height=e.height;const i=Yl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Yl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Pd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=hl(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(hl(t[i]/255)*255):t[i]=hl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class rl{constructor(e=null){this.isSource=!0,this.uuid=Qi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Hv(r[o].image)):s.push(Hv(r[o]))}else s=Hv(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Hv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?hS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let S4=0;class en extends Ms{constructor(e=en.DEFAULT_IMAGE,t=en.DEFAULT_MAPPING,i=Yn,r=Yn,s=sn,o=Ss,a=Bi,l=lo,u=en.DEFAULT_ANISOTROPY,d=uo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:S4++}),this.uuid=Qi(),this.name="",this.source=new rl(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new me(0,0),this.repeat=new me(1,1),this.center=new me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==S0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case aa:e.x=e.x-Math.floor(e.x);break;case Yn:e.x=e.x<0?0:1;break;case rc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case aa:e.y=e.y-Math.floor(e.y);break;case Yn:e.y=e.y<0?0:1;break;case rc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}en.DEFAULT_IMAGE=null;en.DEFAULT_MAPPING=S0;en.DEFAULT_ANISOTROPY=1;class Ut{constructor(e=0,t=0,i=0,r=1){Ut.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],g=l[2],A=l[6],x=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-g)<.01&&Math.abs(y-A)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+g)<.1&&Math.abs(y+A)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,M=(m+1)/2,b=(x+1)/2,P=(d+p)/4,R=(h+g)/4,E=(y+A)/4;return S>M&&S>b?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=R/i):M>b?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=P/r,s=E/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=R/s,r=E/s),this.set(i,r,s,t),this}let _=Math.sqrt((A-y)*(A-y)+(h-g)*(h-g)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(A-y)/_,this.y=(h-g)/_,this.z=(p-d)/_,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Yr extends Ms{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new en(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:sn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class C0 extends en{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yn,this.minFilter=yn,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class w4 extends Yr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new C0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class pS extends en{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yn,this.minFilter=yn,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class M4 extends Yr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new pS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class C4 extends Yr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Zn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(h!==g||l!==p||u!==m||d!==y){let A=1-a;const x=l*p+u*m+d*y+h*g,_=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const b=Math.sqrt(S),P=Math.atan2(b,x*_);A=Math.sin(A*P)/b,a=Math.sin(a*P)/b}const M=a*_;if(l=l*A+p*M,u=u*A+m*M,d=d*A+y*M,h=h*A+g*M,A===1-a){const b=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=b,u*=b,d*=b,h*=b}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-u*p,e[t+1]=l*y+d*p+u*h-a*m,e[t+2]=u*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"YZX":this._x=p*d*h+u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h-p*m*y;break;case"XZY":this._x=p*d*h-u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+o*a+r*u-s*l,this._y=r*d+o*l+s*a-i*u,this._z=s*d+o*u+i*l-r*a,this._w=o*d-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ub.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ub.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Vv.copy(this).projectOnVector(e),this.sub(Vv)}reflect(e){return this.sub(Vv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Vv=new k,Ub=new Zn;class ma{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ra.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ra.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ra)}else i.boundingBox===null&&i.computeBoundingBox(),Wv.copy(i.boundingBox),Wv.applyMatrix4(e.matrixWorld),this.union(Wv);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ra),Ra.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(af),Vp.subVectors(this.max,af),Ql.subVectors(e.a,af),Zl.subVectors(e.b,af),ql.subVectors(e.c,af),bo.subVectors(Zl,Ql),Eo.subVectors(ql,Zl),La.subVectors(Ql,ql);let t=[0,-bo.z,bo.y,0,-Eo.z,Eo.y,0,-La.z,La.y,bo.z,0,-bo.x,Eo.z,0,-Eo.x,La.z,0,-La.x,-bo.y,bo.x,0,-Eo.y,Eo.x,0,-La.y,La.x,0];return!jv(t,Ql,Zl,ql,Vp)||(t=[1,0,0,0,1,0,0,0,1],!jv(t,Ql,Zl,ql,Vp))?!1:(Wp.crossVectors(bo,Eo),t=[Wp.x,Wp.y,Wp.z],jv(t,Ql,Zl,ql,Vp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ra.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ra).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ks=[new k,new k,new k,new k,new k,new k,new k,new k],Ra=new k,Wv=new ma,Ql=new k,Zl=new k,ql=new k,bo=new k,Eo=new k,La=new k,af=new k,Vp=new k,Wp=new k,Ia=new k;function jv(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ia.fromArray(n,s);const a=r.x*Math.abs(Ia.x)+r.y*Math.abs(Ia.y)+r.z*Math.abs(Ia.z),l=e.dot(Ia),u=t.dot(Ia),d=i.dot(Ia);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const b4=new ma,lf=new k,Jv=new k;class ga{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):b4.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lf.subVectors(e,this.center);const t=lf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(lf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Jv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lf.copy(e.center).add(Jv)),this.expandByPoint(lf.copy(e.center).sub(Jv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Os=new k,Xv=new k,jp=new k,To=new k,Kv=new k,Jp=new k,Yv=new k;class eh{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Os)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Os.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Os.copy(this.direction).multiplyScalar(t).add(this.origin),Os.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Xv.copy(e).add(t).multiplyScalar(.5),jp.copy(t).sub(e).normalize(),To.copy(this.origin).sub(Xv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(jp),a=To.dot(this.direction),l=-To.dot(jp),u=To.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const g=1/d;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(jp).multiplyScalar(p).add(Xv),m}intersectSphere(e,t){Os.subVectors(e.center,this.origin);const i=Os.dot(this.direction),r=Os.dot(Os)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Os)!==null}intersectTriangle(e,t,i,r,s){Kv.subVectors(t,e),Jp.subVectors(i,e),Yv.crossVectors(Kv,Jp);let o=this.direction.dot(Yv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;To.subVectors(this.origin,e);const l=a*this.direction.dot(Jp.crossVectors(To,Jp));if(l<0)return null;const u=a*this.direction.dot(Kv.cross(To));if(u<0||l+u>o)return null;const d=-a*To.dot(Yv);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rt{constructor(){rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,u,d,h,p,m,y,g,A){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=d,x[10]=h,x[14]=p,x[3]=m,x[7]=y,x[11]=g,x[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/$l.setFromMatrixColumn(e,0).length(),s=1/$l.setFromMatrixColumn(e,1).length(),o=1/$l.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+y*u,t[5]=p-g*u,t[9]=-a*l,t[2]=g-p*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=u*d,g=u*h;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=u*d,g=u*h;t[0]=p-g*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=g-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=y*u-m,t[8]=p*u+g,t[1]=l*h,t[5]=g*u+p,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*d,t[4]=g-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+y,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+g,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(E4,e,T4)}lookAt(e,t,i){const r=this.elements;return Hi.subVectors(e,t),Hi.lengthSq()===0&&(Hi.z=1),Hi.normalize(),Po.crossVectors(i,Hi),Po.lengthSq()===0&&(Math.abs(i.z)===1?Hi.x+=1e-4:Hi.z+=1e-4,Hi.normalize(),Po.crossVectors(i,Hi)),Po.normalize(),Xp.crossVectors(Hi,Po),r[0]=Po.x,r[4]=Xp.x,r[8]=Hi.x,r[1]=Po.y,r[5]=Xp.y,r[9]=Hi.y,r[2]=Po.z,r[6]=Xp.z,r[10]=Hi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],g=i[6],A=i[10],x=i[14],_=i[3],S=i[7],M=i[11],b=i[15],P=r[0],R=r[4],E=r[8],T=r[12],L=r[1],I=r[5],V=r[9],G=r[13],N=r[2],j=r[6],Y=r[10],$=r[14],F=r[3],W=r[7],X=r[11],te=r[15];return s[0]=o*P+a*L+l*N+u*F,s[4]=o*R+a*I+l*j+u*W,s[8]=o*E+a*V+l*Y+u*X,s[12]=o*T+a*G+l*$+u*te,s[1]=d*P+h*L+p*N+m*F,s[5]=d*R+h*I+p*j+m*W,s[9]=d*E+h*V+p*Y+m*X,s[13]=d*T+h*G+p*$+m*te,s[2]=y*P+g*L+A*N+x*F,s[6]=y*R+g*I+A*j+x*W,s[10]=y*E+g*V+A*Y+x*X,s[14]=y*T+g*G+A*$+x*te,s[3]=_*P+S*L+M*N+b*F,s[7]=_*R+S*I+M*j+b*W,s[11]=_*E+S*V+M*Y+b*X,s[15]=_*T+S*G+M*$+b*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],g=e[7],A=e[11],x=e[15];return y*(+s*l*h-r*u*h-s*a*p+i*u*p+r*a*m-i*l*m)+g*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*d-s*l*d)+A*(+t*u*h-t*a*m-s*o*h+i*o*m+s*a*d-i*u*d)+x*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],A=e[14],x=e[15],_=h*A*u-g*p*u+g*l*m-a*A*m-h*l*x+a*p*x,S=y*p*u-d*A*u-y*l*m+o*A*m+d*l*x-o*p*x,M=d*g*u-y*h*u+y*a*m-o*g*m-d*a*x+o*h*x,b=y*h*l-d*g*l-y*a*p+o*g*p+d*a*A-o*h*A,P=t*_+i*S+r*M+s*b;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(g*p*s-h*A*s-g*r*m+i*A*m+h*r*x-i*p*x)*R,e[2]=(a*A*s-g*l*s+g*r*u-i*A*u-a*r*x+i*l*x)*R,e[3]=(h*l*s-a*p*s-h*r*u+i*p*u+a*r*m-i*l*m)*R,e[4]=S*R,e[5]=(d*A*s-y*p*s+y*r*m-t*A*m-d*r*x+t*p*x)*R,e[6]=(y*l*s-o*A*s-y*r*u+t*A*u+o*r*x-t*l*x)*R,e[7]=(o*p*s-d*l*s+d*r*u-t*p*u-o*r*m+t*l*m)*R,e[8]=M*R,e[9]=(y*h*s-d*g*s-y*i*m+t*g*m+d*i*x-t*h*x)*R,e[10]=(o*g*s-y*a*s+y*i*u-t*g*u-o*i*x+t*a*x)*R,e[11]=(d*a*s-o*h*s-d*i*u+t*h*u+o*i*m-t*a*m)*R,e[12]=b*R,e[13]=(d*g*r-y*h*r+y*i*p-t*g*p-d*i*A+t*h*A)*R,e[14]=(y*a*r-o*g*r-y*i*l+t*g*l+o*i*A-t*a*A)*R,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,d*a+i,d*l-r*o,0,u*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,y=s*h,g=o*d,A=o*h,x=a*h,_=l*u,S=l*d,M=l*h,b=i.x,P=i.y,R=i.z;return r[0]=(1-(g+x))*b,r[1]=(m+M)*b,r[2]=(y-S)*b,r[3]=0,r[4]=(m-M)*P,r[5]=(1-(p+x))*P,r[6]=(A+_)*P,r[7]=0,r[8]=(y+S)*R,r[9]=(A-_)*R,r[10]=(1-(p+g))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=$l.set(r[0],r[1],r[2]).length();const o=$l.set(r[4],r[5],r[6]).length(),a=$l.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Fr.copy(this);const u=1/s,d=1/o,h=1/a;return Fr.elements[0]*=u,Fr.elements[1]*=u,Fr.elements[2]*=u,Fr.elements[4]*=d,Fr.elements[5]*=d,Fr.elements[6]*=d,Fr.elements[8]*=h,Fr.elements[9]*=h,Fr.elements[10]*=h,t.setFromRotationMatrix(Fr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),u=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*u,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const $l=new k,Fr=new rt,E4=new k(0,0,0),T4=new k(1,1,1),Po=new k,Xp=new k,Hi=new k,zb=new rt,Gb=new Zn;class Tl{constructor(e=0,t=0,i=0,r=Tl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Sn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Sn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Sn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Sn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Sn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return zb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zb,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Gb.setFromEuler(this),this.setFromQuaternion(Gb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Tl.DEFAULT_ORDER="XYZ";class pl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let P4=0;const Hb=new k,eu=new Zn,Ns=new rt,Kp=new k,uf=new k,B4=new k,R4=new Zn,Vb=new k(1,0,0),Wb=new k(0,1,0),jb=new k(0,0,1),L4={type:"added"},Jb={type:"removed"};class Pt extends Ms{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:P4++}),this.uuid=Qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pt.DEFAULT_UP.clone();const e=new k,t=new Tl,i=new Zn,r=new k(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new rt},normalMatrix:{value:new vi}}),this.matrix=new rt,this.matrixWorld=new rt,this.matrixAutoUpdate=Pt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new pl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return eu.setFromAxisAngle(e,t),this.quaternion.multiply(eu),this}rotateOnWorldAxis(e,t){return eu.setFromAxisAngle(e,t),this.quaternion.premultiply(eu),this}rotateX(e){return this.rotateOnAxis(Vb,e)}rotateY(e){return this.rotateOnAxis(Wb,e)}rotateZ(e){return this.rotateOnAxis(jb,e)}translateOnAxis(e,t){return Hb.copy(e).applyQuaternion(this.quaternion),this.position.add(Hb.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Vb,e)}translateY(e){return this.translateOnAxis(Wb,e)}translateZ(e){return this.translateOnAxis(jb,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ns.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Kp.copy(e):Kp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),uf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ns.lookAt(uf,Kp,this.up):Ns.lookAt(Kp,uf,this.up),this.quaternion.setFromRotationMatrix(Ns),r&&(Ns.extractRotation(r.matrixWorld),eu.setFromRotationMatrix(Ns),this.quaternion.premultiply(eu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(L4)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Jb)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Jb)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ns.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ns.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ns),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(uf,e,B4),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(uf,R4,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Pt.DEFAULT_UP=new k(0,1,0);Pt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const kr=new k,Us=new k,Qv=new k,zs=new k,tu=new k,nu=new k,Xb=new k,Zv=new k,qv=new k,$v=new k;class Sr{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),kr.subVectors(e,t),r.cross(kr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){kr.subVectors(r,t),Us.subVectors(i,t),Qv.subVectors(e,t);const o=kr.dot(kr),a=kr.dot(Us),l=kr.dot(Qv),u=Us.dot(Us),d=Us.dot(Qv),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,zs),zs.x>=0&&zs.y>=0&&zs.x+zs.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,zs),l.set(0,0),l.addScaledVector(s,zs.x),l.addScaledVector(o,zs.y),l.addScaledVector(a,zs.z),l}static isFrontFacing(e,t,i,r){return kr.subVectors(i,t),Us.subVectors(e,t),kr.cross(Us).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return kr.subVectors(this.c,this.b),Us.subVectors(this.a,this.b),kr.cross(Us).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Sr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Sr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Sr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Sr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Sr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;tu.subVectors(r,i),nu.subVectors(s,i),Zv.subVectors(e,i);const l=tu.dot(Zv),u=nu.dot(Zv);if(l<=0&&u<=0)return t.copy(i);qv.subVectors(e,r);const d=tu.dot(qv),h=nu.dot(qv);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(tu,o);$v.subVectors(e,s);const m=tu.dot($v),y=nu.dot($v);if(y>=0&&m<=y)return t.copy(s);const g=m*u-l*y;if(g<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(i).addScaledVector(nu,a);const A=d*y-m*h;if(A<=0&&h-d>=0&&m-y>=0)return Xb.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(Xb,a);const x=1/(A+g+p);return o=g*x,a=p*x,t.copy(i).addScaledVector(tu,o).addScaledVector(nu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let I4=0;class Bn extends Ms{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:I4++}),this.uuid=Qi(),this.name="",this.type="Material",this.blending=ul,this.side=_s,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=sS,this.blendDst=oS,this.blendEquation=Ya,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=kg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=eg,this.stencilZFail=eg,this.stencilZPass=eg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ul&&(i.blending=this.blending),this.side!==_s&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ki extends Bn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$d,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bn=new k,Yp=new me;class Ot{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ed,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Yp.fromBufferAttribute(this,t),Yp.applyMatrix3(e),this.setXY(t,Yp.x,Yp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix3(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix4(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyNormalMatrix(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.transformDirection(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array),s=Vt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ed&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class D4 extends Ot{constructor(e,t,i){super(new Int8Array(e),t,i)}}class F4 extends Ot{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class k4 extends Ot{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class O4 extends Ot{constructor(e,t,i){super(new Int16Array(e),t,i)}}class mS extends Ot{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class N4 extends Ot{constructor(e,t,i){super(new Int32Array(e),t,i)}}class gS extends Ot{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class U4 extends Ot{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class We extends Ot{constructor(e,t,i){super(new Float32Array(e),t,i)}}class z4 extends Ot{constructor(e,t,i){super(new Float64Array(e),t,i)}}let G4=0;const mr=new rt,ex=new Pt,iu=new k,Vi=new ma,cf=new ma,Vn=new k;class ut extends Ms{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:G4++}),this.uuid=Qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xR(e)?gS:mS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new vi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return mr.makeRotationFromQuaternion(e),this.applyMatrix4(mr),this}rotateX(e){return mr.makeRotationX(e),this.applyMatrix4(mr),this}rotateY(e){return mr.makeRotationY(e),this.applyMatrix4(mr),this}rotateZ(e){return mr.makeRotationZ(e),this.applyMatrix4(mr),this}translate(e,t,i){return mr.makeTranslation(e,t,i),this.applyMatrix4(mr),this}scale(e,t,i){return mr.makeScale(e,t,i),this.applyMatrix4(mr),this}lookAt(e){return ex.lookAt(e),ex.updateMatrix(),this.applyMatrix4(ex.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iu).negate(),this.translate(iu.x,iu.y,iu.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new We(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ma);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Vi.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ga);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];cf.setFromBufferAttribute(a),this.morphTargetsRelative?(Vn.addVectors(Vi.min,cf.min),Vi.expandByPoint(Vn),Vn.addVectors(Vi.max,cf.max),Vi.expandByPoint(Vn)):(Vi.expandByPoint(cf.min),Vi.expandByPoint(cf.max))}Vi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Vn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)Vn.fromBufferAttribute(a,u),l&&(iu.fromBufferAttribute(e,u),Vn.add(iu)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ot(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let L=0;L<a;L++)u[L]=new k,d[L]=new k;const h=new k,p=new k,m=new k,y=new me,g=new me,A=new me,x=new k,_=new k;function S(L,I,V){h.fromArray(r,L*3),p.fromArray(r,I*3),m.fromArray(r,V*3),y.fromArray(o,L*2),g.fromArray(o,I*2),A.fromArray(o,V*2),p.sub(h),m.sub(h),g.sub(y),A.sub(y);const G=1/(g.x*A.y-A.x*g.y);isFinite(G)&&(x.copy(p).multiplyScalar(A.y).addScaledVector(m,-g.y).multiplyScalar(G),_.copy(m).multiplyScalar(g.x).addScaledVector(p,-A.x).multiplyScalar(G),u[L].add(x),u[I].add(x),u[V].add(x),d[L].add(_),d[I].add(_),d[V].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let L=0,I=M.length;L<I;++L){const V=M[L],G=V.start,N=V.count;for(let j=G,Y=G+N;j<Y;j+=3)S(i[j+0],i[j+1],i[j+2])}const b=new k,P=new k,R=new k,E=new k;function T(L){R.fromArray(s,L*3),E.copy(R);const I=u[L];b.copy(I),b.sub(R.multiplyScalar(R.dot(I))).normalize(),P.crossVectors(E,I);const G=P.dot(d[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=G}for(let L=0,I=M.length;L<I;++L){const V=M[L],G=V.start,N=V.count;for(let j=G,Y=G+N;j<Y;j+=3)T(i[j+0]),T(i[j+1]),T(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ot(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new k,s=new k,o=new k,a=new k,l=new k,u=new k,d=new k,h=new k;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),A=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,A),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,g),u.fromBufferAttribute(i,A),a.add(d),l.add(d),u.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(A,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vn.fromBufferAttribute(e,t),Vn.normalize(),e.setXYZ(t,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,y=0;for(let g=0,A=l.length;g<A;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*d;for(let x=0;x<d;x++)p[y++]=u[m++]}return new Ot(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ut,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Kb=new rt,ru=new eh,tx=new ga,ff=new k,df=new k,hf=new k,nx=new k,Qp=new k,Zp=new me,qp=new me,$p=new me,ix=new k,em=new k;class Fn extends Pt{constructor(e=new ut,t=new Ki){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Qp.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],h=s[l];d!==0&&(nx.fromBufferAttribute(h,e),o?Qp.addScaledVector(nx,d):Qp.addScaledVector(nx.sub(t),d))}t.add(Qp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),tx.copy(i.boundingSphere),tx.applyMatrix4(s),e.ray.intersectsSphere(tx)===!1)||(Kb.copy(s).invert(),ru.copy(e.ray).applyMatrix4(Kb),i.boundingBox!==null&&ru.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,u=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const g=h[m],A=r[g.materialIndex],x=Math.max(g.start,p.start),_=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let S=x,M=_;S<M;S+=3){const b=a.getX(S),P=a.getX(S+1),R=a.getX(S+2);o=tm(this,A,e,ru,u,d,b,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let g=m,A=y;g<A;g+=3){const x=a.getX(g),_=a.getX(g+1),S=a.getX(g+2);o=tm(this,r,e,ru,u,d,x,_,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const g=h[m],A=r[g.materialIndex],x=Math.max(g.start,p.start),_=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let S=x,M=_;S<M;S+=3){const b=S,P=S+1,R=S+2;o=tm(this,A,e,ru,u,d,b,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let g=m,A=y;g<A;g+=3){const x=g,_=g+1,S=g+2;o=tm(this,r,e,ru,u,d,x,_,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function H4(n,e,t,i,r,s,o,a){let l;if(e.side===Fi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===_s,a),l===null)return null;em.copy(a),em.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(em);return u<t.near||u>t.far?null:{distance:u,point:em.clone(),object:n}}function tm(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,ff),n.getVertexPosition(a,df),n.getVertexPosition(l,hf);const u=H4(n,e,t,i,ff,df,hf,ix);if(u){r&&(Zp.fromBufferAttribute(r,o),qp.fromBufferAttribute(r,a),$p.fromBufferAttribute(r,l),u.uv=Sr.getUV(ix,ff,df,hf,Zp,qp,$p,new me)),s&&(Zp.fromBufferAttribute(s,o),qp.fromBufferAttribute(s,a),$p.fromBufferAttribute(s,l),u.uv2=Sr.getUV(ix,ff,df,hf,Zp,qp,$p,new me));const d={a:o,b:a,c:l,normal:new k,materialIndex:0};Sr.getNormal(ff,df,hf,d.normal),u.face=d}return u}class ya extends ut{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new We(u,3)),this.setAttribute("normal",new We(d,3)),this.setAttribute("uv",new We(h,2));function y(g,A,x,_,S,M,b,P,R,E,T){const L=M/R,I=b/E,V=M/2,G=b/2,N=P/2,j=R+1,Y=E+1;let $=0,F=0;const W=new k;for(let X=0;X<Y;X++){const te=X*I-G;for(let K=0;K<j;K++){const oe=K*L-V;W[g]=oe*_,W[A]=te*S,W[x]=N,u.push(W.x,W.y,W.z),W[g]=0,W[A]=0,W[x]=P>0?1:-1,d.push(W.x,W.y,W.z),h.push(K/R),h.push(1-X/E),$+=1}}for(let X=0;X<E;X++)for(let te=0;te<R;te++){const K=p+te+j*X,oe=p+te+j*(X+1),xe=p+(te+1)+j*(X+1),re=p+(te+1)+j*X;l.push(K,oe,re),l.push(oe,xe,re),F+=6}a.addGroup(m,F,T),m+=F,p+=$}}static fromJSON(e){return new ya(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function lc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function mi(n){const e={};for(let t=0;t<n.length;t++){const i=lc(n[t]);for(const r in i)e[r]=i[r]}return e}function V4(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function _R(n){return n.getRenderTarget()===null&&n.outputEncoding===bt?Ur:ac}const SR={clone:lc,merge:mi};var W4=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,j4=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends Bn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=W4,this.fragmentShader=j4,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lc(e.uniforms),this.uniformsGroups=V4(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class th extends Pt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new rt,this.projectionMatrix=new rt,this.projectionMatrixInverse=new rt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Wt extends th{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Td*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Td*2*Math.atan(Math.tan(dl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const su=-90,ou=1;class yS extends Pt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Wt(su,ou,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Wt(su,ou,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Wt(su,ou,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Wt(su,ou,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Wt(su,ou,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Wt(su,ou,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,u]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=jr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class nh extends en{constructor(e,t,i,r,s,o,a,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:sa,super(e,t,i,r,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class vS extends Yr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new nh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:sn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ya(5,5,5),s=new ws({name:"CubemapFromEquirect",uniforms:lc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Fi,blending:to});s.uniforms.tEquirect.value=t;const o=new Fn(r,s),a=t.minFilter;return t.minFilter===Ss&&(t.minFilter=sn),new yS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const rx=new k,J4=new k,X4=new vi;class Oo{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=rx.subVectors(i,t).cross(J4.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(rx),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||X4.getNormalMatrix(e),r=this.coplanarPoint(rx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const au=new ga,nm=new k;class b0{constructor(e=new Oo,t=new Oo,i=new Oo,r=new Oo,s=new Oo,o=new Oo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],g=i[11],A=i[12],x=i[13],_=i[14],S=i[15];return t[0].setComponents(a-r,h-l,g-p,S-A).normalize(),t[1].setComponents(a+r,h+l,g+p,S+A).normalize(),t[2].setComponents(a+s,h+u,g+m,S+x).normalize(),t[3].setComponents(a-s,h-u,g-m,S-x).normalize(),t[4].setComponents(a-o,h-d,g-y,S-_).normalize(),t[5].setComponents(a+o,h+d,g+y,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),au.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(au)}intersectsSprite(e){return au.center.set(0,0,0),au.radius=.7071067811865476,au.applyMatrix4(e.matrixWorld),this.intersectsSphere(au)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(nm.x=r.normal.x>0?e.max.x:e.min.x,nm.y=r.normal.y>0?e.max.y:e.min.y,nm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(nm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wR(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function K4(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,d){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d&&(n.deleteBuffer(d.buffer),i.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h===void 0?i.set(u,r(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:o,remove:a,update:l}}class wc extends ut{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],g=[],A=[];for(let x=0;x<d;x++){const _=x*p-o;for(let S=0;S<u;S++){const M=S*h-s;y.push(M,-_,0),g.push(0,0,1),A.push(S/a),A.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const S=_+u*x,M=_+u*(x+1),b=_+1+u*(x+1),P=_+1+u*x;m.push(S,M,P),m.push(M,b,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(g,3)),this.setAttribute("uv",new We(A,2))}static fromJSON(e){return new wc(e.width,e.height,e.widthSegments,e.heightSegments)}}var Y4=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Q4=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z4=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,q4=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$4=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tU="vec3 transformed = vec3( position );",nU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iU=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,rU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,aU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,cU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,mU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,AU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_U="gl_FragColor = linearToOutputTexel( gl_FragColor );",SU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,CU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,EU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,TU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,BU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,RU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,LU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,IU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,DU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,FU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,OU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,UU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,HU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,VU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,WU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,JU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,KU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,YU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ZU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,qU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,$U=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ez=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,iz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rz=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sz=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,oz=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,az=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,lz=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,uz=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dz=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hz=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,pz=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,mz=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,gz=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,yz=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vz=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,xz=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Az=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_z=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Sz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Mz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Cz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bz=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ez=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Tz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Pz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Bz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Rz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Lz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Iz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Dz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Fz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Oz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Nz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Uz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,zz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Gz=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Hz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Vz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Wz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,jz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Jz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Xz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Kz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Zz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$z=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,e5=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,t5=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,n5=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,i5=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,r5=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,s5=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,o5=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,a5=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,l5=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u5=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c5=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f5=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,d5=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h5=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,p5=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,m5=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,g5=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,v5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x5=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A5=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_5=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,S5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,w5=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,M5=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,C5=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,b5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,pt={alphamap_fragment:Y4,alphamap_pars_fragment:Q4,alphatest_fragment:Z4,alphatest_pars_fragment:q4,aomap_fragment:$4,aomap_pars_fragment:eU,begin_vertex:tU,beginnormal_vertex:nU,bsdfs:iU,iridescence_fragment:rU,bumpmap_pars_fragment:sU,clipping_planes_fragment:oU,clipping_planes_pars_fragment:aU,clipping_planes_pars_vertex:lU,clipping_planes_vertex:uU,color_fragment:cU,color_pars_fragment:fU,color_pars_vertex:dU,color_vertex:hU,common:pU,cube_uv_reflection_fragment:mU,defaultnormal_vertex:gU,displacementmap_pars_vertex:yU,displacementmap_vertex:vU,emissivemap_fragment:xU,emissivemap_pars_fragment:AU,encodings_fragment:_U,encodings_pars_fragment:SU,envmap_fragment:wU,envmap_common_pars_fragment:MU,envmap_pars_fragment:CU,envmap_pars_vertex:bU,envmap_physical_pars_fragment:NU,envmap_vertex:EU,fog_vertex:TU,fog_pars_vertex:PU,fog_fragment:BU,fog_pars_fragment:RU,gradientmap_pars_fragment:LU,lightmap_fragment:IU,lightmap_pars_fragment:DU,lights_lambert_fragment:FU,lights_lambert_pars_fragment:kU,lights_pars_begin:OU,lights_toon_fragment:UU,lights_toon_pars_fragment:zU,lights_phong_fragment:GU,lights_phong_pars_fragment:HU,lights_physical_fragment:VU,lights_physical_pars_fragment:WU,lights_fragment_begin:jU,lights_fragment_maps:JU,lights_fragment_end:XU,logdepthbuf_fragment:KU,logdepthbuf_pars_fragment:YU,logdepthbuf_pars_vertex:QU,logdepthbuf_vertex:ZU,map_fragment:qU,map_pars_fragment:$U,map_particle_fragment:ez,map_particle_pars_fragment:tz,metalnessmap_fragment:nz,metalnessmap_pars_fragment:iz,morphcolor_vertex:rz,morphnormal_vertex:sz,morphtarget_pars_vertex:oz,morphtarget_vertex:az,normal_fragment_begin:lz,normal_fragment_maps:uz,normal_pars_fragment:cz,normal_pars_vertex:fz,normal_vertex:dz,normalmap_pars_fragment:hz,clearcoat_normal_fragment_begin:pz,clearcoat_normal_fragment_maps:mz,clearcoat_pars_fragment:gz,iridescence_pars_fragment:yz,output_fragment:vz,packing:xz,premultiplied_alpha_fragment:Az,project_vertex:_z,dithering_fragment:Sz,dithering_pars_fragment:wz,roughnessmap_fragment:Mz,roughnessmap_pars_fragment:Cz,shadowmap_pars_fragment:bz,shadowmap_pars_vertex:Ez,shadowmap_vertex:Tz,shadowmask_pars_fragment:Pz,skinbase_vertex:Bz,skinning_pars_vertex:Rz,skinning_vertex:Lz,skinnormal_vertex:Iz,specularmap_fragment:Dz,specularmap_pars_fragment:Fz,tonemapping_fragment:kz,tonemapping_pars_fragment:Oz,transmission_fragment:Nz,transmission_pars_fragment:Uz,uv_pars_fragment:zz,uv_pars_vertex:Gz,uv_vertex:Hz,uv2_pars_fragment:Vz,uv2_pars_vertex:Wz,uv2_vertex:jz,worldpos_vertex:Jz,background_vert:Xz,background_frag:Kz,backgroundCube_vert:Yz,backgroundCube_frag:Qz,cube_vert:Zz,cube_frag:qz,depth_vert:$z,depth_frag:e5,distanceRGBA_vert:t5,distanceRGBA_frag:n5,equirect_vert:i5,equirect_frag:r5,linedashed_vert:s5,linedashed_frag:o5,meshbasic_vert:a5,meshbasic_frag:l5,meshlambert_vert:u5,meshlambert_frag:c5,meshmatcap_vert:f5,meshmatcap_frag:d5,meshnormal_vert:h5,meshnormal_frag:p5,meshphong_vert:m5,meshphong_frag:g5,meshphysical_vert:y5,meshphysical_frag:v5,meshtoon_vert:x5,meshtoon_frag:A5,points_vert:_5,points_frag:S5,shadow_vert:w5,shadow_frag:M5,sprite_vert:C5,sprite_frag:b5},Ie={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi},uv2Transform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new me(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new me(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}}},Gr={basic:{uniforms:mi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.fog]),vertexShader:pt.meshbasic_vert,fragmentShader:pt.meshbasic_frag},lambert:{uniforms:mi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)}}]),vertexShader:pt.meshlambert_vert,fragmentShader:pt.meshlambert_frag},phong:{uniforms:mi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:pt.meshphong_vert,fragmentShader:pt.meshphong_frag},standard:{uniforms:mi([Ie.common,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.roughnessmap,Ie.metalnessmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag},toon:{uniforms:mi([Ie.common,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.gradientmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)}}]),vertexShader:pt.meshtoon_vert,fragmentShader:pt.meshtoon_frag},matcap:{uniforms:mi([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,{matcap:{value:null}}]),vertexShader:pt.meshmatcap_vert,fragmentShader:pt.meshmatcap_frag},points:{uniforms:mi([Ie.points,Ie.fog]),vertexShader:pt.points_vert,fragmentShader:pt.points_frag},dashed:{uniforms:mi([Ie.common,Ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pt.linedashed_vert,fragmentShader:pt.linedashed_frag},depth:{uniforms:mi([Ie.common,Ie.displacementmap]),vertexShader:pt.depth_vert,fragmentShader:pt.depth_frag},normal:{uniforms:mi([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,{opacity:{value:1}}]),vertexShader:pt.meshnormal_vert,fragmentShader:pt.meshnormal_frag},sprite:{uniforms:mi([Ie.sprite,Ie.fog]),vertexShader:pt.sprite_vert,fragmentShader:pt.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pt.background_vert,fragmentShader:pt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:pt.backgroundCube_vert,fragmentShader:pt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pt.cube_vert,fragmentShader:pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pt.equirect_vert,fragmentShader:pt.equirect_frag},distanceRGBA:{uniforms:mi([Ie.common,Ie.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pt.distanceRGBA_vert,fragmentShader:pt.distanceRGBA_frag},shadow:{uniforms:mi([Ie.lights,Ie.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:pt.shadow_vert,fragmentShader:pt.shadow_frag}};Gr.physical={uniforms:mi([Gr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new me(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag};const im={r:0,b:0,g:0};function E5(n,e,t,i,r,s,o){const a=new De(0);let l=s===!0?0:1,u,d,h=null,p=0,m=null;function y(A,x){let _=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S));const M=n.xr,b=M.getSession&&M.getSession();b&&b.environmentBlendMode==="additive"&&(S=null),S===null?g(a,l):S&&S.isColor&&(g(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Sc)?(d===void 0&&(d=new Fn(new ya(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:lc(Gr.backgroundCube.uniforms),vertexShader:Gr.backgroundCube.vertexShader,fragmentShader:Gr.backgroundCube.fragmentShader,side:Fi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.toneMapped=S.encoding!==bt,(h!==S||p!==S.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Fn(new wc(2,2),new ws({name:"BackgroundMaterial",uniforms:lc(Gr.background.uniforms),vertexShader:Gr.background.vertexShader,fragmentShader:Gr.background.fragmentShader,side:_s,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=S.encoding!==bt,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function g(A,x){A.getRGB(im,_R(n)),i.buffers.color.setClear(im.r,im.g,im.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(A,x=1){a.set(A),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,g(a,l)},render:y}}function T5(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let u=l,d=!1;function h(N,j,Y,$,F){let W=!1;if(o){const X=g($,Y,j);u!==X&&(u=X,m(u.object)),W=x(N,$,Y,F),W&&_(N,$,Y,F)}else{const X=j.wireframe===!0;(u.geometry!==$.id||u.program!==Y.id||u.wireframe!==X)&&(u.geometry=$.id,u.program=Y.id,u.wireframe=X,W=!0)}F!==null&&t.update(F,34963),(W||d)&&(d=!1,E(N,j,Y,$),F!==null&&n.bindBuffer(34963,t.get(F).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return i.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function y(N){return i.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function g(N,j,Y){const $=Y.wireframe===!0;let F=a[N.id];F===void 0&&(F={},a[N.id]=F);let W=F[j.id];W===void 0&&(W={},F[j.id]=W);let X=W[$];return X===void 0&&(X=A(p()),W[$]=X),X}function A(N){const j=[],Y=[],$=[];for(let F=0;F<r;F++)j[F]=0,Y[F]=0,$[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:Y,attributeDivisors:$,object:N,attributes:{},index:null}}function x(N,j,Y,$){const F=u.attributes,W=j.attributes;let X=0;const te=Y.getAttributes();for(const K in te)if(te[K].location>=0){const xe=F[K];let re=W[K];if(re===void 0&&(K==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),K==="instanceColor"&&N.instanceColor&&(re=N.instanceColor)),xe===void 0||xe.attribute!==re||re&&xe.data!==re.data)return!0;X++}return u.attributesNum!==X||u.index!==$}function _(N,j,Y,$){const F={},W=j.attributes;let X=0;const te=Y.getAttributes();for(const K in te)if(te[K].location>=0){let xe=W[K];xe===void 0&&(K==="instanceMatrix"&&N.instanceMatrix&&(xe=N.instanceMatrix),K==="instanceColor"&&N.instanceColor&&(xe=N.instanceColor));const re={};re.attribute=xe,xe&&xe.data&&(re.data=xe.data),F[K]=re,X++}u.attributes=F,u.attributesNum=X,u.index=$}function S(){const N=u.newAttributes;for(let j=0,Y=N.length;j<Y;j++)N[j]=0}function M(N){b(N,0)}function b(N,j){const Y=u.newAttributes,$=u.enabledAttributes,F=u.attributeDivisors;Y[N]=1,$[N]===0&&(n.enableVertexAttribArray(N),$[N]=1),F[N]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,j),F[N]=j)}function P(){const N=u.newAttributes,j=u.enabledAttributes;for(let Y=0,$=j.length;Y<$;Y++)j[Y]!==N[Y]&&(n.disableVertexAttribArray(Y),j[Y]=0)}function R(N,j,Y,$,F,W){i.isWebGL2===!0&&(Y===5124||Y===5125)?n.vertexAttribIPointer(N,j,Y,F,W):n.vertexAttribPointer(N,j,Y,$,F,W)}function E(N,j,Y,$){if(i.isWebGL2===!1&&(N.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const F=$.attributes,W=Y.getAttributes(),X=j.defaultAttributeValues;for(const te in W){const K=W[te];if(K.location>=0){let oe=F[te];if(oe===void 0&&(te==="instanceMatrix"&&N.instanceMatrix&&(oe=N.instanceMatrix),te==="instanceColor"&&N.instanceColor&&(oe=N.instanceColor)),oe!==void 0){const xe=oe.normalized,re=oe.itemSize,ee=t.get(oe);if(ee===void 0)continue;const Be=ee.buffer,Re=ee.type,Ne=ee.bytesPerElement;if(oe.isInterleavedBufferAttribute){const _e=oe.data,Fe=_e.stride,he=oe.offset;if(_e.isInstancedInterleavedBuffer){for(let le=0;le<K.locationSize;le++)b(K.location+le,_e.meshPerAttribute);N.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let le=0;le<K.locationSize;le++)M(K.location+le);n.bindBuffer(34962,Be);for(let le=0;le<K.locationSize;le++)R(K.location+le,re/K.locationSize,Re,xe,Fe*Ne,(he+re/K.locationSize*le)*Ne)}else{if(oe.isInstancedBufferAttribute){for(let _e=0;_e<K.locationSize;_e++)b(K.location+_e,oe.meshPerAttribute);N.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let _e=0;_e<K.locationSize;_e++)M(K.location+_e);n.bindBuffer(34962,Be);for(let _e=0;_e<K.locationSize;_e++)R(K.location+_e,re/K.locationSize,Re,xe,re*Ne,re/K.locationSize*_e*Ne)}}else if(X!==void 0){const xe=X[te];if(xe!==void 0)switch(xe.length){case 2:n.vertexAttrib2fv(K.location,xe);break;case 3:n.vertexAttrib3fv(K.location,xe);break;case 4:n.vertexAttrib4fv(K.location,xe);break;default:n.vertexAttrib1fv(K.location,xe)}}}}P()}function T(){V();for(const N in a){const j=a[N];for(const Y in j){const $=j[Y];for(const F in $)y($[F].object),delete $[F];delete j[Y]}delete a[N]}}function L(N){if(a[N.id]===void 0)return;const j=a[N.id];for(const Y in j){const $=j[Y];for(const F in $)y($[F].object),delete $[F];delete j[Y]}delete a[N.id]}function I(N){for(const j in a){const Y=a[j];if(Y[N.id]===void 0)continue;const $=Y[N.id];for(const F in $)y($[F].object),delete $[F];delete Y[N.id]}}function V(){G(),d=!0,u!==l&&(u=l,m(u.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:V,resetDefaultState:G,dispose:T,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function P5(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,d){n.drawArrays(s,u,d),t.update(d,s,1)}function l(u,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function B5(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),A=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),b=S&&M,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:A,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:b,maxSamples:P}}function R5(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Oo,a=new vi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,g=h.clipIntersection,A=h.clipShadows,x=n.get(h);if(!r||y===null||y.length===0||s&&!A)s?d(null):u();else{const _=s?0:i,S=_*4;let M=x.clippingState||null;l.value=M,M=d(y,p,S,m);for(let b=0;b!==S;++b)M[b]=t[b];x.clippingState=M,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const g=h!==null?h.length:0;let A=null;if(g!==0){if(A=l.value,y!==!0||A===null){const x=m+g*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(A===null||A.length<x)&&(A=new Float32Array(x));for(let S=0,M=m;S!==g;++S,M+=4)o.copy(h[S]).applyMatrix4(_,a),o.normal.toArray(A,M),A[M+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,A}}function L5(n){let e=new WeakMap;function t(o,a){return a===wd?o.mapping=sa:a===Md&&(o.mapping=oa),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===wd||a===Md)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new vS(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Jr extends th{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Du=4,Yb=[.125,.215,.35,.446,.526,.582],Qa=20,sx=new Jr,Qb=new De;let ox=null;const ja=(1+Math.sqrt(5))/2,lu=1/ja,Zb=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,ja,lu),new k(0,ja,-lu),new k(lu,0,ja),new k(-lu,0,ja),new k(ja,lu,0),new k(-ja,lu,0)];class yA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){ox=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$b(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ox),e.scissorTest=!1,rm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===sa||e.mapping===oa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ox=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:sn,minFilter:sn,generateMipmaps:!1,type:sc,format:Bi,encoding:uo,depthBuffer:!1},r=qb(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qb(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=I5(s)),this._blurMaterial=D5(s,e,t)}return r}_compileMaterial(e){const t=new Fn(this._lodPlanes[0],e);this._renderer.compile(t,sx)}_sceneToCubeUV(e,t,i,r){const a=new Wt(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(Qb),d.toneMapping=jr,d.autoClear=!1;const m=new Ki({name:"PMREM.Background",side:Fi,depthWrite:!1,depthTest:!1}),y=new Fn(new ya,m);let g=!1;const A=e.background;A?A.isColor&&(m.color.copy(A),e.background=null,g=!0):(m.color.copy(Qb),g=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const S=this._cubeSize;rm(r,_*S,x>2?S:0,S,S),d.setRenderTarget(r),g&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===sa||e.mapping===oa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=eE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$b());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Fn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;rm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,sx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Zb[(r-1)%Zb.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Fn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Qa-1),g=s/y,A=isFinite(s)?1+Math.floor(d*g):Qa;A>Qa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Qa}`);const x=[];let _=0;for(let R=0;R<Qa;++R){const E=R/g,T=Math.exp(-E*E/2);x.push(T),R===0?_+=T:R<A&&(_+=2*T)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const M=this._sizeLods[r],b=3*M*(r>S-Du?r-S+Du:0),P=4*(this._cubeSize-M);rm(t,b,P,3*M,2*M),l.setRenderTarget(t),l.render(h,sx)}}function I5(n){const e=[],t=[],i=[];let r=n;const s=n-Du+1+Yb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Du?l=Yb[o-n+Du-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),d=-u,h=1+u,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,g=3,A=2,x=1,_=new Float32Array(g*y*m),S=new Float32Array(A*y*m),M=new Float32Array(x*y*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,E=P>2?0:-1,T=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];_.set(T,g*y*P),S.set(p,A*y*P);const L=[P,P,P,P,P,P];M.set(L,x*y*P)}const b=new ut;b.setAttribute("position",new Ot(_,g)),b.setAttribute("uv",new Ot(S,A)),b.setAttribute("faceIndex",new Ot(M,x)),e.push(b),r>Du&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function qb(n,e,t){const i=new Yr(n,e,t);return i.texture.mapping=Sc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function D5(n,e,t){const i=new Float32Array(Qa),r=new k(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:Qa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function $b(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function eE(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function xS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function F5(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===wd||l===Md,d=l===sa||l===oa;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new yA(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new yA(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function k5(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function O5(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const g=m[y];for(let A=0,x=g.length;A<x;A++)e.update(g[A],34962)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let g=0;if(m!==null){const _=m.array;g=m.version;for(let S=0,M=_.length;S<M;S+=3){const b=_[S+0],P=_[S+1],R=_[S+2];p.push(b,P,P,R,R,b)}}else{const _=y.array;g=y.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const b=S+0,P=S+1,R=S+2;p.push(b,P,P,R,R,b)}}const A=new(xR(p)?gS:mS)(p,1);A.version=g;const x=s.get(h);x&&e.remove(x),s.set(h,A)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function N5(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let g,A;if(r)g=n,A="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[A](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=h}function U5(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function z5(n,e){return n[0]-e[0]}function G5(n,e){return Math.abs(e[1])-Math.abs(n[1])}function H5(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ut,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,A=g!==void 0?g.length:0;let x=s.get(d);if(x===void 0||x.count!==A){let Y=function(){N.dispose(),s.delete(d),d.removeEventListener("dispose",Y)};var y=Y;x!==void 0&&x.texture.dispose();const M=d.morphAttributes.position!==void 0,b=d.morphAttributes.normal!==void 0,P=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],E=d.morphAttributes.normal||[],T=d.morphAttributes.color||[];let L=0;M===!0&&(L=1),b===!0&&(L=2),P===!0&&(L=3);let I=d.attributes.position.count*L,V=1;I>e.maxTextureSize&&(V=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const G=new Float32Array(I*V*4*A),N=new C0(G,I,V,A);N.type=Qs,N.needsUpdate=!0;const j=L*4;for(let $=0;$<A;$++){const F=R[$],W=E[$],X=T[$],te=I*V*4*$;for(let K=0;K<F.count;K++){const oe=K*j;M===!0&&(o.fromBufferAttribute(F,K),G[te+oe+0]=o.x,G[te+oe+1]=o.y,G[te+oe+2]=o.z,G[te+oe+3]=0),b===!0&&(o.fromBufferAttribute(W,K),G[te+oe+4]=o.x,G[te+oe+5]=o.y,G[te+oe+6]=o.z,G[te+oe+7]=0),P===!0&&(o.fromBufferAttribute(X,K),G[te+oe+8]=o.x,G[te+oe+9]=o.y,G[te+oe+10]=o.z,G[te+oe+11]=X.itemSize===4?o.w:1)}}x={count:A,texture:N,size:new me(I,V)},s.set(d,x),d.addEventListener("dispose",Y)}let _=0;for(let M=0;M<m.length;M++)_+=m[M];const S=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const g=m===void 0?0:m.length;let A=i[d.id];if(A===void 0||A.length!==g){A=[];for(let b=0;b<g;b++)A[b]=[b,0];i[d.id]=A}for(let b=0;b<g;b++){const P=A[b];P[0]=b,P[1]=m[b]}A.sort(G5);for(let b=0;b<8;b++)b<g&&A[b][1]?(a[b][0]=A[b][0],a[b][1]=A[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(z5);const x=d.morphAttributes.position,_=d.morphAttributes.normal;let S=0;for(let b=0;b<8;b++){const P=a[b],R=P[0],E=P[1];R!==Number.MAX_SAFE_INTEGER&&E?(x&&d.getAttribute("morphTarget"+b)!==x[R]&&d.setAttribute("morphTarget"+b,x[R]),_&&d.getAttribute("morphNormal"+b)!==_[R]&&d.setAttribute("morphNormal"+b,_[R]),r[b]=E,S+=E):(x&&d.hasAttribute("morphTarget"+b)===!0&&d.deleteAttribute("morphTarget"+b),_&&d.hasAttribute("morphNormal"+b)===!0&&d.deleteAttribute("morphNormal"+b),r[b]=0)}const M=d.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function V5(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==u&&(e.update(h),r.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const MR=new en,CR=new C0,bR=new pS,ER=new nh,tE=[],nE=[],iE=new Float32Array(16),rE=new Float32Array(9),sE=new Float32Array(4);function Mc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=tE[r];if(s===void 0&&(s=new Float32Array(r),tE[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function kn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function On(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function E0(n,e){let t=nE[e];t===void 0&&(t=new Int32Array(e),nE[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function W5(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function j5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2fv(this.addr,e),On(t,e)}}function J5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kn(t,e))return;n.uniform3fv(this.addr,e),On(t,e)}}function X5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4fv(this.addr,e),On(t,e)}}function K5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;sE.set(i),n.uniformMatrix2fv(this.addr,!1,sE),On(t,i)}}function Y5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;rE.set(i),n.uniformMatrix3fv(this.addr,!1,rE),On(t,i)}}function Q5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;iE.set(i),n.uniformMatrix4fv(this.addr,!1,iE),On(t,i)}}function Z5(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function q5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2iv(this.addr,e),On(t,e)}}function $5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3iv(this.addr,e),On(t,e)}}function eG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4iv(this.addr,e),On(t,e)}}function tG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function nG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2uiv(this.addr,e),On(t,e)}}function iG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3uiv(this.addr,e),On(t,e)}}function rG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4uiv(this.addr,e),On(t,e)}}function sG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||MR,r)}function oG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||bR,r)}function aG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||ER,r)}function lG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||CR,r)}function uG(n){switch(n){case 5126:return W5;case 35664:return j5;case 35665:return J5;case 35666:return X5;case 35674:return K5;case 35675:return Y5;case 35676:return Q5;case 5124:case 35670:return Z5;case 35667:case 35671:return q5;case 35668:case 35672:return $5;case 35669:case 35673:return eG;case 5125:return tG;case 36294:return nG;case 36295:return iG;case 36296:return rG;case 35678:case 36198:case 36298:case 36306:case 35682:return sG;case 35679:case 36299:case 36307:return oG;case 35680:case 36300:case 36308:case 36293:return aG;case 36289:case 36303:case 36311:case 36292:return lG}}function cG(n,e){n.uniform1fv(this.addr,e)}function fG(n,e){const t=Mc(e,this.size,2);n.uniform2fv(this.addr,t)}function dG(n,e){const t=Mc(e,this.size,3);n.uniform3fv(this.addr,t)}function hG(n,e){const t=Mc(e,this.size,4);n.uniform4fv(this.addr,t)}function pG(n,e){const t=Mc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function mG(n,e){const t=Mc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function gG(n,e){const t=Mc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function yG(n,e){n.uniform1iv(this.addr,e)}function vG(n,e){n.uniform2iv(this.addr,e)}function xG(n,e){n.uniform3iv(this.addr,e)}function AG(n,e){n.uniform4iv(this.addr,e)}function _G(n,e){n.uniform1uiv(this.addr,e)}function SG(n,e){n.uniform2uiv(this.addr,e)}function wG(n,e){n.uniform3uiv(this.addr,e)}function MG(n,e){n.uniform4uiv(this.addr,e)}function CG(n,e,t){const i=this.cache,r=e.length,s=E0(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||MR,s[o])}function bG(n,e,t){const i=this.cache,r=e.length,s=E0(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||bR,s[o])}function EG(n,e,t){const i=this.cache,r=e.length,s=E0(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||ER,s[o])}function TG(n,e,t){const i=this.cache,r=e.length,s=E0(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||CR,s[o])}function PG(n){switch(n){case 5126:return cG;case 35664:return fG;case 35665:return dG;case 35666:return hG;case 35674:return pG;case 35675:return mG;case 35676:return gG;case 5124:case 35670:return yG;case 35667:case 35671:return vG;case 35668:case 35672:return xG;case 35669:case 35673:return AG;case 5125:return _G;case 36294:return SG;case 36295:return wG;case 36296:return MG;case 35678:case 36198:case 36298:case 36306:case 35682:return CG;case 35679:case 36299:case 36307:return bG;case 35680:case 36300:case 36308:case 36293:return EG;case 36289:case 36303:case 36311:case 36292:return TG}}class BG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=uG(t.type)}}class RG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=PG(t.type)}}class LG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const ax=/(\w+)(\])?(\[|\.)?/g;function oE(n,e){n.seq.push(e),n.map[e.id]=e}function IG(n,e,t){const i=n.name,r=i.length;for(ax.lastIndex=0;;){const s=ax.exec(i),o=ax.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){oE(t,u===void 0?new BG(a,n,e):new RG(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new LG(a),oE(t,h)),t=h}}}class ng{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);IG(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function aE(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let DG=0;function FG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function kG(n){switch(n){case uo:return["Linear","( value )"];case bt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function lE(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+FG(n.getShaderSource(e),o)}else return r}function OG(n,e){const t=kG(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function NG(n,e){let t;switch(e){case j3:t="Linear";break;case J3:t="Reinhard";break;case X3:t="OptimizedCineon";break;case aS:t="ACESFilmic";break;case K3:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function UG(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ff).join(`
`)}function zG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function GG(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Ff(n){return n!==""}function uE(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function cE(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const HG=/^[ \t]*#include +<([\w\d./]+)>/gm;function vA(n){return n.replace(HG,VG)}function VG(n,e){const t=pt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return vA(t)}const WG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fE(n){return n.replace(WG,jG)}function jG(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function dE(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tl&&(e="SHADOWMAP_TYPE_VSM"),e}function XG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case sa:case oa:e="ENVMAP_TYPE_CUBE";break;case Sc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function KG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case oa:e="ENVMAP_MODE_REFRACTION";break}return e}function YG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $d:e="ENVMAP_BLENDING_MULTIPLY";break;case V3:e="ENVMAP_BLENDING_MIX";break;case W3:e="ENVMAP_BLENDING_ADD";break}return e}function QG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function ZG(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=JG(t),u=XG(t),d=KG(t),h=YG(t),p=QG(t),m=t.isWebGL2?"":UG(t),y=zG(s),g=r.createProgram();let A,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=[y].filter(Ff).join(`
`),A.length>0&&(A+=`
`),x=[m,y].filter(Ff).join(`
`),x.length>0&&(x+=`
`)):(A=[dE(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ff).join(`
`),x=[m,dE(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==jr?"#define TONE_MAPPING":"",t.toneMapping!==jr?pt.tonemapping_pars_fragment:"",t.toneMapping!==jr?NG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pt.encodings_pars_fragment,OG("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ff).join(`
`)),o=vA(o),o=uE(o,t),o=cE(o,t),a=vA(a),a=uE(a,t),a=cE(a,t),o=fE(o),a=fE(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,x=["#define varying in",t.glslVersion===mA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===mA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=_+A+o,M=_+x+a,b=aE(r,35633,S),P=aE(r,35632,M);if(r.attachShader(g,b),r.attachShader(g,P),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const T=r.getProgramInfoLog(g).trim(),L=r.getShaderInfoLog(b).trim(),I=r.getShaderInfoLog(P).trim();let V=!0,G=!0;if(r.getProgramParameter(g,35714)===!1){V=!1;const N=lE(r,b,"vertex"),j=lE(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+T+`
`+N+`
`+j)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(L===""||I==="")&&(G=!1);G&&(this.diagnostics={runnable:V,programLog:T,vertexShader:{log:L,prefix:A},fragmentShader:{log:I,prefix:x}})}r.deleteShader(b),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new ng(r,g)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=GG(r,g)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=DG++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=b,this.fragmentShader=P,this}let qG=0;class $G{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new eH(e),t.set(e,i)),i}}class eH{constructor(e){this.id=qG++,this.code=e,this.usedTimes=0}}function tH(n,e,t,i,r,s,o){const a=new pl,l=new $G,u=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(E,T,L,I,V){const G=I.fog,N=V.geometry,j=E.isMeshStandardMaterial?I.environment:null,Y=(E.isMeshStandardMaterial?t:e).get(E.envMap||j),$=Y&&Y.mapping===Sc?Y.image.height:null,F=y[E.type];E.precision!==null&&(m=r.getMaxPrecision(E.precision),m!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));const W=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,X=W!==void 0?W.length:0;let te=0;N.morphAttributes.position!==void 0&&(te=1),N.morphAttributes.normal!==void 0&&(te=2),N.morphAttributes.color!==void 0&&(te=3);let K,oe,xe,re;if(F){const Fe=Gr[F];K=Fe.vertexShader,oe=Fe.fragmentShader}else K=E.vertexShader,oe=E.fragmentShader,l.update(E),xe=l.getVertexShaderID(E),re=l.getFragmentShaderID(E);const ee=n.getRenderTarget(),Be=E.alphaTest>0,Re=E.clearcoat>0,Ne=E.iridescence>0;return{isWebGL2:d,shaderID:F,shaderName:E.type,vertexShader:K,fragmentShader:oe,defines:E.defines,customVertexShaderID:xe,customFragmentShaderID:re,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,instancing:V.isInstancedMesh===!0,instancingColor:V.isInstancedMesh===!0&&V.instanceColor!==null,supportsVertexTextures:p,outputEncoding:ee===null?n.outputEncoding:ee.isXRRenderTarget===!0?ee.texture.encoding:uo,map:!!E.map,matcap:!!E.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUVHeight:$,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===gR,tangentSpaceNormalMap:E.normalMapType===po,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===bt,clearcoat:Re,clearcoatMap:Re&&!!E.clearcoatMap,clearcoatRoughnessMap:Re&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:Re&&!!E.clearcoatNormalMap,iridescence:Ne,iridescenceMap:Ne&&!!E.iridescenceMap,iridescenceThicknessMap:Ne&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===ul,alphaMap:!!E.alphaMap,alphaTest:Be,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!N.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!G,useFog:E.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:h,skinning:V.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:te,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:jr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Hr,flipSided:E.side===Fi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function A(E){const T=[];if(E.shaderID?T.push(E.shaderID):(T.push(E.customVertexShaderID),T.push(E.customFragmentShaderID)),E.defines!==void 0)for(const L in E.defines)T.push(L),T.push(E.defines[L]);return E.isRawShaderMaterial===!1&&(x(T,E),_(T,E),T.push(n.outputEncoding)),T.push(E.customProgramCacheKey),T.join()}function x(E,T){E.push(T.precision),E.push(T.outputEncoding),E.push(T.envMapMode),E.push(T.envMapCubeUVHeight),E.push(T.combine),E.push(T.vertexUvs),E.push(T.fogExp2),E.push(T.sizeAttenuation),E.push(T.morphTargetsCount),E.push(T.morphAttributeCount),E.push(T.numDirLights),E.push(T.numPointLights),E.push(T.numSpotLights),E.push(T.numSpotLightMaps),E.push(T.numHemiLights),E.push(T.numRectAreaLights),E.push(T.numDirLightShadows),E.push(T.numPointLightShadows),E.push(T.numSpotLightShadows),E.push(T.numSpotLightShadowsWithMaps),E.push(T.shadowMapType),E.push(T.toneMapping),E.push(T.numClippingPlanes),E.push(T.numClipIntersection),E.push(T.depthPacking)}function _(E,T){a.disableAll(),T.isWebGL2&&a.enable(0),T.supportsVertexTextures&&a.enable(1),T.instancing&&a.enable(2),T.instancingColor&&a.enable(3),T.map&&a.enable(4),T.matcap&&a.enable(5),T.envMap&&a.enable(6),T.lightMap&&a.enable(7),T.aoMap&&a.enable(8),T.emissiveMap&&a.enable(9),T.bumpMap&&a.enable(10),T.normalMap&&a.enable(11),T.objectSpaceNormalMap&&a.enable(12),T.tangentSpaceNormalMap&&a.enable(13),T.clearcoat&&a.enable(14),T.clearcoatMap&&a.enable(15),T.clearcoatRoughnessMap&&a.enable(16),T.clearcoatNormalMap&&a.enable(17),T.iridescence&&a.enable(18),T.iridescenceMap&&a.enable(19),T.iridescenceThicknessMap&&a.enable(20),T.displacementMap&&a.enable(21),T.specularMap&&a.enable(22),T.roughnessMap&&a.enable(23),T.metalnessMap&&a.enable(24),T.gradientMap&&a.enable(25),T.alphaMap&&a.enable(26),T.alphaTest&&a.enable(27),T.vertexColors&&a.enable(28),T.vertexAlphas&&a.enable(29),T.vertexUvs&&a.enable(30),T.vertexTangents&&a.enable(31),T.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.skinning&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.physicallyCorrectLights&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.specularIntensityMap&&a.enable(15),T.specularColorMap&&a.enable(16),T.transmission&&a.enable(17),T.transmissionMap&&a.enable(18),T.thicknessMap&&a.enable(19),T.sheen&&a.enable(20),T.sheenColorMap&&a.enable(21),T.sheenRoughnessMap&&a.enable(22),T.decodeVideoTexture&&a.enable(23),T.opaque&&a.enable(24),E.push(a.mask)}function S(E){const T=y[E.type];let L;if(T){const I=Gr[T];L=SR.clone(I.uniforms)}else L=E.uniforms;return L}function M(E,T){let L;for(let I=0,V=u.length;I<V;I++){const G=u[I];if(G.cacheKey===T){L=G,++L.usedTimes;break}}return L===void 0&&(L=new ZG(n,T,E,s),u.push(L)),L}function b(E){if(--E.usedTimes===0){const T=u.indexOf(E);u[T]=u[u.length-1],u.pop(),E.destroy()}}function P(E){l.remove(E)}function R(){l.dispose()}return{getParameters:g,getProgramCacheKey:A,getUniforms:S,acquireProgram:M,releaseProgram:b,releaseShaderCache:P,programs:u,dispose:R}}function nH(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function iH(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function hE(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function pE(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,g,A){let x=n[e];return x===void 0?(x={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:g,group:A},n[e]=x):(x.id=h.id,x.object=h,x.geometry=p,x.material=m,x.groupOrder=y,x.renderOrder=h.renderOrder,x.z=g,x.group=A),e++,x}function a(h,p,m,y,g,A){const x=o(h,p,m,y,g,A);m.transmission>0?i.push(x):m.transparent===!0?r.push(x):t.push(x)}function l(h,p,m,y,g,A){const x=o(h,p,m,y,g,A);m.transmission>0?i.unshift(x):m.transparent===!0?r.unshift(x):t.unshift(x)}function u(h,p){t.length>1&&t.sort(h||iH),i.length>1&&i.sort(p||hE),r.length>1&&r.sort(p||hE)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:u}}function rH(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new pE,n.set(i,[o])):r>=s.length?(o=new pE,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function sH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new De};break;case"SpotLight":t={position:new k,direction:new k,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function oH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let aH=0;function lH(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function uH(n,e){const t=new sH,i=oH(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new k);const s=new k,o=new rt,a=new rt;function l(d,h){let p=0,m=0,y=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let g=0,A=0,x=0,_=0,S=0,M=0,b=0,P=0,R=0,E=0;d.sort(lH);const T=h!==!0?Math.PI:1;for(let I=0,V=d.length;I<V;I++){const G=d[I],N=G.color,j=G.intensity,Y=G.distance,$=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)p+=N.r*j*T,m+=N.g*j*T,y+=N.b*j*T;else if(G.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(G.sh.coefficients[F],j);else if(G.isDirectionalLight){const F=t.get(G);if(F.color.copy(G.color).multiplyScalar(G.intensity*T),G.castShadow){const W=G.shadow,X=i.get(G);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,r.directionalShadow[g]=X,r.directionalShadowMap[g]=$,r.directionalShadowMatrix[g]=G.shadow.matrix,M++}r.directional[g]=F,g++}else if(G.isSpotLight){const F=t.get(G);F.position.setFromMatrixPosition(G.matrixWorld),F.color.copy(N).multiplyScalar(j*T),F.distance=Y,F.coneCos=Math.cos(G.angle),F.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),F.decay=G.decay,r.spot[x]=F;const W=G.shadow;if(G.map&&(r.spotLightMap[R]=G.map,R++,W.updateMatrices(G),G.castShadow&&E++),r.spotLightMatrix[x]=W.matrix,G.castShadow){const X=i.get(G);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,r.spotShadow[x]=X,r.spotShadowMap[x]=$,P++}x++}else if(G.isRectAreaLight){const F=t.get(G);F.color.copy(N).multiplyScalar(j),F.halfWidth.set(G.width*.5,0,0),F.halfHeight.set(0,G.height*.5,0),r.rectArea[_]=F,_++}else if(G.isPointLight){const F=t.get(G);if(F.color.copy(G.color).multiplyScalar(G.intensity*T),F.distance=G.distance,F.decay=G.decay,G.castShadow){const W=G.shadow,X=i.get(G);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,X.shadowCameraNear=W.camera.near,X.shadowCameraFar=W.camera.far,r.pointShadow[A]=X,r.pointShadowMap[A]=$,r.pointShadowMatrix[A]=G.shadow.matrix,b++}r.point[A]=F,A++}else if(G.isHemisphereLight){const F=t.get(G);F.skyColor.copy(G.color).multiplyScalar(j*T),F.groundColor.copy(G.groundColor).multiplyScalar(j*T),r.hemi[S]=F,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_FLOAT_1,r.rectAreaLTC2=Ie.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_HALF_1,r.rectAreaLTC2=Ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==g||L.pointLength!==A||L.spotLength!==x||L.rectAreaLength!==_||L.hemiLength!==S||L.numDirectionalShadows!==M||L.numPointShadows!==b||L.numSpotShadows!==P||L.numSpotMaps!==R)&&(r.directional.length=g,r.spot.length=x,r.rectArea.length=_,r.point.length=A,r.hemi.length=S,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=P+R-E,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=E,L.directionalLength=g,L.pointLength=A,L.spotLength=x,L.rectAreaLength=_,L.hemiLength=S,L.numDirectionalShadows=M,L.numPointShadows=b,L.numSpotShadows=P,L.numSpotMaps=R,r.version=aH++)}function u(d,h){let p=0,m=0,y=0,g=0,A=0;const x=h.matrixWorldInverse;for(let _=0,S=d.length;_<S;_++){const M=d[_];if(M.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(x),p++}else if(M.isSpotLight){const b=r.spot[y];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(x),y++}else if(M.isRectAreaLight){const b=r.rectArea[g];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),a.identity(),o.copy(M.matrixWorld),o.premultiply(x),a.extractRotation(o),b.halfWidth.set(M.width*.5,0,0),b.halfHeight.set(0,M.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),g++}else if(M.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),m++}else if(M.isHemisphereLight){const b=r.hemi[A];b.direction.setFromMatrixPosition(M.matrixWorld),b.direction.transformDirection(x),A++}}}return{setup:l,setupView:u,state:r}}function mE(n,e){const t=new uH(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function u(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function cH(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new mE(n,e),t.set(s,[l])):o>=a.length?(l=new mE(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class AS extends Bn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _S extends Bn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new k,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const fH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,dH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hH(n,e,t){let i=new b0;const r=new me,s=new me,o=new Ut,a=new AS({depthPacking:mR}),l=new _S,u={},d=t.maxTextureSize,h={[_s]:Fi,[Fi]:_s,[Hr]:Hr},p=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new me},radius:{value:4}},vertexShader:fH,fragmentShader:dH}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new ut;y.setAttribute("position",new Ot(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Fn(y,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_0,this.render=function(M,b,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),E=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),L=n.state;L.setBlending(to),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let I=0,V=M.length;I<V;I++){const G=M[I],N=G.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const j=N.getFrameExtents();if(r.multiply(j),s.copy(N.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/j.x),r.x=s.x*j.x,N.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/j.y),r.y=s.y*j.y,N.mapSize.y=s.y)),N.map===null){const $=this.type!==tl?{minFilter:yn,magFilter:yn}:{};N.map=new Yr(r.x,r.y,$),N.map.texture.name=G.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const Y=N.getViewportCount();for(let $=0;$<Y;$++){const F=N.getViewport($);o.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),L.viewport(o),N.updateMatrices(G,$),i=N.getFrustum(),S(b,P,N.camera,G,this.type)}N.isPointLightShadow!==!0&&this.type===tl&&x(N,P),N.needsUpdate=!1}A.needsUpdate=!1,n.setRenderTarget(R,E,T)};function x(M,b){const P=e.update(g);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Yr(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(b,null,P,p,g,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(b,null,P,m,g,null)}function _(M,b,P,R,E,T){let L=null;const I=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(I!==void 0)L=I;else if(L=P.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const V=L.uuid,G=b.uuid;let N=u[V];N===void 0&&(N={},u[V]=N);let j=N[G];j===void 0&&(j=L.clone(),N[G]=j),L=j}return L.visible=b.visible,L.wireframe=b.wireframe,T===tl?L.side=b.shadowSide!==null?b.shadowSide:b.side:L.side=b.shadowSide!==null?b.shadowSide:h[b.side],L.alphaMap=b.alphaMap,L.alphaTest=b.alphaTest,L.map=b.map,L.clipShadows=b.clipShadows,L.clippingPlanes=b.clippingPlanes,L.clipIntersection=b.clipIntersection,L.displacementMap=b.displacementMap,L.displacementScale=b.displacementScale,L.displacementBias=b.displacementBias,L.wireframeLinewidth=b.wireframeLinewidth,L.linewidth=b.linewidth,P.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(P.matrixWorld),L.nearDistance=R,L.farDistance=E),L}function S(M,b,P,R,E){if(M.visible===!1)return;if(M.layers.test(b.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&E===tl)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const I=e.update(M),V=M.material;if(Array.isArray(V)){const G=I.groups;for(let N=0,j=G.length;N<j;N++){const Y=G[N],$=V[Y.materialIndex];if($&&$.visible){const F=_(M,$,R,P.near,P.far,E);n.renderBufferDirect(P,null,I,F,M,Y)}}}else if(V.visible){const G=_(M,V,R,P.near,P.far,E);n.renderBufferDirect(P,null,I,G,M,null)}}const L=M.children;for(let I=0,V=L.length;I<V;I++)S(L[I],b,P,R,E)}}function pH(n,e,t){const i=t.isWebGL2;function r(){let Z=!1;const fe=new Ut;let Ae=null;const ze=new Ut(0,0,0,0);return{setMask:function(Ye){Ae!==Ye&&!Z&&(n.colorMask(Ye,Ye,Ye,Ye),Ae=Ye)},setLocked:function(Ye){Z=Ye},setClear:function(Ye,Bt,vn,Nn,ts){ts===!0&&(Ye*=Nn,Bt*=Nn,vn*=Nn),fe.set(Ye,Bt,vn,Nn),ze.equals(fe)===!1&&(n.clearColor(Ye,Bt,vn,Nn),ze.copy(fe))},reset:function(){Z=!1,Ae=null,ze.set(-1,0,0,0)}}}function s(){let Z=!1,fe=null,Ae=null,ze=null;return{setTest:function(Ye){Ye?Be(2929):Re(2929)},setMask:function(Ye){fe!==Ye&&!Z&&(n.depthMask(Ye),fe=Ye)},setFunc:function(Ye){if(Ae!==Ye){switch(Ye){case k3:n.depthFunc(512);break;case O3:n.depthFunc(519);break;case N3:n.depthFunc(513);break;case kg:n.depthFunc(515);break;case U3:n.depthFunc(514);break;case z3:n.depthFunc(518);break;case G3:n.depthFunc(516);break;case H3:n.depthFunc(517);break;default:n.depthFunc(515)}Ae=Ye}},setLocked:function(Ye){Z=Ye},setClear:function(Ye){ze!==Ye&&(n.clearDepth(Ye),ze=Ye)},reset:function(){Z=!1,fe=null,Ae=null,ze=null}}}function o(){let Z=!1,fe=null,Ae=null,ze=null,Ye=null,Bt=null,vn=null,Nn=null,ts=null;return{setTest:function(Gt){Z||(Gt?Be(2960):Re(2960))},setMask:function(Gt){fe!==Gt&&!Z&&(n.stencilMask(Gt),fe=Gt)},setFunc:function(Gt,ir,Mi){(Ae!==Gt||ze!==ir||Ye!==Mi)&&(n.stencilFunc(Gt,ir,Mi),Ae=Gt,ze=ir,Ye=Mi)},setOp:function(Gt,ir,Mi){(Bt!==Gt||vn!==ir||Nn!==Mi)&&(n.stencilOp(Gt,ir,Mi),Bt=Gt,vn=ir,Nn=Mi)},setLocked:function(Gt){Z=Gt},setClear:function(Gt){ts!==Gt&&(n.clearStencil(Gt),ts=Gt)},reset:function(){Z=!1,fe=null,Ae=null,ze=null,Ye=null,Bt=null,vn=null,Nn=null,ts=null}}}const a=new r,l=new s,u=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,g=[],A=null,x=!1,_=null,S=null,M=null,b=null,P=null,R=null,E=null,T=!1,L=null,I=null,V=null,G=null,N=null;const j=n.getParameter(35661);let Y=!1,$=0;const F=n.getParameter(7938);F.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(F)[1]),Y=$>=1):F.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),Y=$>=2);let W=null,X={};const te=n.getParameter(3088),K=n.getParameter(2978),oe=new Ut().fromArray(te),xe=new Ut().fromArray(K);function re(Z,fe,Ae){const ze=new Uint8Array(4),Ye=n.createTexture();n.bindTexture(Z,Ye),n.texParameteri(Z,10241,9728),n.texParameteri(Z,10240,9728);for(let Bt=0;Bt<Ae;Bt++)n.texImage2D(fe+Bt,0,6408,1,1,0,6408,5121,ze);return Ye}const ee={};ee[3553]=re(3553,3553,1),ee[34067]=re(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Be(2929),l.setFunc(kg),Le(!1),Ze(z1),Be(2884),Ce(to);function Be(Z){p[Z]!==!0&&(n.enable(Z),p[Z]=!0)}function Re(Z){p[Z]!==!1&&(n.disable(Z),p[Z]=!1)}function Ne(Z,fe){return m[Z]!==fe?(n.bindFramebuffer(Z,fe),m[Z]=fe,i&&(Z===36009&&(m[36160]=fe),Z===36160&&(m[36009]=fe)),!0):!1}function _e(Z,fe){let Ae=g,ze=!1;if(Z)if(Ae=y.get(fe),Ae===void 0&&(Ae=[],y.set(fe,Ae)),Z.isWebGLMultipleRenderTargets){const Ye=Z.texture;if(Ae.length!==Ye.length||Ae[0]!==36064){for(let Bt=0,vn=Ye.length;Bt<vn;Bt++)Ae[Bt]=36064+Bt;Ae.length=Ye.length,ze=!0}}else Ae[0]!==36064&&(Ae[0]=36064,ze=!0);else Ae[0]!==1029&&(Ae[0]=1029,ze=!0);ze&&(t.isWebGL2?n.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function Fe(Z){return A!==Z?(n.useProgram(Z),A=Z,!0):!1}const he={[Ya]:32774,[C3]:32778,[b3]:32779};if(i)he[W1]=32775,he[j1]=32776;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(he[W1]=Z.MIN_EXT,he[j1]=Z.MAX_EXT)}const le={[E3]:0,[T3]:1,[P3]:768,[sS]:770,[F3]:776,[I3]:774,[R3]:772,[B3]:769,[oS]:771,[D3]:775,[L3]:773};function Ce(Z,fe,Ae,ze,Ye,Bt,vn,Nn){if(Z===to){x===!0&&(Re(3042),x=!1);return}if(x===!1&&(Be(3042),x=!0),Z!==M3){if(Z!==_||Nn!==T){if((S!==Ya||P!==Ya)&&(n.blendEquation(32774),S=Ya,P=Ya),Nn)switch(Z){case ul:n.blendFuncSeparate(1,771,1,771);break;case G1:n.blendFunc(1,1);break;case H1:n.blendFuncSeparate(0,769,0,1);break;case V1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case ul:n.blendFuncSeparate(770,771,1,771);break;case G1:n.blendFunc(770,1);break;case H1:n.blendFuncSeparate(0,769,0,1);break;case V1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}M=null,b=null,R=null,E=null,_=Z,T=Nn}return}Ye=Ye||fe,Bt=Bt||Ae,vn=vn||ze,(fe!==S||Ye!==P)&&(n.blendEquationSeparate(he[fe],he[Ye]),S=fe,P=Ye),(Ae!==M||ze!==b||Bt!==R||vn!==E)&&(n.blendFuncSeparate(le[Ae],le[ze],le[Bt],le[vn]),M=Ae,b=ze,R=Bt,E=vn),_=Z,T=!1}function Ge(Z,fe){Z.side===Hr?Re(2884):Be(2884);let Ae=Z.side===Fi;fe&&(Ae=!Ae),Le(Ae),Z.blending===ul&&Z.transparent===!1?Ce(to):Ce(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const ze=Z.stencilWrite;u.setTest(ze),ze&&(u.setMask(Z.stencilWriteMask),u.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),u.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),je(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Be(32926):Re(32926)}function Le(Z){L!==Z&&(Z?n.frontFace(2304):n.frontFace(2305),L=Z)}function Ze(Z){Z!==_3?(Be(2884),Z!==I&&(Z===z1?n.cullFace(1029):Z===S3?n.cullFace(1028):n.cullFace(1032))):Re(2884),I=Z}function Je(Z){Z!==V&&(Y&&n.lineWidth(Z),V=Z)}function je(Z,fe,Ae){Z?(Be(32823),(G!==fe||N!==Ae)&&(n.polygonOffset(fe,Ae),G=fe,N=Ae)):Re(32823)}function xt(Z){Z?Be(3089):Re(3089)}function Mt(Z){Z===void 0&&(Z=33984+j-1),W!==Z&&(n.activeTexture(Z),W=Z)}function z(Z,fe,Ae){Ae===void 0&&(W===null?Ae=33984+j-1:Ae=W);let ze=X[Ae];ze===void 0&&(ze={type:void 0,texture:void 0},X[Ae]=ze),(ze.type!==Z||ze.texture!==fe)&&(W!==Ae&&(n.activeTexture(Ae),W=Ae),n.bindTexture(Z,fe||ee[Z]),ze.type=Z,ze.texture=fe)}function D(){const Z=X[W];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function we(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function tt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function J(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ue(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Se(Z){oe.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),oe.copy(Z))}function Te(Z){xe.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),xe.copy(Z))}function $e(Z,fe){let Ae=h.get(fe);Ae===void 0&&(Ae=new WeakMap,h.set(fe,Ae));let ze=Ae.get(Z);ze===void 0&&(ze=n.getUniformBlockIndex(fe,Z.name),Ae.set(Z,ze))}function yt(Z,fe){const ze=h.get(fe).get(Z);d.get(fe)!==ze&&(n.uniformBlockBinding(fe,ze,Z.__bindingPointIndex),d.set(fe,ze))}function Jt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},W=null,X={},m={},y=new WeakMap,g=[],A=null,x=!1,_=null,S=null,M=null,b=null,P=null,R=null,E=null,T=!1,L=null,I=null,V=null,G=null,N=null,oe.set(0,0,n.canvas.width,n.canvas.height),xe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Be,disable:Re,bindFramebuffer:Ne,drawBuffers:_e,useProgram:Fe,setBlending:Ce,setMaterial:Ge,setFlipSided:Le,setCullFace:Ze,setLineWidth:Je,setPolygonOffset:je,setScissorTest:xt,activeTexture:Mt,bindTexture:z,unbindTexture:D,compressedTexImage2D:ae,compressedTexImage3D:we,texImage2D:J,texImage3D:ue,updateUBOMapping:$e,uniformBlockBinding:yt,texStorage2D:ge,texStorage3D:Xe,texSubImage2D:be,texSubImage3D:Pe,compressedTexSubImage2D:tt,compressedTexSubImage3D:ke,scissor:Se,viewport:Te,reset:Jt}}function mH(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const A=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(z,D){return x?new OffscreenCanvas(z,D):Pd("canvas")}function S(z,D,ae,we){let be=1;if((z.width>we||z.height>we)&&(be=we/Math.max(z.width,z.height)),be<1||D===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const Pe=D?Ng:Math.floor,tt=Pe(be*z.width),ke=Pe(be*z.height);g===void 0&&(g=_(tt,ke));const ge=ae?_(tt,ke):g;return ge.width=tt,ge.height=ke,ge.getContext("2d").drawImage(z,0,0,tt,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+tt+"x"+ke+")."),ge}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function M(z){return gA(z.width)&&gA(z.height)}function b(z){return a?!1:z.wrapS!==Yn||z.wrapT!==Yn||z.minFilter!==yn&&z.minFilter!==sn}function P(z,D){return z.generateMipmaps&&D&&z.minFilter!==yn&&z.minFilter!==sn}function R(z){n.generateMipmap(z)}function E(z,D,ae,we,be=!1){if(a===!1)return D;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Pe=D;return D===6403&&(ae===5126&&(Pe=33326),ae===5131&&(Pe=33325),ae===5121&&(Pe=33321)),D===33319&&(ae===5126&&(Pe=33328),ae===5131&&(Pe=33327),ae===5121&&(Pe=33323)),D===6408&&(ae===5126&&(Pe=34836),ae===5131&&(Pe=34842),ae===5121&&(Pe=we===bt&&be===!1?35907:32856),ae===32819&&(Pe=32854),ae===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function T(z,D,ae){return P(z,ae)===!0||z.isFramebufferTexture&&z.minFilter!==yn&&z.minFilter!==sn?Math.log2(Math.max(D.width,D.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?D.mipmaps.length:1}function L(z){return z===yn||z===Cd||z===Ju?9728:9729}function I(z){const D=z.target;D.removeEventListener("dispose",I),G(D),D.isVideoTexture&&y.delete(D)}function V(z){const D=z.target;D.removeEventListener("dispose",V),j(D)}function G(z){const D=i.get(z);if(D.__webglInit===void 0)return;const ae=z.source,we=A.get(ae);if(we){const be=we[D.__cacheKey];be.usedTimes--,be.usedTimes===0&&N(z),Object.keys(we).length===0&&A.delete(ae)}i.remove(z)}function N(z){const D=i.get(z);n.deleteTexture(D.__webglTexture);const ae=z.source,we=A.get(ae);delete we[D.__cacheKey],o.memory.textures--}function j(z){const D=z.texture,ae=i.get(z),we=i.get(D);if(we.__webglTexture!==void 0&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)n.deleteFramebuffer(ae.__webglFramebuffer[be]),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[be]);else{if(n.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let be=0;be<ae.__webglColorRenderbuffer.length;be++)ae.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[be]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let be=0,Pe=D.length;be<Pe;be++){const tt=i.get(D[be]);tt.__webglTexture&&(n.deleteTexture(tt.__webglTexture),o.memory.textures--),i.remove(D[be])}i.remove(D),i.remove(z)}let Y=0;function $(){Y=0}function F(){const z=Y;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),Y+=1,z}function W(z){const D=[];return D.push(z.wrapS),D.push(z.wrapT),D.push(z.wrapR||0),D.push(z.magFilter),D.push(z.minFilter),D.push(z.anisotropy),D.push(z.internalFormat),D.push(z.format),D.push(z.type),D.push(z.generateMipmaps),D.push(z.premultiplyAlpha),D.push(z.flipY),D.push(z.unpackAlignment),D.push(z.encoding),D.join()}function X(z,D){const ae=i.get(z);if(z.isVideoTexture&&xt(z),z.isRenderTargetTexture===!1&&z.version>0&&ae.__version!==z.version){const we=z.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(ae,z,D);return}}t.bindTexture(3553,ae.__webglTexture,33984+D)}function te(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Re(ae,z,D);return}t.bindTexture(35866,ae.__webglTexture,33984+D)}function K(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Re(ae,z,D);return}t.bindTexture(32879,ae.__webglTexture,33984+D)}function oe(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Ne(ae,z,D);return}t.bindTexture(34067,ae.__webglTexture,33984+D)}const xe={[aa]:10497,[Yn]:33071,[rc]:33648},re={[yn]:9728,[Cd]:9984,[Ju]:9986,[sn]:9729,[w0]:9985,[Ss]:9987};function ee(z,D,ae){if(ae?(n.texParameteri(z,10242,xe[D.wrapS]),n.texParameteri(z,10243,xe[D.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,xe[D.wrapR]),n.texParameteri(z,10240,re[D.magFilter]),n.texParameteri(z,10241,re[D.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(D.wrapS!==Yn||D.wrapT!==Yn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,L(D.magFilter)),n.texParameteri(z,10241,L(D.minFilter)),D.minFilter!==yn&&D.minFilter!==sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===yn||D.minFilter!==Ju&&D.minFilter!==Ss||D.type===Qs&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===sc&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(z,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function Be(z,D){let ae=!1;z.__webglInit===void 0&&(z.__webglInit=!0,D.addEventListener("dispose",I));const we=D.source;let be=A.get(we);be===void 0&&(be={},A.set(we,be));const Pe=W(D);if(Pe!==z.__cacheKey){be[Pe]===void 0&&(be[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),be[Pe].usedTimes++;const tt=be[z.__cacheKey];tt!==void 0&&(be[z.__cacheKey].usedTimes--,tt.usedTimes===0&&N(D)),z.__cacheKey=Pe,z.__webglTexture=be[Pe].texture}return ae}function Re(z,D,ae){let we=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(we=35866),D.isData3DTexture&&(we=32879);const be=Be(z,D),Pe=D.source;t.bindTexture(we,z.__webglTexture,33984+ae);const tt=i.get(Pe);if(Pe.version!==tt.__version||be===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const ke=b(D)&&M(D.image)===!1;let ge=S(D.image,ke,!1,d);ge=Mt(D,ge);const Xe=M(ge)||a,J=s.convert(D.format,D.encoding);let ue=s.convert(D.type),Se=E(D.internalFormat,J,ue,D.encoding,D.isVideoTexture);ee(we,D,Xe);let Te;const $e=D.mipmaps,yt=a&&D.isVideoTexture!==!0,Jt=tt.__version===void 0||be===!0,Z=T(D,ge,Xe);if(D.isDepthTexture)Se=6402,a?D.type===Qs?Se=36012:D.type===Vo?Se=33190:D.type===cl?Se=35056:Se=33189:D.type===Qs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ta&&Se===6402&&D.type!==lS&&D.type!==Vo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Vo,ue=s.convert(D.type)),D.format===Sl&&Se===6402&&(Se=34041,D.type!==cl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=cl,ue=s.convert(D.type))),Jt&&(yt?t.texStorage2D(3553,1,Se,ge.width,ge.height):t.texImage2D(3553,0,Se,ge.width,ge.height,0,J,ue,null));else if(D.isDataTexture)if($e.length>0&&Xe){yt&&Jt&&t.texStorage2D(3553,Z,Se,$e[0].width,$e[0].height);for(let fe=0,Ae=$e.length;fe<Ae;fe++)Te=$e[fe],yt?t.texSubImage2D(3553,fe,0,0,Te.width,Te.height,J,ue,Te.data):t.texImage2D(3553,fe,Se,Te.width,Te.height,0,J,ue,Te.data);D.generateMipmaps=!1}else yt?(Jt&&t.texStorage2D(3553,Z,Se,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,J,ue,ge.data)):t.texImage2D(3553,0,Se,ge.width,ge.height,0,J,ue,ge.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){yt&&Jt&&t.texStorage3D(35866,Z,Se,$e[0].width,$e[0].height,ge.depth);for(let fe=0,Ae=$e.length;fe<Ae;fe++)Te=$e[fe],D.format!==Bi?J!==null?yt?t.compressedTexSubImage3D(35866,fe,0,0,0,Te.width,Te.height,ge.depth,J,Te.data,0,0):t.compressedTexImage3D(35866,fe,Se,Te.width,Te.height,ge.depth,0,Te.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage3D(35866,fe,0,0,0,Te.width,Te.height,ge.depth,J,ue,Te.data):t.texImage3D(35866,fe,Se,Te.width,Te.height,ge.depth,0,J,ue,Te.data)}else{yt&&Jt&&t.texStorage2D(3553,Z,Se,$e[0].width,$e[0].height);for(let fe=0,Ae=$e.length;fe<Ae;fe++)Te=$e[fe],D.format!==Bi?J!==null?yt?t.compressedTexSubImage2D(3553,fe,0,0,Te.width,Te.height,J,Te.data):t.compressedTexImage2D(3553,fe,Se,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage2D(3553,fe,0,0,Te.width,Te.height,J,ue,Te.data):t.texImage2D(3553,fe,Se,Te.width,Te.height,0,J,ue,Te.data)}else if(D.isDataArrayTexture)yt?(Jt&&t.texStorage3D(35866,Z,Se,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,J,ue,ge.data)):t.texImage3D(35866,0,Se,ge.width,ge.height,ge.depth,0,J,ue,ge.data);else if(D.isData3DTexture)yt?(Jt&&t.texStorage3D(32879,Z,Se,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,J,ue,ge.data)):t.texImage3D(32879,0,Se,ge.width,ge.height,ge.depth,0,J,ue,ge.data);else if(D.isFramebufferTexture){if(Jt)if(yt)t.texStorage2D(3553,Z,Se,ge.width,ge.height);else{let fe=ge.width,Ae=ge.height;for(let ze=0;ze<Z;ze++)t.texImage2D(3553,ze,Se,fe,Ae,0,J,ue,null),fe>>=1,Ae>>=1}}else if($e.length>0&&Xe){yt&&Jt&&t.texStorage2D(3553,Z,Se,$e[0].width,$e[0].height);for(let fe=0,Ae=$e.length;fe<Ae;fe++)Te=$e[fe],yt?t.texSubImage2D(3553,fe,0,0,J,ue,Te):t.texImage2D(3553,fe,Se,J,ue,Te);D.generateMipmaps=!1}else yt?(Jt&&t.texStorage2D(3553,Z,Se,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,J,ue,ge)):t.texImage2D(3553,0,Se,J,ue,ge);P(D,Xe)&&R(we),tt.__version=Pe.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function Ne(z,D,ae){if(D.image.length!==6)return;const we=Be(z,D),be=D.source;t.bindTexture(34067,z.__webglTexture,33984+ae);const Pe=i.get(be);if(be.version!==Pe.__version||we===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const tt=D.isCompressedTexture||D.image[0].isCompressedTexture,ke=D.image[0]&&D.image[0].isDataTexture,ge=[];for(let fe=0;fe<6;fe++)!tt&&!ke?ge[fe]=S(D.image[fe],!1,!0,u):ge[fe]=ke?D.image[fe].image:D.image[fe],ge[fe]=Mt(D,ge[fe]);const Xe=ge[0],J=M(Xe)||a,ue=s.convert(D.format,D.encoding),Se=s.convert(D.type),Te=E(D.internalFormat,ue,Se,D.encoding),$e=a&&D.isVideoTexture!==!0,yt=Pe.__version===void 0||we===!0;let Jt=T(D,Xe,J);ee(34067,D,J);let Z;if(tt){$e&&yt&&t.texStorage2D(34067,Jt,Te,Xe.width,Xe.height);for(let fe=0;fe<6;fe++){Z=ge[fe].mipmaps;for(let Ae=0;Ae<Z.length;Ae++){const ze=Z[Ae];D.format!==Bi?ue!==null?$e?t.compressedTexSubImage2D(34069+fe,Ae,0,0,ze.width,ze.height,ue,ze.data):t.compressedTexImage2D(34069+fe,Ae,Te,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$e?t.texSubImage2D(34069+fe,Ae,0,0,ze.width,ze.height,ue,Se,ze.data):t.texImage2D(34069+fe,Ae,Te,ze.width,ze.height,0,ue,Se,ze.data)}}}else{Z=D.mipmaps,$e&&yt&&(Z.length>0&&Jt++,t.texStorage2D(34067,Jt,Te,ge[0].width,ge[0].height));for(let fe=0;fe<6;fe++)if(ke){$e?t.texSubImage2D(34069+fe,0,0,0,ge[fe].width,ge[fe].height,ue,Se,ge[fe].data):t.texImage2D(34069+fe,0,Te,ge[fe].width,ge[fe].height,0,ue,Se,ge[fe].data);for(let Ae=0;Ae<Z.length;Ae++){const Ye=Z[Ae].image[fe].image;$e?t.texSubImage2D(34069+fe,Ae+1,0,0,Ye.width,Ye.height,ue,Se,Ye.data):t.texImage2D(34069+fe,Ae+1,Te,Ye.width,Ye.height,0,ue,Se,Ye.data)}}else{$e?t.texSubImage2D(34069+fe,0,0,0,ue,Se,ge[fe]):t.texImage2D(34069+fe,0,Te,ue,Se,ge[fe]);for(let Ae=0;Ae<Z.length;Ae++){const ze=Z[Ae];$e?t.texSubImage2D(34069+fe,Ae+1,0,0,ue,Se,ze.image[fe]):t.texImage2D(34069+fe,Ae+1,Te,ue,Se,ze.image[fe])}}}P(D,J)&&R(34067),Pe.__version=be.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function _e(z,D,ae,we,be){const Pe=s.convert(ae.format,ae.encoding),tt=s.convert(ae.type),ke=E(ae.internalFormat,Pe,tt,ae.encoding);i.get(D).__hasExternalTextures||(be===32879||be===35866?t.texImage3D(be,0,ke,D.width,D.height,D.depth,0,Pe,tt,null):t.texImage2D(be,0,ke,D.width,D.height,0,Pe,tt,null)),t.bindFramebuffer(36160,z),je(D)?p.framebufferTexture2DMultisampleEXT(36160,we,be,i.get(ae).__webglTexture,0,Je(D)):(be===3553||be>=34069&&be<=34074)&&n.framebufferTexture2D(36160,we,be,i.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function Fe(z,D,ae){if(n.bindRenderbuffer(36161,z),D.depthBuffer&&!D.stencilBuffer){let we=33189;if(ae||je(D)){const be=D.depthTexture;be&&be.isDepthTexture&&(be.type===Qs?we=36012:be.type===Vo&&(we=33190));const Pe=Je(D);je(D)?p.renderbufferStorageMultisampleEXT(36161,Pe,we,D.width,D.height):n.renderbufferStorageMultisample(36161,Pe,we,D.width,D.height)}else n.renderbufferStorage(36161,we,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(D.depthBuffer&&D.stencilBuffer){const we=Je(D);ae&&je(D)===!1?n.renderbufferStorageMultisample(36161,we,35056,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(36161,we,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const we=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let be=0;be<we.length;be++){const Pe=we[be],tt=s.convert(Pe.format,Pe.encoding),ke=s.convert(Pe.type),ge=E(Pe.internalFormat,tt,ke,Pe.encoding),Xe=Je(D);ae&&je(D)===!1?n.renderbufferStorageMultisample(36161,Xe,ge,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(36161,Xe,ge,D.width,D.height):n.renderbufferStorage(36161,ge,D.width,D.height)}}n.bindRenderbuffer(36161,null)}function he(z,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),X(D.depthTexture,0);const we=i.get(D.depthTexture).__webglTexture,be=Je(D);if(D.depthTexture.format===ta)je(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,be):n.framebufferTexture2D(36160,36096,3553,we,0);else if(D.depthTexture.format===Sl)je(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,be):n.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function le(z){const D=i.get(z),ae=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!D.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");he(D.__webglFramebuffer,z)}else if(ae){D.__webglDepthbuffer=[];for(let we=0;we<6;we++)t.bindFramebuffer(36160,D.__webglFramebuffer[we]),D.__webglDepthbuffer[we]=n.createRenderbuffer(),Fe(D.__webglDepthbuffer[we],z,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Fe(D.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function Ce(z,D,ae){const we=i.get(z);D!==void 0&&_e(we.__webglFramebuffer,z,z.texture,36064,3553),ae!==void 0&&le(z)}function Ge(z){const D=z.texture,ae=i.get(z),we=i.get(D);z.addEventListener("dispose",V),z.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=D.version,o.memory.textures++);const be=z.isWebGLCubeRenderTarget===!0,Pe=z.isWebGLMultipleRenderTargets===!0,tt=M(z)||a;if(be){ae.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)ae.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(ae.__webglFramebuffer=n.createFramebuffer(),Pe)if(r.drawBuffers){const ke=z.texture;for(let ge=0,Xe=ke.length;ge<Xe;ge++){const J=i.get(ke[ge]);J.__webglTexture===void 0&&(J.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&je(z)===!1){const ke=Pe?D:[D];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let ge=0;ge<ke.length;ge++){const Xe=ke[ge];ae.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[ge]);const J=s.convert(Xe.format,Xe.encoding),ue=s.convert(Xe.type),Se=E(Xe.internalFormat,J,ue,Xe.encoding,z.isXRRenderTarget===!0),Te=Je(z);n.renderbufferStorageMultisample(36161,Te,Se,z.width,z.height),n.framebufferRenderbuffer(36160,36064+ge,36161,ae.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(ae.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if(be){t.bindTexture(34067,we.__webglTexture),ee(34067,D,tt);for(let ke=0;ke<6;ke++)_e(ae.__webglFramebuffer[ke],z,D,36064,34069+ke);P(D,tt)&&R(34067),t.unbindTexture()}else if(Pe){const ke=z.texture;for(let ge=0,Xe=ke.length;ge<Xe;ge++){const J=ke[ge],ue=i.get(J);t.bindTexture(3553,ue.__webglTexture),ee(3553,J,tt),_e(ae.__webglFramebuffer,z,J,36064+ge,3553),P(J,tt)&&R(3553)}t.unbindTexture()}else{let ke=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?ke=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,we.__webglTexture),ee(ke,D,tt),_e(ae.__webglFramebuffer,z,D,36064,ke),P(D,tt)&&R(ke),t.unbindTexture()}z.depthBuffer&&le(z)}function Le(z){const D=M(z)||a,ae=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let we=0,be=ae.length;we<be;we++){const Pe=ae[we];if(P(Pe,D)){const tt=z.isWebGLCubeRenderTarget?34067:3553,ke=i.get(Pe).__webglTexture;t.bindTexture(tt,ke),R(tt),t.unbindTexture()}}}function Ze(z){if(a&&z.samples>0&&je(z)===!1){const D=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],ae=z.width,we=z.height;let be=16384;const Pe=[],tt=z.stencilBuffer?33306:36096,ke=i.get(z),ge=z.isWebGLMultipleRenderTargets===!0;if(ge)for(let Xe=0;Xe<D.length;Xe++)t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,null),t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,null,0);t.bindFramebuffer(36008,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ke.__webglFramebuffer);for(let Xe=0;Xe<D.length;Xe++){Pe.push(36064+Xe),z.depthBuffer&&Pe.push(tt);const J=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(J===!1&&(z.depthBuffer&&(be|=256),z.stencilBuffer&&(be|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,ke.__webglColorRenderbuffer[Xe]),J===!0&&(n.invalidateFramebuffer(36008,[tt]),n.invalidateFramebuffer(36009,[tt])),ge){const ue=i.get(D[Xe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ue,0)}n.blitFramebuffer(0,0,ae,we,0,0,ae,we,be,9728),m&&n.invalidateFramebuffer(36008,Pe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let Xe=0;Xe<D.length;Xe++){t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,ke.__webglColorRenderbuffer[Xe]);const J=i.get(D[Xe]).__webglTexture;t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,J,0)}t.bindFramebuffer(36009,ke.__webglMultisampledFramebuffer)}}function Je(z){return Math.min(h,z.samples)}function je(z){const D=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function xt(z){const D=o.render.frame;y.get(z)!==D&&(y.set(z,D),z.update())}function Mt(z,D){const ae=z.encoding,we=z.format,be=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===Og||ae!==uo&&(ae===bt?a===!1?e.has("EXT_sRGB")===!0&&we===Bi?(z.format=Og,z.minFilter=sn,z.generateMipmaps=!1):D=hS.sRGBToLinear(D):(we!==Bi||be!==lo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),D}this.allocateTextureUnit=F,this.resetTextureUnits=$,this.setTexture2D=X,this.setTexture2DArray=te,this.setTexture3D=K,this.setTextureCube=oe,this.rebindTextures=Ce,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=Ze,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=je}function TR(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===lo)return 5121;if(s===q3)return 32819;if(s===$3)return 32820;if(s===Y3)return 5120;if(s===Q3)return 5122;if(s===lS)return 5123;if(s===Z3)return 5124;if(s===Vo)return 5125;if(s===Qs)return 5126;if(s===sc)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===eR)return 6406;if(s===Bi)return 6408;if(s===tR)return 6409;if(s===nR)return 6410;if(s===ta)return 6402;if(s===Sl)return 34041;if(s===Og)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===iR)return 6403;if(s===rR)return 36244;if(s===sR)return 33319;if(s===oR)return 33320;if(s===aR)return 36249;if(s===Km||s===Ym||s===Qm||s===Zm)if(o===bt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Km)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ym)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Qm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Zm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Km)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ym)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Qm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Zm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===J1||s===X1||s===K1||s===Y1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===J1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===X1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===K1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Y1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===lR)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Q1||s===Z1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Q1)return o===bt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Z1)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===q1||s===$1||s===eA||s===tA||s===nA||s===iA||s===rA||s===sA||s===oA||s===aA||s===lA||s===uA||s===cA||s===fA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===q1)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===$1)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===eA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===tA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===nA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===iA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===rA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===sA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===oA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===aA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===lA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===uA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===cA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===fA)return o===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===qm)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===qm)return o===bt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===uR||s===dA||s===hA||s===pA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===qm)return a.COMPRESSED_RED_RGTC1_EXT;if(s===dA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===hA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===pA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===cl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class PR extends Wt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qs extends Pt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gH={type:"move"};class lx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const A=t.getJointPose(g,i),x=this._getHandJoint(u,g);A!==null&&(x.matrix.fromArray(A.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=A.radius),x.visible=A!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(gH)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new qs;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class BR extends en{constructor(e,t,i,r,s,o,a,l,u,d){if(d=d!==void 0?d:ta,d!==ta&&d!==Sl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===ta&&(i=Vo),i===void 0&&d===Sl&&(i=cl),super(null,r,s,o,a,l,d,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:yn,this.minFilter=l!==void 0?l:yn,this.flipY=!1,this.generateMipmaps=!1}}class yH extends Ms{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,h=null,p=null,m=null,y=null;const g=t.getContextAttributes();let A=null,x=null;const _=[],S=[],M=new Set,b=new Map,P=new Wt;P.layers.enable(1),P.viewport=new Ut;const R=new Wt;R.layers.enable(2),R.viewport=new Ut;const E=[P,R],T=new PR;T.layers.enable(1),T.layers.enable(2);let L=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=_[K];return oe===void 0&&(oe=new lx,_[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=_[K];return oe===void 0&&(oe=new lx,_[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=_[K];return oe===void 0&&(oe=new lx,_[K]=oe),oe.getHandSpace()};function V(K){const oe=S.indexOf(K.inputSource);if(oe===-1)return;const xe=_[oe];xe!==void 0&&xe.dispatchEvent({type:K.type,data:K.inputSource})}function G(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",N);for(let K=0;K<_.length;K++){const oe=S[K];oe!==null&&(S[K]=null,_[K].disconnect(oe))}L=null,I=null,e.setRenderTarget(A),m=null,p=null,h=null,r=null,x=null,te.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){s=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(K){u=K},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(K){if(r=K,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",G),r.addEventListener("inputsourceschange",N),g.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,oe),r.updateRenderState({baseLayer:m}),x=new Yr(m.framebufferWidth,m.framebufferHeight,{format:Bi,type:lo,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let oe=null,xe=null,re=null;g.depth&&(re=g.stencil?35056:33190,oe=g.stencil?Sl:ta,xe=g.stencil?cl:Vo);const ee={colorFormat:32856,depthFormat:re,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(ee),r.updateRenderState({layers:[p]}),x=new Yr(p.textureWidth,p.textureHeight,{format:Bi,type:lo,depthTexture:new BR(p.textureWidth,p.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Be=e.properties.get(x);Be.__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),te.setContext(r),te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function N(K){for(let oe=0;oe<K.removed.length;oe++){const xe=K.removed[oe],re=S.indexOf(xe);re>=0&&(S[re]=null,_[re].disconnect(xe))}for(let oe=0;oe<K.added.length;oe++){const xe=K.added[oe];let re=S.indexOf(xe);if(re===-1){for(let Be=0;Be<_.length;Be++)if(Be>=S.length){S.push(xe),re=Be;break}else if(S[Be]===null){S[Be]=xe,re=Be;break}if(re===-1)break}const ee=_[re];ee&&ee.connect(xe)}}const j=new k,Y=new k;function $(K,oe,xe){j.setFromMatrixPosition(oe.matrixWorld),Y.setFromMatrixPosition(xe.matrixWorld);const re=j.distanceTo(Y),ee=oe.projectionMatrix.elements,Be=xe.projectionMatrix.elements,Re=ee[14]/(ee[10]-1),Ne=ee[14]/(ee[10]+1),_e=(ee[9]+1)/ee[5],Fe=(ee[9]-1)/ee[5],he=(ee[8]-1)/ee[0],le=(Be[8]+1)/Be[0],Ce=Re*he,Ge=Re*le,Le=re/(-he+le),Ze=Le*-he;oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Ze),K.translateZ(Le),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const Je=Re+Le,je=Ne+Le,xt=Ce-Ze,Mt=Ge+(re-Ze),z=_e*Ne/je*Je,D=Fe*Ne/je*Je;K.projectionMatrix.makePerspective(xt,Mt,z,D,Je,je)}function F(K,oe){oe===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(r===null)return;T.near=R.near=P.near=K.near,T.far=R.far=P.far=K.far,(L!==T.near||I!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),L=T.near,I=T.far);const oe=K.parent,xe=T.cameras;F(T,oe);for(let ee=0;ee<xe.length;ee++)F(xe[ee],oe);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),K.matrix.copy(T.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale);const re=K.children;for(let ee=0,Be=re.length;ee<Be;ee++)re[ee].updateMatrixWorld(!0);xe.length===2?$(T,P,R):T.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(K){l=K,p!==null&&(p.fixedFoveation=K),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=K)},this.getPlanes=function(){return M};let W=null;function X(K,oe){if(d=oe.getViewerPose(u||o),y=oe,d!==null){const xe=d.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let re=!1;xe.length!==T.cameras.length&&(T.cameras.length=0,re=!0);for(let ee=0;ee<xe.length;ee++){const Be=xe[ee];let Re=null;if(m!==null)Re=m.getViewport(Be);else{const _e=h.getViewSubImage(p,Be);Re=_e.viewport,ee===0&&(e.setRenderTargetTextures(x,_e.colorTexture,p.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(x))}let Ne=E[ee];Ne===void 0&&(Ne=new Wt,Ne.layers.enable(ee),Ne.viewport=new Ut,E[ee]=Ne),Ne.matrix.fromArray(Be.transform.matrix),Ne.projectionMatrix.fromArray(Be.projectionMatrix),Ne.viewport.set(Re.x,Re.y,Re.width,Re.height),ee===0&&T.matrix.copy(Ne.matrix),re===!0&&T.cameras.push(Ne)}}for(let xe=0;xe<_.length;xe++){const re=S[xe],ee=_[xe];re!==null&&ee!==void 0&&ee.update(re,oe,u||o)}if(W&&W(K,oe),oe.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:oe.detectedPlanes});let xe=null;for(const re of M)oe.detectedPlanes.has(re)||(xe===null&&(xe=[]),xe.push(re));if(xe!==null)for(const re of xe)M.delete(re),b.delete(re),i.dispatchEvent({type:"planeremoved",data:re});for(const re of oe.detectedPlanes)if(!M.has(re))M.add(re),b.set(re,oe.lastChangedTime),i.dispatchEvent({type:"planeadded",data:re});else{const ee=b.get(re);re.lastChangedTime>ee&&(b.set(re,re.lastChangedTime),i.dispatchEvent({type:"planechanged",data:re}))}}y=null}const te=new wR;te.setAnimationLoop(X),this.setAnimationLoop=function(K){W=K},this.dispose=function(){}}}function vH(n,e){function t(g,A){A.color.getRGB(g.fogColor.value,_R(n)),A.isFog?(g.fogNear.value=A.near,g.fogFar.value=A.far):A.isFogExp2&&(g.fogDensity.value=A.density)}function i(g,A,x,_,S){A.isMeshBasicMaterial||A.isMeshLambertMaterial?r(g,A):A.isMeshToonMaterial?(r(g,A),d(g,A)):A.isMeshPhongMaterial?(r(g,A),u(g,A)):A.isMeshStandardMaterial?(r(g,A),h(g,A),A.isMeshPhysicalMaterial&&p(g,A,S)):A.isMeshMatcapMaterial?(r(g,A),m(g,A)):A.isMeshDepthMaterial?r(g,A):A.isMeshDistanceMaterial?(r(g,A),y(g,A)):A.isMeshNormalMaterial?r(g,A):A.isLineBasicMaterial?(s(g,A),A.isLineDashedMaterial&&o(g,A)):A.isPointsMaterial?a(g,A,x,_):A.isSpriteMaterial?l(g,A):A.isShadowMaterial?(g.color.value.copy(A.color),g.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function r(g,A){g.opacity.value=A.opacity,A.color&&g.diffuse.value.copy(A.color),A.emissive&&g.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(g.map.value=A.map),A.alphaMap&&(g.alphaMap.value=A.alphaMap),A.bumpMap&&(g.bumpMap.value=A.bumpMap,g.bumpScale.value=A.bumpScale,A.side===Fi&&(g.bumpScale.value*=-1)),A.displacementMap&&(g.displacementMap.value=A.displacementMap,g.displacementScale.value=A.displacementScale,g.displacementBias.value=A.displacementBias),A.emissiveMap&&(g.emissiveMap.value=A.emissiveMap),A.normalMap&&(g.normalMap.value=A.normalMap,g.normalScale.value.copy(A.normalScale),A.side===Fi&&g.normalScale.value.negate()),A.specularMap&&(g.specularMap.value=A.specularMap),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest);const x=e.get(A).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=A.reflectivity,g.ior.value=A.ior,g.refractionRatio.value=A.refractionRatio),A.lightMap){g.lightMap.value=A.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=A.lightMapIntensity*M}A.aoMap&&(g.aoMap.value=A.aoMap,g.aoMapIntensity.value=A.aoMapIntensity);let _;A.map?_=A.map:A.specularMap?_=A.specularMap:A.displacementMap?_=A.displacementMap:A.normalMap?_=A.normalMap:A.bumpMap?_=A.bumpMap:A.roughnessMap?_=A.roughnessMap:A.metalnessMap?_=A.metalnessMap:A.alphaMap?_=A.alphaMap:A.emissiveMap?_=A.emissiveMap:A.clearcoatMap?_=A.clearcoatMap:A.clearcoatNormalMap?_=A.clearcoatNormalMap:A.clearcoatRoughnessMap?_=A.clearcoatRoughnessMap:A.iridescenceMap?_=A.iridescenceMap:A.iridescenceThicknessMap?_=A.iridescenceThicknessMap:A.specularIntensityMap?_=A.specularIntensityMap:A.specularColorMap?_=A.specularColorMap:A.transmissionMap?_=A.transmissionMap:A.thicknessMap?_=A.thicknessMap:A.sheenColorMap?_=A.sheenColorMap:A.sheenRoughnessMap&&(_=A.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let S;A.aoMap?S=A.aoMap:A.lightMap&&(S=A.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function s(g,A){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity}function o(g,A){g.dashSize.value=A.dashSize,g.totalSize.value=A.dashSize+A.gapSize,g.scale.value=A.scale}function a(g,A,x,_){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity,g.size.value=A.size*x,g.scale.value=_*.5,A.map&&(g.map.value=A.map),A.alphaMap&&(g.alphaMap.value=A.alphaMap),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest);let S;A.map?S=A.map:A.alphaMap&&(S=A.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,A){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity,g.rotation.value=A.rotation,A.map&&(g.map.value=A.map),A.alphaMap&&(g.alphaMap.value=A.alphaMap),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest);let x;A.map?x=A.map:A.alphaMap&&(x=A.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function u(g,A){g.specular.value.copy(A.specular),g.shininess.value=Math.max(A.shininess,1e-4)}function d(g,A){A.gradientMap&&(g.gradientMap.value=A.gradientMap)}function h(g,A){g.roughness.value=A.roughness,g.metalness.value=A.metalness,A.roughnessMap&&(g.roughnessMap.value=A.roughnessMap),A.metalnessMap&&(g.metalnessMap.value=A.metalnessMap),e.get(A).envMap&&(g.envMapIntensity.value=A.envMapIntensity)}function p(g,A,x){g.ior.value=A.ior,A.sheen>0&&(g.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),g.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(g.sheenColorMap.value=A.sheenColorMap),A.sheenRoughnessMap&&(g.sheenRoughnessMap.value=A.sheenRoughnessMap)),A.clearcoat>0&&(g.clearcoat.value=A.clearcoat,g.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(g.clearcoatMap.value=A.clearcoatMap),A.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap),A.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),g.clearcoatNormalMap.value=A.clearcoatNormalMap,A.side===Fi&&g.clearcoatNormalScale.value.negate())),A.iridescence>0&&(g.iridescence.value=A.iridescence,g.iridescenceIOR.value=A.iridescenceIOR,g.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(g.iridescenceMap.value=A.iridescenceMap),A.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=A.iridescenceThicknessMap)),A.transmission>0&&(g.transmission.value=A.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),A.transmissionMap&&(g.transmissionMap.value=A.transmissionMap),g.thickness.value=A.thickness,A.thicknessMap&&(g.thicknessMap.value=A.thicknessMap),g.attenuationDistance.value=A.attenuationDistance,g.attenuationColor.value.copy(A.attenuationColor)),g.specularIntensity.value=A.specularIntensity,g.specularColor.value.copy(A.specularColor),A.specularIntensityMap&&(g.specularIntensityMap.value=A.specularIntensityMap),A.specularColorMap&&(g.specularColorMap.value=A.specularColorMap)}function m(g,A){A.matcap&&(g.matcap.value=A.matcap)}function y(g,A){g.referencePosition.value.copy(A.referencePosition),g.nearDistance.value=A.nearDistance,g.farDistance.value=A.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function xH(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,S){const M=S.program;i.uniformBlockBinding(_,M)}function u(_,S){let M=r[_.id];M===void 0&&(y(_),M=d(_),r[_.id]=M,_.addEventListener("dispose",A));const b=S.program;i.updateUBOMapping(_,b);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function d(_){const S=h();_.__bindingPointIndex=S;const M=n.createBuffer(),b=_.__size,P=_.usage;return n.bindBuffer(35345,M),n.bufferData(35345,b,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=r[_.id],M=_.uniforms,b=_.__cache;n.bindBuffer(35345,S);for(let P=0,R=M.length;P<R;P++){const E=M[P];if(m(E,P,b)===!0){const T=E.__offset,L=Array.isArray(E.value)?E.value:[E.value];let I=0;for(let V=0;V<L.length;V++){const G=L[V],N=g(G);typeof G=="number"?(E.__data[0]=G,n.bufferSubData(35345,T+I,E.__data)):G.isMatrix3?(E.__data[0]=G.elements[0],E.__data[1]=G.elements[1],E.__data[2]=G.elements[2],E.__data[3]=G.elements[0],E.__data[4]=G.elements[3],E.__data[5]=G.elements[4],E.__data[6]=G.elements[5],E.__data[7]=G.elements[0],E.__data[8]=G.elements[6],E.__data[9]=G.elements[7],E.__data[10]=G.elements[8],E.__data[11]=G.elements[0]):(G.toArray(E.__data,I),I+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,T,E.__data)}}n.bindBuffer(35345,null)}function m(_,S,M){const b=_.value;if(M[S]===void 0){if(typeof b=="number")M[S]=b;else{const P=Array.isArray(b)?b:[b],R=[];for(let E=0;E<P.length;E++)R.push(P[E].clone());M[S]=R}return!0}else if(typeof b=="number"){if(M[S]!==b)return M[S]=b,!0}else{const P=Array.isArray(M[S])?M[S]:[M[S]],R=Array.isArray(b)?b:[b];for(let E=0;E<P.length;E++){const T=P[E];if(T.equals(R[E])===!1)return T.copy(R[E]),!0}}return!1}function y(_){const S=_.uniforms;let M=0;const b=16;let P=0;for(let R=0,E=S.length;R<E;R++){const T=S[R],L={boundary:0,storage:0},I=Array.isArray(T.value)?T.value:[T.value];for(let V=0,G=I.length;V<G;V++){const N=I[V],j=g(N);L.boundary+=j.boundary,L.storage+=j.storage}if(T.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=M,R>0){P=M%b;const V=b-P;P!==0&&V-L.boundary<0&&(M+=b-P,T.__offset=M)}M+=L.storage}return P=M%b,P>0&&(M+=b-P),_.__size=M,_.__cache={},this}function g(_){const S={boundary:0,storage:0};return typeof _=="number"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function A(_){const S=_.target;S.removeEventListener("dispose",A);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function x(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:u,dispose:x}}function AH(){const n=Pd("canvas");return n.style.display="block",n}function SS(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:AH(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=uo,this.physicallyCorrectLights=!1,this.toneMapping=jr,this.toneMappingExposure=1;const g=this;let A=!1,x=0,_=0,S=null,M=-1,b=null;const P=new Ut,R=new Ut;let E=null,T=e.width,L=e.height,I=1,V=null,G=null;const N=new Ut(0,0,T,L),j=new Ut(0,0,T,L);let Y=!1;const $=new b0;let F=!1,W=!1,X=null;const te=new rt,K=new me,oe=new k,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return S===null?I:1}let ee=t;function Be(O,ie){for(let pe=0;pe<O.length;pe++){const ne=O[pe],ye=e.getContext(ne,ie);if(ye!==null)return ye}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${A0}`),e.addEventListener("webglcontextlost",Se,!1),e.addEventListener("webglcontextrestored",Te,!1),e.addEventListener("webglcontextcreationerror",$e,!1),ee===null){const ie=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ie.shift(),ee=Be(ie,O),ee===null)throw Be(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ee.getShaderPrecisionFormat===void 0&&(ee.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Re,Ne,_e,Fe,he,le,Ce,Ge,Le,Ze,Je,je,xt,Mt,z,D,ae,we,be,Pe,tt,ke,ge,Xe;function J(){Re=new k5(ee),Ne=new B5(ee,Re,n),Re.init(Ne),ke=new TR(ee,Re,Ne),_e=new pH(ee,Re,Ne),Fe=new U5,he=new nH,le=new mH(ee,Re,_e,he,Ne,ke,Fe),Ce=new L5(g),Ge=new F5(g),Le=new K4(ee,Ne),ge=new T5(ee,Re,Le,Ne),Ze=new O5(ee,Le,Fe,ge),Je=new V5(ee,Ze,Le,Fe),be=new H5(ee,Ne,le),D=new R5(he),je=new tH(g,Ce,Ge,Re,Ne,ge,D),xt=new vH(g,he),Mt=new rH,z=new cH(Re,Ne),we=new E5(g,Ce,Ge,_e,Je,d,o),ae=new hH(g,Je,Ne),Xe=new xH(ee,Fe,Ne,_e),Pe=new P5(ee,Re,Fe,Ne),tt=new N5(ee,Re,Fe,Ne),Fe.programs=je.programs,g.capabilities=Ne,g.extensions=Re,g.properties=he,g.renderLists=Mt,g.shadowMap=ae,g.state=_e,g.info=Fe}J();const ue=new yH(g,ee);this.xr=ue,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const O=Re.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Re.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(O){O!==void 0&&(I=O,this.setSize(T,L,!1))},this.getSize=function(O){return O.set(T,L)},this.setSize=function(O,ie,pe){if(ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=O,L=ie,e.width=Math.floor(O*I),e.height=Math.floor(ie*I),pe!==!1&&(e.style.width=O+"px",e.style.height=ie+"px"),this.setViewport(0,0,O,ie)},this.getDrawingBufferSize=function(O){return O.set(T*I,L*I).floor()},this.setDrawingBufferSize=function(O,ie,pe){T=O,L=ie,I=pe,e.width=Math.floor(O*pe),e.height=Math.floor(ie*pe),this.setViewport(0,0,O,ie)},this.getCurrentViewport=function(O){return O.copy(P)},this.getViewport=function(O){return O.copy(N)},this.setViewport=function(O,ie,pe,ne){O.isVector4?N.set(O.x,O.y,O.z,O.w):N.set(O,ie,pe,ne),_e.viewport(P.copy(N).multiplyScalar(I).floor())},this.getScissor=function(O){return O.copy(j)},this.setScissor=function(O,ie,pe,ne){O.isVector4?j.set(O.x,O.y,O.z,O.w):j.set(O,ie,pe,ne),_e.scissor(R.copy(j).multiplyScalar(I).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(O){_e.setScissorTest(Y=O)},this.setOpaqueSort=function(O){V=O},this.setTransparentSort=function(O){G=O},this.getClearColor=function(O){return O.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(O=!0,ie=!0,pe=!0){let ne=0;O&&(ne|=16384),ie&&(ne|=256),pe&&(ne|=1024),ee.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Se,!1),e.removeEventListener("webglcontextrestored",Te,!1),e.removeEventListener("webglcontextcreationerror",$e,!1),Mt.dispose(),z.dispose(),he.dispose(),Ce.dispose(),Ge.dispose(),Je.dispose(),ge.dispose(),Xe.dispose(),je.dispose(),ue.dispose(),ue.removeEventListener("sessionstart",ze),ue.removeEventListener("sessionend",Ye),X&&(X.dispose(),X=null),Bt.stop()};function Se(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const O=Fe.autoReset,ie=ae.enabled,pe=ae.autoUpdate,ne=ae.needsUpdate,ye=ae.type;J(),Fe.autoReset=O,ae.enabled=ie,ae.autoUpdate=pe,ae.needsUpdate=ne,ae.type=ye}function $e(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function yt(O){const ie=O.target;ie.removeEventListener("dispose",yt),Jt(ie)}function Jt(O){Z(O),he.remove(O)}function Z(O){const ie=he.get(O).programs;ie!==void 0&&(ie.forEach(function(pe){je.releaseProgram(pe)}),O.isShaderMaterial&&je.releaseShaderCache(O))}this.renderBufferDirect=function(O,ie,pe,ne,ye,qe){ie===null&&(ie=xe);const st=ye.isMesh&&ye.matrixWorld.determinant()<0,ft=oy(O,ie,pe,ne,ye);_e.setMaterial(ne,st);let mt=pe.index,Ct=1;ne.wireframe===!0&&(mt=Ze.getWireframeAttribute(pe),Ct=2);const _t=pe.drawRange,St=pe.attributes.position;let cn=_t.start*Ct,fi=(_t.start+_t.count)*Ct;qe!==null&&(cn=Math.max(cn,qe.start*Ct),fi=Math.min(fi,(qe.start+qe.count)*Ct)),mt!==null?(cn=Math.max(cn,0),fi=Math.min(fi,mt.count)):St!=null&&(cn=Math.max(cn,0),fi=Math.min(fi,St.count));const Pr=fi-cn;if(Pr<0||Pr===1/0)return;ge.setup(ye,ne,ft,pe,mt);let bs,Yt=Pe;if(mt!==null&&(bs=Le.get(mt),Yt=tt,Yt.setIndex(bs)),ye.isMesh)ne.wireframe===!0?(_e.setLineWidth(ne.wireframeLinewidth*re()),Yt.setMode(1)):Yt.setMode(4);else if(ye.isLine){let dt=ne.linewidth;dt===void 0&&(dt=1),_e.setLineWidth(dt*re()),ye.isLineSegments?Yt.setMode(1):ye.isLineLoop?Yt.setMode(2):Yt.setMode(3)}else ye.isPoints?Yt.setMode(0):ye.isSprite&&Yt.setMode(4);if(ye.isInstancedMesh)Yt.renderInstances(cn,Pr,ye.count);else if(pe.isInstancedBufferGeometry){const dt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,_a=Math.min(pe.instanceCount,dt);Yt.renderInstances(cn,Pr,_a)}else Yt.render(cn,Pr)},this.compile=function(O,ie){function pe(ne,ye,qe){ne.transparent===!0&&ne.side===Hr&&ne.forceSinglePass===!1?(ne.side=Fi,ne.needsUpdate=!0,Mi(ne,ye,qe),ne.side=_s,ne.needsUpdate=!0,Mi(ne,ye,qe),ne.side=Hr):Mi(ne,ye,qe)}p=z.get(O),p.init(),y.push(p),O.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ie.layers)&&(p.pushLight(ne),ne.castShadow&&p.pushShadow(ne))}),p.setupLights(g.physicallyCorrectLights),O.traverse(function(ne){const ye=ne.material;if(ye)if(Array.isArray(ye))for(let qe=0;qe<ye.length;qe++){const st=ye[qe];pe(st,O,ne)}else pe(ye,O,ne)}),y.pop(),p=null};let fe=null;function Ae(O){fe&&fe(O)}function ze(){Bt.stop()}function Ye(){Bt.start()}const Bt=new wR;Bt.setAnimationLoop(Ae),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function(O){fe=O,ue.setAnimationLoop(O),O===null?Bt.stop():Bt.start()},ue.addEventListener("sessionstart",ze),ue.addEventListener("sessionend",Ye),this.render=function(O,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),ue.enabled===!0&&ue.isPresenting===!0&&(ue.cameraAutoUpdate===!0&&ue.updateCamera(ie),ie=ue.getCamera()),O.isScene===!0&&O.onBeforeRender(g,O,ie,S),p=z.get(O,y.length),p.init(),y.push(p),te.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),$.setFromProjectionMatrix(te),W=this.localClippingEnabled,F=D.init(this.clippingPlanes,W),h=Mt.get(O,m.length),h.init(),m.push(h),vn(O,ie,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(V,G),F===!0&&D.beginShadows();const pe=p.state.shadowsArray;if(ae.render(pe,O,ie),F===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(h,O),p.setupLights(g.physicallyCorrectLights),ie.isArrayCamera){const ne=ie.cameras;for(let ye=0,qe=ne.length;ye<qe;ye++){const st=ne[ye];Nn(h,O,st,st.viewport)}}else Nn(h,O,ie);S!==null&&(le.updateMultisampleRenderTarget(S),le.updateRenderTargetMipmap(S)),O.isScene===!0&&O.onAfterRender(g,O,ie),ge.resetDefaultState(),M=-1,b=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function vn(O,ie,pe,ne){if(O.visible===!1)return;if(O.layers.test(ie.layers)){if(O.isGroup)pe=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ie);else if(O.isLight)p.pushLight(O),O.castShadow&&p.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||$.intersectsSprite(O)){ne&&oe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(te);const st=Je.update(O),ft=O.material;ft.visible&&h.push(O,st,ft,pe,oe.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==Fe.render.frame&&(O.skeleton.update(),O.skeleton.frame=Fe.render.frame),!O.frustumCulled||$.intersectsObject(O))){ne&&oe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(te);const st=Je.update(O),ft=O.material;if(Array.isArray(ft)){const mt=st.groups;for(let Ct=0,_t=mt.length;Ct<_t;Ct++){const St=mt[Ct],cn=ft[St.materialIndex];cn&&cn.visible&&h.push(O,st,cn,pe,oe.z,St)}}else ft.visible&&h.push(O,st,ft,pe,oe.z,null)}}const qe=O.children;for(let st=0,ft=qe.length;st<ft;st++)vn(qe[st],ie,pe,ne)}function Nn(O,ie,pe,ne){const ye=O.opaque,qe=O.transmissive,st=O.transparent;p.setupLightsView(pe),F===!0&&D.setGlobalState(g.clippingPlanes,pe),qe.length>0&&ts(ye,ie,pe),ne&&_e.viewport(P.copy(ne)),ye.length>0&&Gt(ye,ie,pe),qe.length>0&&Gt(qe,ie,pe),st.length>0&&Gt(st,ie,pe),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function ts(O,ie,pe){const ne=Ne.isWebGL2;X===null&&(X=new Yr(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")?sc:lo,minFilter:Ss,samples:ne&&s===!0?4:0})),g.getDrawingBufferSize(K),ne?X.setSize(K.x,K.y):X.setSize(Ng(K.x),Ng(K.y));const ye=g.getRenderTarget();g.setRenderTarget(X),g.clear();const qe=g.toneMapping;g.toneMapping=jr,Gt(O,ie,pe),g.toneMapping=qe,le.updateMultisampleRenderTarget(X),le.updateRenderTargetMipmap(X),g.setRenderTarget(ye)}function Gt(O,ie,pe){const ne=ie.isScene===!0?ie.overrideMaterial:null;for(let ye=0,qe=O.length;ye<qe;ye++){const st=O[ye],ft=st.object,mt=st.geometry,Ct=ne===null?st.material:ne,_t=st.group;ft.layers.test(pe.layers)&&ir(ft,ie,pe,mt,Ct,_t)}}function ir(O,ie,pe,ne,ye,qe){O.onBeforeRender(g,ie,pe,ne,ye,qe),O.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),ye.onBeforeRender(g,ie,pe,ne,O,qe),ye.transparent===!0&&ye.side===Hr&&ye.forceSinglePass===!1?(ye.side=Fi,ye.needsUpdate=!0,g.renderBufferDirect(pe,ie,ne,ye,O,qe),ye.side=_s,ye.needsUpdate=!0,g.renderBufferDirect(pe,ie,ne,ye,O,qe),ye.side=Hr):g.renderBufferDirect(pe,ie,ne,ye,O,qe),O.onAfterRender(g,ie,pe,ne,ye,qe)}function Mi(O,ie,pe){ie.isScene!==!0&&(ie=xe);const ne=he.get(O),ye=p.state.lights,qe=p.state.shadowsArray,st=ye.state.version,ft=je.getParameters(O,ye.state,qe,ie,pe),mt=je.getProgramCacheKey(ft);let Ct=ne.programs;ne.environment=O.isMeshStandardMaterial?ie.environment:null,ne.fog=ie.fog,ne.envMap=(O.isMeshStandardMaterial?Ge:Ce).get(O.envMap||ne.environment),Ct===void 0&&(O.addEventListener("dispose",yt),Ct=new Map,ne.programs=Ct);let _t=Ct.get(mt);if(_t!==void 0){if(ne.currentProgram===_t&&ne.lightsStateVersion===st)return Th(O,ft),_t}else ft.uniforms=je.getUniforms(O),O.onBuild(pe,ft,g),O.onBeforeCompile(ft,g),_t=je.acquireProgram(ft,mt),Ct.set(mt,_t),ne.uniforms=ft.uniforms;const St=ne.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(St.clippingPlanes=D.uniform),Th(O,ft),ne.needsLights=Lc(O),ne.lightsStateVersion=st,ne.needsLights&&(St.ambientLightColor.value=ye.state.ambient,St.lightProbe.value=ye.state.probe,St.directionalLights.value=ye.state.directional,St.directionalLightShadows.value=ye.state.directionalShadow,St.spotLights.value=ye.state.spot,St.spotLightShadows.value=ye.state.spotShadow,St.rectAreaLights.value=ye.state.rectArea,St.ltc_1.value=ye.state.rectAreaLTC1,St.ltc_2.value=ye.state.rectAreaLTC2,St.pointLights.value=ye.state.point,St.pointLightShadows.value=ye.state.pointShadow,St.hemisphereLights.value=ye.state.hemi,St.directionalShadowMap.value=ye.state.directionalShadowMap,St.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,St.spotShadowMap.value=ye.state.spotShadowMap,St.spotLightMatrix.value=ye.state.spotLightMatrix,St.spotLightMap.value=ye.state.spotLightMap,St.pointShadowMap.value=ye.state.pointShadowMap,St.pointShadowMatrix.value=ye.state.pointShadowMatrix);const cn=_t.getUniforms(),fi=ng.seqWithValue(cn.seq,St);return ne.currentProgram=_t,ne.uniformsList=fi,_t}function Th(O,ie){const pe=he.get(O);pe.outputEncoding=ie.outputEncoding,pe.instancing=ie.instancing,pe.skinning=ie.skinning,pe.morphTargets=ie.morphTargets,pe.morphNormals=ie.morphNormals,pe.morphColors=ie.morphColors,pe.morphTargetsCount=ie.morphTargetsCount,pe.numClippingPlanes=ie.numClippingPlanes,pe.numIntersection=ie.numClipIntersection,pe.vertexAlphas=ie.vertexAlphas,pe.vertexTangents=ie.vertexTangents,pe.toneMapping=ie.toneMapping}function oy(O,ie,pe,ne,ye){ie.isScene!==!0&&(ie=xe),le.resetTextureUnits();const qe=ie.fog,st=ne.isMeshStandardMaterial?ie.environment:null,ft=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:uo,mt=(ne.isMeshStandardMaterial?Ge:Ce).get(ne.envMap||st),Ct=ne.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,_t=!!ne.normalMap&&!!pe.attributes.tangent,St=!!pe.morphAttributes.position,cn=!!pe.morphAttributes.normal,fi=!!pe.morphAttributes.color,Pr=ne.toneMapped?g.toneMapping:jr,bs=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,Yt=bs!==void 0?bs.length:0,dt=he.get(ne),_a=p.state.lights;if(F===!0&&(W===!0||O!==b)){const Nt=O===b&&ne.id===M;D.setState(ne,O,Nt)}let fn=!1;ne.version===dt.__version?(dt.needsLights&&dt.lightsStateVersion!==_a.state.version||dt.outputEncoding!==ft||ye.isInstancedMesh&&dt.instancing===!1||!ye.isInstancedMesh&&dt.instancing===!0||ye.isSkinnedMesh&&dt.skinning===!1||!ye.isSkinnedMesh&&dt.skinning===!0||dt.envMap!==mt||ne.fog===!0&&dt.fog!==qe||dt.numClippingPlanes!==void 0&&(dt.numClippingPlanes!==D.numPlanes||dt.numIntersection!==D.numIntersection)||dt.vertexAlphas!==Ct||dt.vertexTangents!==_t||dt.morphTargets!==St||dt.morphNormals!==cn||dt.morphColors!==fi||dt.toneMapping!==Pr||Ne.isWebGL2===!0&&dt.morphTargetsCount!==Yt)&&(fn=!0):(fn=!0,dt.__version=ne.version);let Es=dt.currentProgram;fn===!0&&(Es=Mi(ne,ie,ye));let Fl=!1,rr=!1,sr=!1;const ct=Es.getUniforms(),Et=dt.uniforms;if(_e.useProgram(Es.program)&&(Fl=!0,rr=!0,sr=!0),ne.id!==M&&(M=ne.id,rr=!0),Fl||b!==O){if(ct.setValue(ee,"projectionMatrix",O.projectionMatrix),Ne.logarithmicDepthBuffer&&ct.setValue(ee,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),b!==O&&(b=O,rr=!0,sr=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const Nt=ct.map.cameraPosition;Nt!==void 0&&Nt.setValue(ee,oe.setFromMatrixPosition(O.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&ct.setValue(ee,"isOrthographic",O.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||ye.isSkinnedMesh)&&ct.setValue(ee,"viewMatrix",O.matrixWorldInverse)}if(ye.isSkinnedMesh){ct.setOptional(ee,ye,"bindMatrix"),ct.setOptional(ee,ye,"bindMatrixInverse");const Nt=ye.skeleton;Nt&&(Ne.floatVertexTextures?(Nt.boneTexture===null&&Nt.computeBoneTexture(),ct.setValue(ee,"boneTexture",Nt.boneTexture,le),ct.setValue(ee,"boneTextureSize",Nt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const or=pe.morphAttributes;if((or.position!==void 0||or.normal!==void 0||or.color!==void 0&&Ne.isWebGL2===!0)&&be.update(ye,pe,ne,Es),(rr||dt.receiveShadow!==ye.receiveShadow)&&(dt.receiveShadow=ye.receiveShadow,ct.setValue(ee,"receiveShadow",ye.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Et.envMap.value=mt,Et.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),rr&&(ct.setValue(ee,"toneMappingExposure",g.toneMappingExposure),dt.needsLights&&Ph(Et,sr),qe&&ne.fog===!0&&xt.refreshFogUniforms(Et,qe),xt.refreshMaterialUniforms(Et,ne,I,L,X),ng.upload(ee,dt.uniformsList,Et,le)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(ng.upload(ee,dt.uniformsList,Et,le),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&ct.setValue(ee,"center",ye.center),ct.setValue(ee,"modelViewMatrix",ye.modelViewMatrix),ct.setValue(ee,"normalMatrix",ye.normalMatrix),ct.setValue(ee,"modelMatrix",ye.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Nt=ne.uniformsGroups;for(let Un=0,Ts=Nt.length;Un<Ts;Un++)if(Ne.isWebGL2){const Ps=Nt[Un];Xe.update(Ps,Es),Xe.bind(Ps,Es)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Es}function Ph(O,ie){O.ambientLightColor.needsUpdate=ie,O.lightProbe.needsUpdate=ie,O.directionalLights.needsUpdate=ie,O.directionalLightShadows.needsUpdate=ie,O.pointLights.needsUpdate=ie,O.pointLightShadows.needsUpdate=ie,O.spotLights.needsUpdate=ie,O.spotLightShadows.needsUpdate=ie,O.rectAreaLights.needsUpdate=ie,O.hemisphereLights.needsUpdate=ie}function Lc(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(O,ie,pe){he.get(O.texture).__webglTexture=ie,he.get(O.depthTexture).__webglTexture=pe;const ne=he.get(O);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=pe===void 0,ne.__autoAllocateDepthBuffer||Re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ie){const pe=he.get(O);pe.__webglFramebuffer=ie,pe.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(O,ie=0,pe=0){S=O,x=ie,_=pe;let ne=!0,ye=null,qe=!1,st=!1;if(O){const mt=he.get(O);mt.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(36160,null),ne=!1):mt.__webglFramebuffer===void 0?le.setupRenderTarget(O):mt.__hasExternalTextures&&le.rebindTextures(O,he.get(O.texture).__webglTexture,he.get(O.depthTexture).__webglTexture);const Ct=O.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(st=!0);const _t=he.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(ye=_t[ie],qe=!0):Ne.isWebGL2&&O.samples>0&&le.useMultisampledRTT(O)===!1?ye=he.get(O).__webglMultisampledFramebuffer:ye=_t,P.copy(O.viewport),R.copy(O.scissor),E=O.scissorTest}else P.copy(N).multiplyScalar(I).floor(),R.copy(j).multiplyScalar(I).floor(),E=Y;if(_e.bindFramebuffer(36160,ye)&&Ne.drawBuffers&&ne&&_e.drawBuffers(O,ye),_e.viewport(P),_e.scissor(R),_e.setScissorTest(E),qe){const mt=he.get(O.texture);ee.framebufferTexture2D(36160,36064,34069+ie,mt.__webglTexture,pe)}else if(st){const mt=he.get(O.texture),Ct=ie||0;ee.framebufferTextureLayer(36160,36064,mt.__webglTexture,pe||0,Ct)}M=-1},this.readRenderTargetPixels=function(O,ie,pe,ne,ye,qe,st){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=he.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&st!==void 0&&(ft=ft[st]),ft){_e.bindFramebuffer(36160,ft);try{const mt=O.texture,Ct=mt.format,_t=mt.type;if(Ct!==Bi&&ke.convert(Ct)!==ee.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const St=_t===sc&&(Re.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&Re.has("EXT_color_buffer_float"));if(_t!==lo&&ke.convert(_t)!==ee.getParameter(35738)&&!(_t===Qs&&(Ne.isWebGL2||Re.has("OES_texture_float")||Re.has("WEBGL_color_buffer_float")))&&!St){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=O.width-ne&&pe>=0&&pe<=O.height-ye&&ee.readPixels(ie,pe,ne,ye,ke.convert(Ct),ke.convert(_t),qe)}finally{const mt=S!==null?he.get(S).__webglFramebuffer:null;_e.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(O,ie,pe=0){const ne=Math.pow(2,-pe),ye=Math.floor(ie.image.width*ne),qe=Math.floor(ie.image.height*ne);le.setTexture2D(ie,0),ee.copyTexSubImage2D(3553,pe,0,0,O.x,O.y,ye,qe),_e.unbindTexture()},this.copyTextureToTexture=function(O,ie,pe,ne=0){const ye=ie.image.width,qe=ie.image.height,st=ke.convert(pe.format),ft=ke.convert(pe.type);le.setTexture2D(pe,0),ee.pixelStorei(37440,pe.flipY),ee.pixelStorei(37441,pe.premultiplyAlpha),ee.pixelStorei(3317,pe.unpackAlignment),ie.isDataTexture?ee.texSubImage2D(3553,ne,O.x,O.y,ye,qe,st,ft,ie.image.data):ie.isCompressedTexture?ee.compressedTexSubImage2D(3553,ne,O.x,O.y,ie.mipmaps[0].width,ie.mipmaps[0].height,st,ie.mipmaps[0].data):ee.texSubImage2D(3553,ne,O.x,O.y,st,ft,ie.image),ne===0&&pe.generateMipmaps&&ee.generateMipmap(3553),_e.unbindTexture()},this.copyTextureToTexture3D=function(O,ie,pe,ne,ye=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qe=O.max.x-O.min.x+1,st=O.max.y-O.min.y+1,ft=O.max.z-O.min.z+1,mt=ke.convert(ne.format),Ct=ke.convert(ne.type);let _t;if(ne.isData3DTexture)le.setTexture3D(ne,0),_t=32879;else if(ne.isDataArrayTexture)le.setTexture2DArray(ne,0),_t=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(37440,ne.flipY),ee.pixelStorei(37441,ne.premultiplyAlpha),ee.pixelStorei(3317,ne.unpackAlignment);const St=ee.getParameter(3314),cn=ee.getParameter(32878),fi=ee.getParameter(3316),Pr=ee.getParameter(3315),bs=ee.getParameter(32877),Yt=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;ee.pixelStorei(3314,Yt.width),ee.pixelStorei(32878,Yt.height),ee.pixelStorei(3316,O.min.x),ee.pixelStorei(3315,O.min.y),ee.pixelStorei(32877,O.min.z),pe.isDataTexture||pe.isData3DTexture?ee.texSubImage3D(_t,ye,ie.x,ie.y,ie.z,qe,st,ft,mt,Ct,Yt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ee.compressedTexSubImage3D(_t,ye,ie.x,ie.y,ie.z,qe,st,ft,mt,Yt.data)):ee.texSubImage3D(_t,ye,ie.x,ie.y,ie.z,qe,st,ft,mt,Ct,Yt),ee.pixelStorei(3314,St),ee.pixelStorei(32878,cn),ee.pixelStorei(3316,fi),ee.pixelStorei(3315,Pr),ee.pixelStorei(32877,bs),ye===0&&ne.generateMipmaps&&ee.generateMipmap(_t),_e.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?le.setTextureCube(O,0):O.isData3DTexture?le.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?le.setTexture2DArray(O,0):le.setTexture2D(O,0),_e.unbindTexture()},this.resetState=function(){x=0,_=0,S=null,_e.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class RR extends SS{}RR.prototype.isWebGL1Renderer=!0;class T0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new T0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class P0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=i}clone(){return new P0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class wS extends Pt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class ih{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ed,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const pi=new k;class la{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Zs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Zs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Zs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Zs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array),s=Vt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ot(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new la(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MS extends Bn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uu;const pf=new k,cu=new k,fu=new k,du=new me,mf=new me,LR=new rt,sm=new k,gf=new k,om=new k,gE=new me,ux=new me,yE=new me;class IR extends Pt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",uu===void 0){uu=new ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new ih(t,5);uu.setIndex([0,1,2,0,2,3]),uu.setAttribute("position",new la(i,3,0,!1)),uu.setAttribute("uv",new la(i,2,3,!1))}this.geometry=uu,this.material=e!==void 0?e:new MS,this.center=new me(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cu.setFromMatrixScale(this.matrixWorld),LR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cu.multiplyScalar(-fu.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;am(sm.set(-.5,-.5,0),fu,o,cu,r,s),am(gf.set(.5,-.5,0),fu,o,cu,r,s),am(om.set(.5,.5,0),fu,o,cu,r,s),gE.set(0,0),ux.set(1,0),yE.set(1,1);let a=e.ray.intersectTriangle(sm,gf,om,!1,pf);if(a===null&&(am(gf.set(-.5,.5,0),fu,o,cu,r,s),ux.set(0,1),a=e.ray.intersectTriangle(sm,om,gf,!1,pf),a===null))return;const l=e.ray.origin.distanceTo(pf);l<e.near||l>e.far||t.push({distance:l,point:pf.clone(),uv:Sr.getUV(pf,sm,gf,om,gE,ux,yE,new me),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function am(n,e,t,i,r,s){du.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(mf.x=s*du.x-r*du.y,mf.y=r*du.x+s*du.y):mf.copy(du),n.copy(e),n.x+=mf.x,n.y+=mf.y,n.applyMatrix4(LR)}const lm=new k,vE=new k;class DR extends Pt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){lm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(lm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lm.setFromMatrixPosition(e.matrixWorld),vE.setFromMatrixPosition(this.matrixWorld);const i=lm.distanceTo(vE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const xE=new k,AE=new Ut,_E=new Ut,_H=new k,SE=new rt;class CS extends Fn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new rt,this.bindMatrixInverse=new rt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;AE.fromBufferAttribute(r.attributes.skinIndex,e),_E.fromBufferAttribute(r.attributes.skinWeight,e),xE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=_E.getComponent(s);if(o!==0){const a=AE.getComponent(s);SE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(_H.copy(xE).applyMatrix4(SE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class B0 extends Pt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xu extends en{constructor(e=null,t=1,i=1,r,s,o,a,l,u=yn,d=yn,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const wE=new rt,SH=new rt;class rh{constructor(e=[],t=[]){this.uuid=Qi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new rt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:SH;wE.multiplyMatrices(a,t[s]),wE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new rh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=vR(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Xu(t,e,e,Bi,Qs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new B0),this.bones.push(o),this.boneInverses.push(new rt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class uc extends Ot{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ME=new rt,CE=new rt,um=[],wH=new rt,yf=new Fn;class FR extends Fn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new uc(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,wH)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(yf.geometry=this.geometry,yf.material=this.material,yf.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,ME),CE.multiplyMatrices(i,ME),yf.matrixWorld=CE,yf.raycast(e,um);for(let o=0,a=um.length;o<a;o++){const l=um[o];l.instanceId=s,l.object=this,t.push(l)}um.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new uc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ci extends Bn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bE=new k,EE=new k,TE=new rt,cx=new eh,cm=new ga;class co extends Pt{constructor(e=new ut,t=new ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)bE.fromBufferAttribute(t,r-1),EE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=bE.distanceTo(EE);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),cm.copy(i.boundingSphere),cm.applyMatrix4(r),cm.radius+=s,e.ray.intersectsSphere(cm)===!1)return;TE.copy(r).invert(),cx.copy(e.ray).applyMatrix4(TE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new k,d=new k,h=new k,p=new k,m=this.isLineSegments?2:1,y=i.index,A=i.attributes.position;if(y!==null){const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){const b=y.getX(S),P=y.getX(S+1);if(u.fromBufferAttribute(A,b),d.fromBufferAttribute(A,P),cx.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(A.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){if(u.fromBufferAttribute(A,S),d.fromBufferAttribute(A,S+1),cx.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const PE=new k,BE=new k;class qr extends co{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)PE.fromBufferAttribute(t,r),BE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+PE.distanceTo(BE);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bS extends co{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class sh extends Bn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const RE=new rt,xA=new eh,fm=new ga,dm=new k;let ES=class extends Pt{constructor(e=new ut,t=new sh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fm.copy(i.boundingSphere),fm.applyMatrix4(r),fm.radius+=s,e.ray.intersectsSphere(fm)===!1)return;RE.copy(r).invert(),xA.copy(e.ray).applyMatrix4(RE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const A=u.getX(y);dm.fromBufferAttribute(h,A),LE(dm,A,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,g=m;y<g;y++)dm.fromBufferAttribute(h,y),LE(dm,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function LE(n,e,t,i,r,s,o){const a=xA.distanceSqToPoint(n);if(a<t){const l=new k;xA.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class MH extends en{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:sn,this.magFilter=s!==void 0?s:sn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class CH extends en{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=yn,this.minFilter=yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class TS extends en{constructor(e,t,i,r,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class bH extends TS{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Yn}}class EH extends en{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $r{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new me:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,l=new rt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new k)}s[0]=new k,o[0]=new k;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),h<=u&&(u=h,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Sn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Sn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class R0 extends $r{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new me,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class kR extends R0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function PS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const hm=new k,fx=new PS,dx=new PS,hx=new PS;class OR extends $r{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=r[(a-1)%s]:(hm.subVectors(r[0],r[1]).add(r[0]),u=hm);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(hm.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=hm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(d),m);g<1e-4&&(g=1),y<1e-4&&(y=g),A<1e-4&&(A=g),fx.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,y,g,A),dx.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,y,g,A),hx.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,y,g,A)}else this.curveType==="catmullrom"&&(fx.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),dx.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),hx.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return i.set(fx.calc(l),dx.calc(l),hx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function IE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function TH(n,e){const t=1-n;return t*t*e}function PH(n,e){return 2*(1-n)*n*e}function BH(n,e){return n*n*e}function Kf(n,e,t,i){return TH(n,e)+PH(n,t)+BH(n,i)}function RH(n,e){const t=1-n;return t*t*t*e}function LH(n,e){const t=1-n;return 3*t*t*n*e}function IH(n,e){return 3*(1-n)*n*n*e}function DH(n,e){return n*n*n*e}function Yf(n,e,t,i,r){return RH(n,e)+LH(n,t)+IH(n,i)+DH(n,r)}class BS extends $r{constructor(e=new me,t=new me,i=new me,r=new me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Yf(e,r.x,s.x,o.x,a.x),Yf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NR extends $r{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Yf(e,r.x,s.x,o.x,a.x),Yf(e,r.y,s.y,o.y,a.y),Yf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L0 extends $r{constructor(e=new me,t=new me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new me){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new me;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UR extends $r{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RS extends $r{constructor(e=new me,t=new me,i=new me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Kf(e,r.x,s.x,o.x),Kf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LS extends $r{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Kf(e,r.x,s.x,o.x),Kf(e,r.y,s.y,o.y),Kf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IS extends $r{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new me){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(IE(a,l.x,u.x,d.x,h.x),IE(a,l.y,u.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new me().fromArray(r))}return this}}var DS=Object.freeze({__proto__:null,ArcCurve:kR,CatmullRomCurve3:OR,CubicBezierCurve:BS,CubicBezierCurve3:NR,EllipseCurve:R0,LineCurve:L0,LineCurve3:UR,QuadraticBezierCurve:RS,QuadraticBezierCurve3:LS,SplineCurve:IS});class zR extends $r{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new L0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new DS[r.type]().fromJSON(r))}return this}}class Bd extends zR{constructor(e){super(),this.type="Path",this.currentPoint=new me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new L0(this.currentPoint.clone(),new me(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new RS(this.currentPoint.clone(),new me(e,t),new me(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new BS(this.currentPoint.clone(),new me(e,t),new me(i,r),new me(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new R0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cc extends ut{constructor(e=[new me(0,-.5),new me(.5,0),new me(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Sn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new k,p=new me,m=new k,y=new k,g=new k;let A=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:A=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-A,m.z=x*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:A=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-A,m.z=x*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let _=0;_<=t;_++){const S=i+_*d*r,M=Math.sin(S),b=Math.cos(S);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*b,o.push(h.x,h.y,h.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*M,E=l[3*P+1],T=l[3*P+0]*b;u.push(R,E,T)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,b=M,P=M+e.length,R=M+e.length+1,E=M+1;s.push(b,P,E),s.push(R,E,P)}this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("uv",new We(a,2)),this.setAttribute("normal",new We(u,3))}static fromJSON(e){return new Cc(e.points,e.segments,e.phiStart,e.phiLength)}}class oh extends Cc{constructor(e=1,t=1,i=4,r=8){const s=new Bd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new oh(e.radius,e.length,e.capSegments,e.radialSegments)}}class ah extends ut{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new k,d=new me;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("normal",new We(a,3)),this.setAttribute("uv",new We(l,2))}static fromJSON(e){return new ah(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pl extends ut{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const g=[],A=i/2;let x=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function _(){const M=new k,b=new k;let P=0;const R=(t-e)/i;for(let E=0;E<=s;E++){const T=[],L=E/s,I=L*(t-e)+e;for(let V=0;V<=r;V++){const G=V/r,N=G*l+a,j=Math.sin(N),Y=Math.cos(N);b.x=I*j,b.y=-L*i+A,b.z=I*Y,h.push(b.x,b.y,b.z),M.set(j,R,Y).normalize(),p.push(M.x,M.y,M.z),m.push(G,1-L),T.push(y++)}g.push(T)}for(let E=0;E<r;E++)for(let T=0;T<s;T++){const L=g[T][E],I=g[T+1][E],V=g[T+1][E+1],G=g[T][E+1];d.push(L,I,G),d.push(I,V,G),P+=6}u.addGroup(x,P,0),x+=P}function S(M){const b=y,P=new me,R=new k;let E=0;const T=M===!0?e:t,L=M===!0?1:-1;for(let V=1;V<=r;V++)h.push(0,A*L,0),p.push(0,L,0),m.push(.5,.5),y++;const I=y;for(let V=0;V<=r;V++){const N=V/r*l+a,j=Math.cos(N),Y=Math.sin(N);R.x=T*Y,R.y=A*L,R.z=T*j,h.push(R.x,R.y,R.z),p.push(0,L,0),P.x=j*.5+.5,P.y=Y*.5*L+.5,m.push(P.x,P.y),y++}for(let V=0;V<r;V++){const G=b+V,N=I+V;M===!0?d.push(N,N+1,G):d.push(N+1,N,G),E+=3}u.addGroup(x,E,M===!0?1:2),x+=E}}static fromJSON(e){return new Pl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lh extends Pl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new lh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mo extends ut{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),d(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(s.slice(),3)),this.setAttribute("uv",new We(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new k,M=new k,b=new k;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],M),m(t[P+2],b),l(S,M,b,_)}function l(_,S,M,b){const P=b+1,R=[];for(let E=0;E<=P;E++){R[E]=[];const T=_.clone().lerp(M,E/P),L=S.clone().lerp(M,E/P),I=P-E;for(let V=0;V<=I;V++)V===0&&E===P?R[E][V]=T:R[E][V]=T.clone().lerp(L,V/I)}for(let E=0;E<P;E++)for(let T=0;T<2*(P-E)-1;T++){const L=Math.floor(T/2);T%2===0?(p(R[E][L+1]),p(R[E+1][L]),p(R[E][L])):(p(R[E][L+1]),p(R[E+1][L+1]),p(R[E+1][L]))}}function u(_){const S=new k;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function d(){const _=new k;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=A(_)/2/Math.PI+.5,b=x(_)/Math.PI+.5;o.push(M,1-b)}y(),h()}function h(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],b=o[_+4],P=Math.max(S,M,b),R=Math.min(S,M,b);P>.9&&R<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),b<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function y(){const _=new k,S=new k,M=new k,b=new k,P=new me,R=new me,E=new me;for(let T=0,L=0;T<s.length;T+=9,L+=6){_.set(s[T+0],s[T+1],s[T+2]),S.set(s[T+3],s[T+4],s[T+5]),M.set(s[T+6],s[T+7],s[T+8]),P.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),E.set(o[L+4],o[L+5]),b.copy(_).add(S).add(M).divideScalar(3);const I=A(b);g(P,L+0,_,I),g(R,L+2,S,I),g(E,L+4,M,I)}}function g(_,S,M,b){b<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=b/2/Math.PI+.5)}function A(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new mo(e.vertices,e.indices,e.radius,e.details)}}class uh extends mo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uh(e.radius,e.detail)}}const pm=new k,mm=new k,px=new k,gm=new Sr;class GR extends ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(dl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:g,b:A,c:x}=gm;if(g.fromBufferAttribute(a,u[0]),A.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),gm.getNormal(px),h[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,h[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,h[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=h[_],b=h[S],P=gm[d[_]],R=gm[d[S]],E=`${M}_${b}`,T=`${b}_${M}`;T in p&&p[T]?(px.dot(p[T].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[T]=null):E in p||(p[E]={index0:u[_],index1:u[S],normal:px.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:A}=p[y];pm.fromBufferAttribute(a,g),mm.fromBufferAttribute(a,A),m.push(pm.x,pm.y,pm.z),m.push(mm.x,mm.y,mm.z)}this.setAttribute("position",new We(m,3))}}}class ml extends Bd{constructor(e){super(e),this.uuid=Qi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Bd().fromJSON(r))}return this}}const FH={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=HR(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,d,h,p,m;if(i&&(s=zH(n,e,s,t)),n.length>80*t){a=u=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?32767/m:0}return Rd(s,o,t,a,l,m,0),o}};function HR(n,e,t,i,r){let s,o;if(r===ZH(n,e,t,i)>0)for(s=e;s<t;s+=i)o=DE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=DE(s,n[s],n[s+1],o);return o&&I0(o,o.next)&&(Id(o),o=o.next),o}function Ml(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(I0(t,t.next)||on(t.prev,t,t.next)===0)){if(Id(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Rd(n,e,t,i,r,s,o){if(!n)return;!o&&s&&jH(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?OH(n,i,r,s):kH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Id(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=NH(Ml(n),e,t),Rd(n,e,t,i,r,s,2)):o===2&&UH(n,e,t,i,r,s):Rd(Ml(n),e,t,i,r,s,1);break}}}function kH(n){const e=n.prev,t=n,i=n.next;if(on(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&Fu(r,a,s,l,o,u,y.x,y.y)&&on(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function OH(n,e,t,i){const r=n.prev,s=n,o=n.next;if(on(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,y=d<h?d<p?d:p:h<p?h:p,g=a>l?a>u?a:u:l>u?l:u,A=d>h?d>p?d:p:h>p?h:p,x=AA(m,y,e,t,i),_=AA(g,A,e,t,i);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=x&&M&&M.z<=_;){if(S.x>=m&&S.x<=g&&S.y>=y&&S.y<=A&&S!==r&&S!==o&&Fu(a,d,l,h,u,p,S.x,S.y)&&on(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=g&&M.y>=y&&M.y<=A&&M!==r&&M!==o&&Fu(a,d,l,h,u,p,M.x,M.y)&&on(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=g&&S.y>=y&&S.y<=A&&S!==r&&S!==o&&Fu(a,d,l,h,u,p,S.x,S.y)&&on(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=g&&M.y>=y&&M.y<=A&&M!==r&&M!==o&&Fu(a,d,l,h,u,p,M.x,M.y)&&on(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function NH(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!I0(r,s)&&VR(r,i,i.next,s)&&Ld(r,s)&&Ld(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Id(i),Id(i.next),i=n=s),i=i.next}while(i!==n);return Ml(i)}function UH(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&KH(o,a)){let l=WR(o,a);o=Ml(o,o.next),l=Ml(l,l.next),Rd(o,e,t,i,r,s,0),Rd(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function zH(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=HR(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(XH(u));for(r.sort(GH),s=0;s<r.length;s++)t=HH(r[s],t);return t}function GH(n,e){return n.x-e.x}function HH(n,e){const t=VH(n,e);if(!t)return e;const i=WR(t,n);return Ml(i,i.next),Ml(t,t.next)}function VH(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Fu(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Ld(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&WH(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function WH(n,e){return on(n.prev,n,e.prev)<0&&on(e.next,n,n.next)<0}function jH(n,e,t,i){let r=n;do r.z===0&&(r.z=AA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,JH(r)}function JH(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function AA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function XH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Fu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function KH(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!YH(n,e)&&(Ld(n,e)&&Ld(e,n)&&QH(n,e)&&(on(n.prev,n,e.prev)||on(n,e.prev,e))||I0(n,e)&&on(n.prev,n,n.next)>0&&on(e.prev,e,e.next)>0)}function on(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function I0(n,e){return n.x===e.x&&n.y===e.y}function VR(n,e,t,i){const r=vm(on(n,e,t)),s=vm(on(n,e,i)),o=vm(on(t,i,n)),a=vm(on(t,i,e));return!!(r!==s&&o!==a||r===0&&ym(n,t,e)||s===0&&ym(n,i,e)||o===0&&ym(t,n,i)||a===0&&ym(t,e,i))}function ym(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vm(n){return n>0?1:n<0?-1:0}function YH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&VR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ld(n,e){return on(n.prev,n,n.next)<0?on(n,e,n.next)>=0&&on(n,n.prev,e)>=0:on(n,e,n.prev)<0||on(n,n.next,e)<0}function QH(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function WR(n,e){const t=new _A(n.i,n.x,n.y),i=new _A(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function DE(n,e,t,i){const r=new _A(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Id(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _A(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ZH(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ys{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ys.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];FE(e),kE(i,e);let o=e.length;t.forEach(FE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,kE(i,t[l]);const a=FH.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function FE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function kE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ch extends ut{constructor(e=new ml([new me(.5,.5),new me(-.5,.5),new me(-.5,-.5),new me(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new We(r,3)),this.setAttribute("uv",new We(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:qH;let S,M=!1,b,P,R,E;x&&(S=x.getSpacedPoints(d),M=!0,p=!1,b=x.computeFrenetFrames(d,!1),P=new k,R=new k,E=new k),p||(A=0,m=0,y=0,g=0);const T=a.extractPoints(u);let L=T.shape;const I=T.holes;if(!ys.isClockWise(L)){L=L.reverse();for(let he=0,le=I.length;he<le;he++){const Ce=I[he];ys.isClockWise(Ce)&&(I[he]=Ce.reverse())}}const G=ys.triangulateShape(L,I),N=L;for(let he=0,le=I.length;he<le;he++){const Ce=I[he];L=L.concat(Ce)}function j(he,le,Ce){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ce).add(he)}const Y=L.length,$=G.length;function F(he,le,Ce){let Ge,Le,Ze;const Je=he.x-le.x,je=he.y-le.y,xt=Ce.x-he.x,Mt=Ce.y-he.y,z=Je*Je+je*je,D=Je*Mt-je*xt;if(Math.abs(D)>Number.EPSILON){const ae=Math.sqrt(z),we=Math.sqrt(xt*xt+Mt*Mt),be=le.x-je/ae,Pe=le.y+Je/ae,tt=Ce.x-Mt/we,ke=Ce.y+xt/we,ge=((tt-be)*Mt-(ke-Pe)*xt)/(Je*Mt-je*xt);Ge=be+Je*ge-he.x,Le=Pe+je*ge-he.y;const Xe=Ge*Ge+Le*Le;if(Xe<=2)return new me(Ge,Le);Ze=Math.sqrt(Xe/2)}else{let ae=!1;Je>Number.EPSILON?xt>Number.EPSILON&&(ae=!0):Je<-Number.EPSILON?xt<-Number.EPSILON&&(ae=!0):Math.sign(je)===Math.sign(Mt)&&(ae=!0),ae?(Ge=-je,Le=Je,Ze=Math.sqrt(z)):(Ge=Je,Le=je,Ze=Math.sqrt(z/2))}return new me(Ge/Ze,Le/Ze)}const W=[];for(let he=0,le=N.length,Ce=le-1,Ge=he+1;he<le;he++,Ce++,Ge++)Ce===le&&(Ce=0),Ge===le&&(Ge=0),W[he]=F(N[he],N[Ce],N[Ge]);const X=[];let te,K=W.concat();for(let he=0,le=I.length;he<le;he++){const Ce=I[he];te=[];for(let Ge=0,Le=Ce.length,Ze=Le-1,Je=Ge+1;Ge<Le;Ge++,Ze++,Je++)Ze===Le&&(Ze=0),Je===Le&&(Je=0),te[Ge]=F(Ce[Ge],Ce[Ze],Ce[Je]);X.push(te),K=K.concat(te)}for(let he=0;he<A;he++){const le=he/A,Ce=m*Math.cos(le*Math.PI/2),Ge=y*Math.sin(le*Math.PI/2)+g;for(let Le=0,Ze=N.length;Le<Ze;Le++){const Je=j(N[Le],W[Le],Ge);Be(Je.x,Je.y,-Ce)}for(let Le=0,Ze=I.length;Le<Ze;Le++){const Je=I[Le];te=X[Le];for(let je=0,xt=Je.length;je<xt;je++){const Mt=j(Je[je],te[je],Ge);Be(Mt.x,Mt.y,-Ce)}}}const oe=y+g;for(let he=0;he<Y;he++){const le=p?j(L[he],K[he],oe):L[he];M?(R.copy(b.normals[0]).multiplyScalar(le.x),P.copy(b.binormals[0]).multiplyScalar(le.y),E.copy(S[0]).add(R).add(P),Be(E.x,E.y,E.z)):Be(le.x,le.y,0)}for(let he=1;he<=d;he++)for(let le=0;le<Y;le++){const Ce=p?j(L[le],K[le],oe):L[le];M?(R.copy(b.normals[he]).multiplyScalar(Ce.x),P.copy(b.binormals[he]).multiplyScalar(Ce.y),E.copy(S[he]).add(R).add(P),Be(E.x,E.y,E.z)):Be(Ce.x,Ce.y,h/d*he)}for(let he=A-1;he>=0;he--){const le=he/A,Ce=m*Math.cos(le*Math.PI/2),Ge=y*Math.sin(le*Math.PI/2)+g;for(let Le=0,Ze=N.length;Le<Ze;Le++){const Je=j(N[Le],W[Le],Ge);Be(Je.x,Je.y,h+Ce)}for(let Le=0,Ze=I.length;Le<Ze;Le++){const Je=I[Le];te=X[Le];for(let je=0,xt=Je.length;je<xt;je++){const Mt=j(Je[je],te[je],Ge);M?Be(Mt.x,Mt.y+S[d-1].y,S[d-1].x+Ce):Be(Mt.x,Mt.y,h+Ce)}}}xe(),re();function xe(){const he=r.length/3;if(p){let le=0,Ce=Y*le;for(let Ge=0;Ge<$;Ge++){const Le=G[Ge];Re(Le[2]+Ce,Le[1]+Ce,Le[0]+Ce)}le=d+A*2,Ce=Y*le;for(let Ge=0;Ge<$;Ge++){const Le=G[Ge];Re(Le[0]+Ce,Le[1]+Ce,Le[2]+Ce)}}else{for(let le=0;le<$;le++){const Ce=G[le];Re(Ce[2],Ce[1],Ce[0])}for(let le=0;le<$;le++){const Ce=G[le];Re(Ce[0]+Y*d,Ce[1]+Y*d,Ce[2]+Y*d)}}i.addGroup(he,r.length/3-he,0)}function re(){const he=r.length/3;let le=0;ee(N,le),le+=N.length;for(let Ce=0,Ge=I.length;Ce<Ge;Ce++){const Le=I[Ce];ee(Le,le),le+=Le.length}i.addGroup(he,r.length/3-he,1)}function ee(he,le){let Ce=he.length;for(;--Ce>=0;){const Ge=Ce;let Le=Ce-1;Le<0&&(Le=he.length-1);for(let Ze=0,Je=d+A*2;Ze<Je;Ze++){const je=Y*Ze,xt=Y*(Ze+1),Mt=le+Ge+je,z=le+Le+je,D=le+Le+xt,ae=le+Ge+xt;Ne(Mt,z,D,ae)}}}function Be(he,le,Ce){l.push(he),l.push(le),l.push(Ce)}function Re(he,le,Ce){_e(he),_e(le),_e(Ce);const Ge=r.length/3,Le=_.generateTopUV(i,r,Ge-3,Ge-2,Ge-1);Fe(Le[0]),Fe(Le[1]),Fe(Le[2])}function Ne(he,le,Ce,Ge){_e(he),_e(le),_e(Ge),_e(le),_e(Ce),_e(Ge);const Le=r.length/3,Ze=_.generateSideWallUV(i,r,Le-6,Le-3,Le-2,Le-1);Fe(Ze[0]),Fe(Ze[1]),Fe(Ze[3]),Fe(Ze[1]),Fe(Ze[2]),Fe(Ze[3])}function _e(he){r.push(l[he*3+0]),r.push(l[he*3+1]),r.push(l[he*3+2])}function Fe(he){s.push(he.x),s.push(he.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return $H(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new DS[r.type]().fromJSON(r)),new ch(i,e.options)}}const qH={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new me(s,o),new me(a,l),new me(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],g=e[s*3],A=e[s*3+1],x=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new me(o,1-l),new me(u,1-h),new me(p,1-y),new me(g,1-x)]:[new me(a,1-l),new me(d,1-h),new me(m,1-y),new me(A,1-x)]}};function $H(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class fh extends mo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fh(e.radius,e.detail)}}class bc extends mo{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bc(e.radius,e.detail)}}class dh extends ut{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/r,m=new k,y=new me;for(let g=0;g<=r;g++){for(let A=0;A<=i;A++){const x=s+A/i*o;m.x=h*Math.cos(x),m.y=h*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let g=0;g<r;g++){const A=g*(i+1);for(let x=0;x<i;x++){const _=x+A,S=_,M=_+i+1,b=_+i+2,P=_+1;a.push(S,M,P),a.push(M,b,P)}}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(u,3)),this.setAttribute("uv",new We(d,2))}static fromJSON(e){return new dh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class hh extends ut{constructor(e=new ml([new me(0,.5),new me(-.5,-.5),new me(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new We(r,3)),this.setAttribute("normal",new We(s,3)),this.setAttribute("uv",new We(o,2));function u(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;ys.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,x=y.length;A<x;A++){const _=y[A];ys.isClockWise(_)===!0&&(y[A]=_.reverse())}const g=ys.triangulateShape(m,y);for(let A=0,x=y.length;A<x;A++){const _=y[A];m=m.concat(_)}for(let A=0,x=m.length;A<x;A++){const _=m[A];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let A=0,x=g.length;A<x;A++){const _=g[A],S=_[0]+h,M=_[1]+h,b=_[2]+h;i.push(S,M,b),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return e9(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new hh(i,e.curveSegments)}}function e9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Ec extends ut{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new k,p=new k,m=[],y=[],g=[],A=[];for(let x=0;x<=i;x++){const _=[],S=x/i;let M=0;x==0&&o==0?M=.5/t:x==i&&l==Math.PI&&(M=-.5/t);for(let b=0;b<=t;b++){const P=b/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+S*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),A.push(P+M,1-S),_.push(u++)}d.push(_)}for(let x=0;x<i;x++)for(let _=0;_<t;_++){const S=d[x][_+1],M=d[x][_],b=d[x+1][_],P=d[x+1][_+1];(x!==0||o>0)&&m.push(S,M,P),(x!==i-1||l<Math.PI)&&m.push(M,b,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(g,3)),this.setAttribute("uv",new We(A,2))}static fromJSON(e){return new Ec(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ph extends mo{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ph(e.radius,e.detail)}}class mh extends ut{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],d=new k,h=new k,p=new k;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const g=y/r*s,A=m/i*Math.PI*2;h.x=(e+t*Math.cos(A))*Math.cos(g),h.y=(e+t*Math.cos(A))*Math.sin(g),h.z=t*Math.sin(A),a.push(h.x,h.y,h.z),d.x=e*Math.cos(g),d.y=e*Math.sin(g),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(y/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const g=(r+1)*m+y-1,A=(r+1)*(m-1)+y-1,x=(r+1)*(m-1)+y,_=(r+1)*m+y;o.push(g,A,_),o.push(A,x,_)}this.setIndex(o),this.setAttribute("position",new We(a,3)),this.setAttribute("normal",new We(l,3)),this.setAttribute("uv",new We(u,2))}static fromJSON(e){return new mh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gh extends ut{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],d=[],h=new k,p=new k,m=new k,y=new k,g=new k,A=new k,x=new k;for(let S=0;S<=i;++S){const M=S/i*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,y),A.subVectors(y,m),x.addVectors(y,m),g.crossVectors(A,x),x.crossVectors(g,A),g.normalize(),x.normalize();for(let b=0;b<=r;++b){const P=b/r*Math.PI*2,R=-t*Math.cos(P),E=t*Math.sin(P);h.x=m.x+(R*x.x+E*g.x),h.y=m.y+(R*x.y+E*g.y),h.z=m.z+(R*x.z+E*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(S/i),d.push(b/r)}}for(let S=1;S<=i;S++)for(let M=1;M<=r;M++){const b=(r+1)*(S-1)+(M-1),P=(r+1)*S+(M-1),R=(r+1)*S+M,E=(r+1)*(S-1)+M;a.push(b,P,E),a.push(P,R,E)}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(u,3)),this.setAttribute("uv",new We(d,2));function _(S,M,b,P,R){const E=Math.cos(S),T=Math.sin(S),L=b/M*S,I=Math.cos(L);R.x=P*(2+I)*.5*E,R.y=P*(2+I)*T*.5,R.z=P*Math.sin(L)*.5}}static fromJSON(e){return new gh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class yh extends ut{constructor(e=new LS(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,u=new me;let d=new k;const h=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function g(){for(let S=0;S<t;S++)A(S);A(s===!1?t:0),_(),x()}function A(S){d=e.getPointAt(S/t,d);const M=o.normals[S],b=o.binormals[S];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,E=Math.sin(R),T=-Math.cos(R);l.x=T*M.x+E*b.x,l.y=T*M.y+E*b.y,l.z=T*M.z+E*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function x(){for(let S=1;S<=t;S++)for(let M=1;M<=r;M++){const b=(r+1)*(S-1)+(M-1),P=(r+1)*S+(M-1),R=(r+1)*S+M,E=(r+1)*(S-1)+M;y.push(b,P,E),y.push(P,R,E)}}function _(){for(let S=0;S<=t;S++)for(let M=0;M<=r;M++)u.x=S/t,u.y=M/r,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new yh(new DS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jR extends ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,g=p+m;y<g;y+=3)for(let A=0;A<3;A++){const x=a.getX(y+A),_=a.getX(y+(A+1)%3);r.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),OE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),OE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new We(t,3))}}}function OE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var NE=Object.freeze({__proto__:null,BoxGeometry:ya,CapsuleGeometry:oh,CircleGeometry:ah,ConeGeometry:lh,CylinderGeometry:Pl,DodecahedronGeometry:uh,EdgesGeometry:GR,ExtrudeGeometry:ch,IcosahedronGeometry:fh,LatheGeometry:Cc,OctahedronGeometry:bc,PlaneGeometry:wc,PolyhedronGeometry:mo,RingGeometry:dh,ShapeGeometry:hh,SphereGeometry:Ec,TetrahedronGeometry:ph,TorusGeometry:mh,TorusKnotGeometry:gh,TubeGeometry:yh,WireframeGeometry:jR});class JR extends Bn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class XR extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Tc extends Bn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class go extends Tc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class KR extends Bn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$d,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YR extends Bn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QR extends Bn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class ZR extends Bn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$d,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qR extends Bn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=po,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $R extends ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function vr(n,e,t){return FS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function sl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function FS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function SA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function kS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function t9(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*r;if(!(y<t||y>=i)){h.push(u.times[m]);for(let g=0;g<d;++g)p.push(u.values[m*d+g])}}h.length!==0&&(u.times=sl(h,u.times.constructor),u.values=sl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function n9(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const x=d,_=h-d;g=vr(a.values,x,_)}else if(s>=a.times[y]){const x=y*h+d,_=x+h-d;g=vr(a.values,x,_)}else{const x=a.createInterpolant(),_=d,S=h-d;x.evaluate(s),g=vr(x.resultBuffer,_,S)}l==="quaternion"&&new Zn().fromArray(g).normalize().conjugate().toArray(g);const A=u.times.length;for(let x=0;x<A;++x){const _=x*m+p;if(l==="quaternion")Zn.multiplyQuaternionsFlat(u.values,_,g,0,u.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)u.values[_+M]-=g[M]}}}return n.blendMode=uS,n}var i9=Object.freeze({__proto__:null,arraySlice:vr,convertArray:sl,flattenJSON:kS,getKeyframeOrder:eL,isTypedArray:FS,makeClipAdditive:n9,sortedArray:SA,subclip:t9});class Pc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tL extends Pc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nl,endingEnd:nl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case il:s=e,a=2*t-i;break;case bd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case il:o=e,l=2*i-t;break;case bd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),g=y*y,A=g*y,x=-p*A+2*p*g-p*y,_=(1+p)*A+(-1.5-2*p)*g+(-.5+p)*y+1,S=(-1-m)*A+(1.5+m)*g+.5*y,M=m*A-m*g;for(let b=0;b!==a;++b)s[b]=x*o[d+b]+_*o[u+b]+S*o[l+b]+M*o[h+b];return s}}class OS extends Pc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class nL extends Pc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class es{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sl(t,this.TimeBufferType),this.values=sl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:sl(e.times,Array),values:sl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new nL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case oc:t=this.InterpolantFactoryMethodDiscrete;break;case wl:t=this.InterpolantFactoryMethodLinear;break;case $m:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return oc;case this.InterpolantFactoryMethodLinear:return wl;case this.InterpolantFactoryMethodSmooth:return $m}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=vr(i,s,o),this.values=vr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&FS(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=vr(this.times),t=vr(this.values),i=this.getValueSize(),r=this.getInterpolation()===$m,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const g=t[h+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=vr(e,0,o),this.values=vr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=vr(this.times,0),t=vr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}es.prototype.TimeBufferType=Float32Array;es.prototype.ValueBufferType=Float32Array;es.prototype.DefaultInterpolation=wl;class Bl extends es{}Bl.prototype.ValueTypeName="bool";Bl.prototype.ValueBufferType=Array;Bl.prototype.DefaultInterpolation=oc;Bl.prototype.InterpolantFactoryMethodLinear=void 0;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class NS extends es{}NS.prototype.ValueTypeName="color";class cc extends es{}cc.prototype.ValueTypeName="number";class iL extends Pc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Zn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class ua extends es{InterpolantFactoryMethodLinear(e){return new iL(this.times,this.values,this.getValueSize(),e)}}ua.prototype.ValueTypeName="quaternion";ua.prototype.DefaultInterpolation=wl;ua.prototype.InterpolantFactoryMethodSmooth=void 0;class Rl extends es{}Rl.prototype.ValueTypeName="string";Rl.prototype.ValueBufferType=Array;Rl.prototype.DefaultInterpolation=oc;Rl.prototype.InterpolantFactoryMethodLinear=void 0;Rl.prototype.InterpolantFactoryMethodSmooth=void 0;class fc extends es{}fc.prototype.ValueTypeName="vector";class dc{constructor(e,t=-1,i,r=M0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Qi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(s9(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(es.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=eL(l);l=SA(l,1,d),u=SA(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new cc(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,g){if(m.length!==0){const A=[],x=[];kS(m,A,x,y),A.length!==0&&g.push(new h(p,A,x))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const A=[],x=[];for(let _=0;_!==p[y].morphTargets.length;++_){const S=p[y];A.push(S.time),x.push(S.morphTarget===g?1:0)}r.push(new cc(".morphTargetInfluence["+g+"]",A,x))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(fc,m+".position",p,"pos",r),i(ua,m+".quaternion",p,"rot",r),i(fc,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function r9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cc;case"vector":case"vector2":case"vector3":case"vector4":return fc;case"color":return NS;case"quaternion":return ua;case"bool":case"boolean":return Bl;case"string":return Rl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function s9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=r9(n.type);if(n.times===void 0){const t=[],i=[];kS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Cl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class US{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const ku=new US;class wi{constructor(e){this.manager=e!==void 0?e:ku,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Gs={};class o9 extends Error{constructor(e,t){super(e),this.response=t}}class $i extends wi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Cl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Gs[e]!==void 0){Gs[e].push({onLoad:t,onProgress:i,onError:r});return}Gs[e]=[],Gs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Gs[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let g=0;const A=new ReadableStream({start(x){_();function _(){h.read().then(({done:S,value:M})=>{if(S)x.close();else{g+=M.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let P=0,R=d.length;P<R;P++){const E=d[P];E.onProgress&&E.onProgress(b)}x.enqueue(M),_()}})}}});return new Response(A)}else throw new o9(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Cl.add(e,u);const d=Gs[e];delete Gs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=Gs[e];if(d===void 0)throw this.manager.itemError(e),u;delete Gs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class a9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new $i(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=dc.parse(e[i]);t.push(r)}return t}}class l9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new TS,l=new $i(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=sn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=sn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Dd extends wi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Pd("img");function l(){d(),Cl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class u9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=new nh,o=new Dd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class c9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Xu,a=new $i(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Yn,o.wrapT=u.wrapT!==void 0?u.wrapT:Yn,o.magFilter=u.magFilter!==void 0?u.magFilter:sn,o.minFilter=u.minFilter!==void 0?u.minFilter:sn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ss),u.mipmapCount===1&&(o.minFilter=sn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},i,r),o}}class vh extends wi{constructor(e){super(e)}load(e,t,i,r){const s=new en,o=new Dd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class va extends Pt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class rL extends va{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const mx=new rt,UE=new k,zE=new k;class zS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new me(512,512),this.map=null,this.mapPass=null,this.matrix=new rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new b0,this._frameExtents=new me(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;UE.setFromMatrixPosition(e.matrixWorld),t.position.copy(UE),zE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(zE),t.updateMatrixWorld(),mx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(mx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class f9 extends zS{constructor(){super(new Wt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Td*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class GS extends va{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new f9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const GE=new rt,vf=new k,gx=new k;class d9 extends zS{constructor(){super(new Wt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new me(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),vf.setFromMatrixPosition(e.matrixWorld),i.position.copy(vf),gx.copy(i.position),gx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(gx),i.updateMatrixWorld(),r.makeTranslation(-vf.x,-vf.y,-vf.z),GE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GE)}}class HS extends va{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new d9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class h9 extends zS{constructor(){super(new Jr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VS extends va{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.shadow=new h9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sL extends va{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class oL extends va{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class aL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class D0 extends va{constructor(e=new aL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class F0 extends wi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new $i(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=F0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new De().setHex(o.value);break;case"v2":r.uniforms[s].value=new me().fromArray(o.value);break;case"v3":r.uniforms[s].value=new k().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ut().fromArray(o.value);break;case"m3":r.uniforms[s].value=new vi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new rt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new me().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:JR,SpriteMaterial:MS,RawShaderMaterial:XR,ShaderMaterial:ws,PointsMaterial:sh,MeshPhysicalMaterial:go,MeshStandardMaterial:Tc,MeshPhongMaterial:KR,MeshToonMaterial:YR,MeshNormalMaterial:QR,MeshLambertMaterial:ZR,MeshDepthMaterial:AS,MeshDistanceMaterial:_S,MeshBasicMaterial:Ki,MeshMatcapMaterial:qR,LineDashedMaterial:$R,LineBasicMaterial:ci,Material:Bn};return new t[e]}}class vs{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class lL extends ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class uL extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new $i(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const A=m.interleavedBuffers[y],x=s(m,A.buffer),_=Iu(A.type,x),S=new ih(_,A.stride);return S.uuid=A.uuid,t[y]=S,S}function s(m,y){if(i[y]!==void 0)return i[y];const A=m.arrayBuffers[y],x=new Uint32Array(A).buffer;return i[y]=x,x}const o=e.isInstancedBufferGeometry?new lL:new ut,a=e.data.index;if(a!==void 0){const m=Iu(a.type,a.array);o.setIndex(new Ot(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const A=r(e.data,y.data);g=new la(A,y.itemSize,y.offset,y.normalized)}else{const A=Iu(y.type,y.array),x=y.isInstancedBufferAttribute?uc:Ot;g=new x(A,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],g=[];for(let A=0,x=y.length;A<x;A++){const _=y[A];let S;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);S=new la(M,_.itemSize,_.offset,_.normalized)}else{const M=Iu(_.type,_.array);S=new Ot(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),g.push(S)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new k;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ga(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class p9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new $i(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new $i(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ml().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new rh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new uL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in NE?a=NE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new F0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=dc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(d)}else return l.data?{data:Iu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new US(t);s=new Dd(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const A=p[y],x=a(A);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Xu(x.data,x.width,x.height)))}r[h.uuid]=new rl(m)}else{const m=a(h.url);r[h.uuid]=new rl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Iu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Dd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Xu(y.data,y.width,y.height)))}i[l.uuid]=new rl(d)}else{const d=await s(l.url);i[l.uuid]=new rl(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new nh,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Xu:d=new en,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,m9)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],HE),d.wrapT=i(a.wrap[1],HE)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,VE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,VE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const A=p[y];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(i[A])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new wS,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new P0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new T0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Wt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Jr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new sL(e.color,e.intensity);break;case"DirectionalLight":o=new VS(e.color,e.intensity);break;case"PointLight":o=new HS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new oL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new GS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new rL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new D0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new CS(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Fn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new FR(d,h,p),o.instanceMatrix=new uc(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new uc(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new DR;break;case"Line":o=new co(a(e.geometry),l(e.material));break;case"LineLoop":o=new bS(a(e.geometry),l(e.material));break;case"LineSegments":o=new qr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new ES(a(e.geometry),l(e.material));break;case"Sprite":o=new IR(l(e.material));break;case"Group":o=new qs;break;case"Bone":o=new B0;break;default:o=new Pt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const m9={UVMapping:S0,CubeReflectionMapping:sa,CubeRefractionMapping:oa,EquirectangularReflectionMapping:wd,EquirectangularRefractionMapping:Md,CubeUVReflectionMapping:Sc},HE={RepeatWrapping:aa,ClampToEdgeWrapping:Yn,MirroredRepeatWrapping:rc},VE={NearestFilter:yn,NearestMipmapNearestFilter:Cd,NearestMipmapLinearFilter:Ju,LinearFilter:sn,LinearMipmapNearestFilter:w0,LinearMipmapLinearFilter:Ss};class cL extends wi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Cl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let xm;class WS{static getContext(){return xm===void 0&&(xm=new(window.AudioContext||window.webkitAudioContext)),xm}static setContext(e){xm=e}}class g9 extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new $i(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);WS.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class y9 extends D0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new De().set(e),s=new De().set(t),o=new k(r.r,r.g,r.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class v9 extends D0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new De().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const WE=new rt,jE=new rt,Da=new rt;class x9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Da.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(dl*t.fov*.5)/t.zoom;let a,l;jE.elements[12]=-r,WE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Da.elements[0]=2*t.near/(l-a),Da.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Da),a=-o*t.aspect-s,l=o*t.aspect-s,Da.elements[0]=2*t.near/(l-a),Da.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Da)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(jE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WE)}}class jS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=JE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=JE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function JE(){return(typeof performance>"u"?Date:performance).now()}const Fa=new k,XE=new Zn,A9=new k,ka=new k;class _9 extends Pt{constructor(){super(),this.type="AudioListener",this.context=WS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fa,XE,A9),ka.set(0,0,-1).applyQuaternion(XE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Fa.x,r),t.positionY.linearRampToValueAtTime(Fa.y,r),t.positionZ.linearRampToValueAtTime(Fa.z,r),t.forwardX.linearRampToValueAtTime(ka.x,r),t.forwardY.linearRampToValueAtTime(ka.y,r),t.forwardZ.linearRampToValueAtTime(ka.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Fa.x,Fa.y,Fa.z),t.setOrientation(ka.x,ka.y,ka.z,i.x,i.y,i.z)}}class fL extends Pt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Oa=new k,KE=new Zn,S9=new k,Na=new k;class w9 extends fL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Oa,KE,S9),Na.set(0,0,1).applyQuaternion(KE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Oa.x,i),t.positionY.linearRampToValueAtTime(Oa.y,i),t.positionZ.linearRampToValueAtTime(Oa.z,i),t.orientationX.linearRampToValueAtTime(Na.x,i),t.orientationY.linearRampToValueAtTime(Na.y,i),t.orientationZ.linearRampToValueAtTime(Na.z,i)}else t.setPosition(Oa.x,Oa.y,Oa.z),t.setOrientation(Na.x,Na.y,Na.z)}}class M9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class dL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Zn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Zn.multiplyQuaternionsFlat(e,o,e,t,e,i),Zn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const JS="\\[\\]\\.:\\/",C9=new RegExp("["+JS+"]","g"),XS="[^"+JS+"]",b9="[^"+JS.replace("\\.","")+"]",E9=/((?:WC+[\/:])*)/.source.replace("WC",XS),T9=/(WCOD+)?/.source.replace("WCOD",b9),P9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XS),B9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XS),R9=new RegExp("^"+E9+T9+P9+B9+"$"),L9=["material","materials","bones","map"];class I9{constructor(e,t,i){const r=i||Tt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Tt{constructor(e,t,i){this.path=t,this.parsedPath=i||Tt.parseTrackName(t),this.node=Tt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Tt.Composite(e,t,i):new Tt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(C9,"")}static parseTrackName(e){const t=R9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);L9.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Tt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tt.Composite=I9;Tt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tt.prototype.GetterByBindingType=[Tt.prototype._getValue_direct,Tt.prototype._getValue_array,Tt.prototype._getValue_arrayElement,Tt.prototype._getValue_toArray];Tt.prototype.SetterByBindingTypeAndVersioning=[[Tt.prototype._setValue_direct,Tt.prototype._setValue_direct_setNeedsUpdate,Tt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_array,Tt.prototype._setValue_array_setNeedsUpdate,Tt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_arrayElement,Tt.prototype._setValue_arrayElement_setNeedsUpdate,Tt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_fromArray,Tt.prototype._setValue_fromArray_setNeedsUpdate,Tt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class D9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,A=o;g!==A;++g)s[g].push(new Tt(p,i[g],r[g]))}else if(y<u){a=e[y];const g=--u,A=e[g];t[A.uuid]=y,e[y]=A,t[m]=g,e[g]=p;for(let x=0,_=o;x!==_;++x){const S=s[x],M=S[g];let b=S[y];S[y]=M,b===void 0&&(b=new Tt(p,i[x],r[x])),S[g]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const g=i[m],A=g[h],x=g[d];g[d]=A,g[h]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let A=0,x=r;A!==x;++A){const _=i[A],S=_[p],M=_[y];_[h]=S,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,g=r;y!==g;++y){const A=i[y];A[h]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Tt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class F9{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:nl,endingEnd:nl};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case uS:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case M0:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===dR;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===cR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=il,r.endingEnd=il):(e?r.endingStart=this.zeroSlopeAtStart?il:nl:r.endingStart=bd,t?r.endingEnd=this.zeroSlopeAtEnd?il:nl:r.endingEnd=bd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const k9=new Float32Array(1);class O9 extends Ms{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;y=new dL(Tt.create(i,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new OS(new Float32Array(2),new Float32Array(2),1,k9),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?dc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=M0),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new F9(this,o,t,i);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?dc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class KS{constructor(e){this.value=e}clone(){return new KS(this.value.clone===void 0?this.value:this.value.clone())}}let N9=0;class U9 extends Ms{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:N9++}),this.name="",this.usage=Ed,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class z9 extends ih{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class G9{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class hL{constructor(e,t,i=0,r=1/0){this.ray=new eh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new pl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return wA(e,this,i,t),i.sort(YE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)wA(e[r],this,i,t);return i.sort(YE),i}}function YE(n,e){return n.distance-e.distance}function wA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)wA(r[s],e,t,!0)}}class MA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Sn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class H9{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const QE=new me;class V9{constructor(e=new me(1/0,1/0),t=new me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=QE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return QE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ZE=new k,Am=new k;class W9{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ZE.subVectors(e,this.start),Am.subVectors(this.end,this.start);const i=Am.dot(Am);let s=Am.dot(ZE)/i;return t&&(s=Sn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const qE=new k;class j9 extends Pt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ut,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new We(r,3));const s=new ci({fog:!1,toneMapped:!1});this.cone=new qr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Bo=new k,_m=new rt,yx=new rt;class J9 extends qr{constructor(e){const t=pL(e),i=new ut,r=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new We(r,3)),i.setAttribute("color",new We(s,3));const l=new ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");yx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(_m.multiplyMatrices(yx,a.matrixWorld),Bo.setFromMatrixPosition(_m),r.setXYZ(o,Bo.x,Bo.y,Bo.z),_m.multiplyMatrices(yx,a.parent.matrixWorld),Bo.setFromMatrixPosition(_m),r.setXYZ(o+1,Bo.x,Bo.y,Bo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function pL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,pL(n.children[t]));return e}class X9 extends Fn{constructor(e,t,i){const r=new Ec(t,4,2),s=new Ki({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const K9=new k,$E=new De,eT=new De;class Y9 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new bc(t);r.rotateY(Math.PI*.5),this.material=new Ki({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ot(o,3)),this.add(new Fn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");$E.copy(this.light.color),eT.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?$E:eT;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(K9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Q9 extends qr{constructor(e=10,t=10,i=4473924,r=8947848){i=new De(i),r=new De(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?i:r;g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3}const d=new ut;d.setAttribute("position",new We(l,3)),d.setAttribute("color",new We(u,3));const h=new ci({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Z9 extends qr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let g=y/r*(Math.PI*2),A=Math.sin(g)*m,x=Math.cos(g)*m;a.push(A,0,x),l.push(p.r,p.g,p.b),g=(y+1)/r*(Math.PI*2),A=Math.sin(g)*m,x=Math.cos(g)*m,a.push(A,0,x),l.push(p.r,p.g,p.b)}}const u=new ut;u.setAttribute("position",new We(a,3)),u.setAttribute("color",new We(l,3));const d=new ci({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const tT=new k,Sm=new k,nT=new k;class q9 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ut;r.setAttribute("position",new We([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ci({fog:!1,toneMapped:!1});this.lightPlane=new co(r,s),this.add(this.lightPlane),r=new ut,r.setAttribute("position",new We([0,0,0,0,0,1],3)),this.targetLine=new co(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),tT.setFromMatrixPosition(this.light.matrixWorld),Sm.setFromMatrixPosition(this.light.target.matrixWorld),nT.subVectors(Sm,tT),this.lightPlane.lookAt(Sm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sm),this.targetLine.scale.z=nT.length()}}const wm=new k,hn=new th;class $9 extends qr{constructor(e){const t=new ut,i=new ci({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,g){l(y),l(g)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new We(r,3)),t.setAttribute("color",new We(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new De(16755200),d=new De(16711680),h=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(u,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,hn,0,0,-1),An("t",t,e,hn,0,0,1),An("n1",t,e,hn,-i,-r,-1),An("n2",t,e,hn,i,-r,-1),An("n3",t,e,hn,-i,r,-1),An("n4",t,e,hn,i,r,-1),An("f1",t,e,hn,-i,-r,1),An("f2",t,e,hn,i,-r,1),An("f3",t,e,hn,-i,r,1),An("f4",t,e,hn,i,r,1),An("u1",t,e,hn,i*.7,r*1.1,-1),An("u2",t,e,hn,-i*.7,r*1.1,-1),An("u3",t,e,hn,0,r*2,-1),An("cf1",t,e,hn,-i,0,1),An("cf2",t,e,hn,i,0,1),An("cf3",t,e,hn,0,-r,1),An("cf4",t,e,hn,0,r,1),An("cn1",t,e,hn,-i,0,-1),An("cn2",t,e,hn,i,0,-1),An("cn3",t,e,hn,0,-r,-1),An("cn4",t,e,hn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function An(n,e,t,i,r,s,o){wm.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],wm.x,wm.y,wm.z)}}const Mm=new ma;class e6 extends qr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ut;s.setIndex(new Ot(i,1)),s.setAttribute("position",new Ot(r,3)),super(s,new ci({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Mm.setFromObject(this.object),Mm.isEmpty())return;const t=Mm.min,i=Mm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class t6 extends qr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ut;s.setIndex(new Ot(i,1)),s.setAttribute("position",new We(r,3)),super(s,new ci({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class n6 extends co{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ut;o.setAttribute("position",new We(s,3)),o.computeBoundingSphere(),super(o,new ci({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ut;l.setAttribute("position",new We(a,3)),l.computeBoundingSphere(),this.add(new Fn(l,new Ki({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const iT=new k;let Cm,vx;class i6 extends Pt{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Cm===void 0&&(Cm=new ut,Cm.setAttribute("position",new We([0,0,0,0,1,0],3)),vx=new Pl(0,.5,1,5,1),vx.translate(0,-.5,0)),this.position.copy(t),this.line=new co(Cm,new ci({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fn(vx,new Ki({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{iT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(iT,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class r6 extends qr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ut;r.setAttribute("position",new We(t,3)),r.setAttribute("color",new We(i,3));const s=new ci({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new De,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class s6{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Bd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let S=0,M=x.length;S<M;S++){const b=x[S],P=new ml;P.curves=b.curves,_.push(P)}return _}function i(x,_){const S=_.length;let M=!1;for(let b=S-1,P=0;P<S;b=P++){let R=_[b],E=_[P],T=E.x-R.x,L=E.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=_[P],T=-T,E=_[b],L=-L),x.y<R.y||x.y>E.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const I=L*(x.x-R.x)-T*(x.y-R.y);if(I===0)return!0;if(I<0)continue;M=!M}}else{if(x.y!==R.y)continue;if(E.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=E.x)return!0}}return M}const r=ys.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new ml,l.curves=a.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,g;p[y]=void 0,m[y]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],g=a.getPoints(),o=r(g),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new ml,p:g},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:g[0]});if(!p[0])return t(s);if(p.length>1){let x=!1,_=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const b=m[S];for(let P=0;P<b.length;P++){const R=b[P];let E=!0;for(let T=0;T<p.length;T++)i(R.p,p[T].p)&&(S!==T&&_++,E?(E=!1,h[T].push(R)):x=!0);E&&h[S].push(R)}}_>0&&x===!1&&(m=h)}let A;for(let x=0,_=p.length;x<_;x++){l=p[x].s,u.push(l),A=m[x];for(let S=0,M=A.length;S<M;S++)l.holes.push(A[S].h)}return u}}const js=o6();function o6(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function a6(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Sn(n,-65504,65504),js.floatView[0]=n;const e=js.uint32View[0],t=e>>23&511;return js.baseTable[t]+((e&8388607)>>js.shiftTable[t])}function l6(n){const e=n>>10;return js.uint32View[0]=js.mantissaTable[js.offsetTable[e]+(n&1023)]+js.exponentTable[e],js.floatView[0]}var u6=Object.freeze({__proto__:null,fromHalfFloat:l6,toHalfFloat:a6});class c6 extends ya{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class f6 extends oh{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class d6 extends ah{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class h6 extends lh{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class p6 extends Pl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class m6 extends uh{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class g6 extends ch{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class y6 extends fh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class v6 extends Cc{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class x6 extends bc{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class A6 extends wc{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class _6 extends mo{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class S6 extends dh{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class w6 extends hh{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class M6 extends Ec{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class C6 extends ph{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class b6 extends mh{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class E6 extends gh{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class T6 extends yh{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:A0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=A0);const CA=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aS,AddEquation:Ya,AddOperation:W3,AdditiveAnimationBlendMode:uS,AdditiveBlending:G1,AlphaFormat:eR,AlwaysDepth:O3,AlwaysStencilFunc:yR,AmbientLight:sL,AmbientLightProbe:v9,AnimationClip:dc,AnimationLoader:a9,AnimationMixer:O9,AnimationObjectGroup:D9,AnimationUtils:i9,ArcCurve:kR,ArrayCamera:PR,ArrowHelper:i6,Audio:fL,AudioAnalyser:M9,AudioContext:WS,AudioListener:_9,AudioLoader:g9,AxesHelper:r6,BackSide:Fi,BasicDepthPacking:pR,BasicShadowMap:w3,Bone:B0,BooleanKeyframeTrack:Bl,Box2:V9,Box3:ma,Box3Helper:t6,BoxBufferGeometry:c6,BoxGeometry:ya,BoxHelper:e6,BufferAttribute:Ot,BufferGeometry:ut,BufferGeometryLoader:uL,ByteType:Y3,Cache:Cl,Camera:th,CameraHelper:$9,CanvasTexture:EH,CapsuleBufferGeometry:f6,CapsuleGeometry:oh,CatmullRomCurve3:OR,CineonToneMapping:X3,CircleBufferGeometry:d6,CircleGeometry:ah,ClampToEdgeWrapping:Yn,Clock:jS,Color:De,ColorKeyframeTrack:NS,ColorManagement:oi,CompressedArrayTexture:bH,CompressedTexture:TS,CompressedTextureLoader:l9,ConeBufferGeometry:h6,ConeGeometry:lh,CubeCamera:yS,CubeReflectionMapping:sa,CubeRefractionMapping:oa,CubeTexture:nh,CubeTextureLoader:u9,CubeUVReflectionMapping:Sc,CubicBezierCurve:BS,CubicBezierCurve3:NR,CubicInterpolant:tL,CullFaceBack:z1,CullFaceFront:S3,CullFaceFrontBack:LN,CullFaceNone:_3,Curve:$r,CurvePath:zR,CustomBlending:M3,CustomToneMapping:K3,CylinderBufferGeometry:p6,CylinderGeometry:Pl,Cylindrical:H9,Data3DTexture:pS,DataArrayTexture:C0,DataTexture:Xu,DataTextureLoader:c9,DataUtils:u6,DecrementStencilOp:VN,DecrementWrapStencilOp:jN,DefaultLoadingManager:ku,DepthFormat:ta,DepthStencilFormat:Sl,DepthTexture:BR,DirectionalLight:VS,DirectionalLightHelper:q9,DiscreteInterpolant:nL,DodecahedronBufferGeometry:m6,DodecahedronGeometry:uh,DoubleSide:Hr,DstAlphaFactor:R3,DstColorFactor:I3,DynamicCopyUsage:s4,DynamicDrawUsage:fl,DynamicReadUsage:n4,EdgesGeometry:GR,EllipseCurve:R0,EqualDepth:U3,EqualStencilFunc:YN,EquirectangularReflectionMapping:wd,EquirectangularRefractionMapping:Md,Euler:Tl,EventDispatcher:Ms,ExtrudeBufferGeometry:g6,ExtrudeGeometry:ch,FileLoader:$i,Float16BufferAttribute:U4,Float32BufferAttribute:We,Float64BufferAttribute:z4,FloatType:Qs,Fog:P0,FogExp2:T0,FramebufferTexture:CH,FrontSide:_s,Frustum:b0,GLBufferAttribute:G9,GLSL1:a4,GLSL3:mA,GreaterDepth:G3,GreaterEqualDepth:z3,GreaterEqualStencilFunc:$N,GreaterStencilFunc:ZN,GridHelper:Q9,Group:qs,HalfFloatType:sc,HemisphereLight:rL,HemisphereLightHelper:Y9,HemisphereLightProbe:y9,IcosahedronBufferGeometry:y6,IcosahedronGeometry:fh,ImageBitmapLoader:cL,ImageLoader:Dd,ImageUtils:hS,IncrementStencilOp:HN,IncrementWrapStencilOp:WN,InstancedBufferAttribute:uc,InstancedBufferGeometry:lL,InstancedInterleavedBuffer:z9,InstancedMesh:FR,Int16BufferAttribute:O4,Int32BufferAttribute:N4,Int8BufferAttribute:D4,IntType:Z3,InterleavedBuffer:ih,InterleavedBufferAttribute:la,Interpolant:Pc,InterpolateDiscrete:oc,InterpolateLinear:wl,InterpolateSmooth:$m,InvertStencilOp:JN,KeepStencilOp:eg,KeyframeTrack:es,LOD:DR,LatheBufferGeometry:v6,LatheGeometry:Cc,Layers:pl,LessDepth:N3,LessEqualDepth:kg,LessEqualStencilFunc:QN,LessStencilFunc:KN,Light:va,LightProbe:D0,Line:co,Line3:W9,LineBasicMaterial:ci,LineCurve:L0,LineCurve3:UR,LineDashedMaterial:$R,LineLoop:bS,LineSegments:qr,LinearEncoding:uo,LinearFilter:sn,LinearInterpolant:OS,LinearMipMapLinearFilter:ON,LinearMipMapNearestFilter:kN,LinearMipmapLinearFilter:Ss,LinearMipmapNearestFilter:w0,LinearSRGBColorSpace:ac,LinearToneMapping:j3,Loader:wi,LoaderUtils:vs,LoadingManager:US,LoopOnce:cR,LoopPingPong:dR,LoopRepeat:fR,LuminanceAlphaFormat:nR,LuminanceFormat:tR,MOUSE:Va,Material:Bn,MaterialLoader:F0,MathUtils:dS,Matrix3:vi,Matrix4:rt,MaxEquation:j1,Mesh:Fn,MeshBasicMaterial:Ki,MeshDepthMaterial:AS,MeshDistanceMaterial:_S,MeshLambertMaterial:ZR,MeshMatcapMaterial:qR,MeshNormalMaterial:QR,MeshPhongMaterial:KR,MeshPhysicalMaterial:go,MeshStandardMaterial:Tc,MeshToonMaterial:YR,MinEquation:W1,MirroredRepeatWrapping:rc,MixOperation:V3,MultiplyBlending:V1,MultiplyOperation:$d,NearestFilter:yn,NearestMipMapLinearFilter:FN,NearestMipMapNearestFilter:DN,NearestMipmapLinearFilter:Ju,NearestMipmapNearestFilter:Cd,NeverDepth:k3,NeverStencilFunc:XN,NoBlending:to,NoColorSpace:UN,NoToneMapping:jr,NormalAnimationBlendMode:M0,NormalBlending:ul,NotEqualDepth:H3,NotEqualStencilFunc:qN,NumberKeyframeTrack:cc,Object3D:Pt,ObjectLoader:p9,ObjectSpaceNormalMap:gR,OctahedronBufferGeometry:x6,OctahedronGeometry:bc,OneFactor:T3,OneMinusDstAlphaFactor:L3,OneMinusDstColorFactor:D3,OneMinusSrcAlphaFactor:oS,OneMinusSrcColorFactor:B3,OrthographicCamera:Jr,PCFShadowMap:_0,PCFSoftShadowMap:Jf,PMREMGenerator:yA,Path:Bd,PerspectiveCamera:Wt,Plane:Oo,PlaneBufferGeometry:A6,PlaneGeometry:wc,PlaneHelper:n6,PointLight:HS,PointLightHelper:X9,Points:ES,PointsMaterial:sh,PolarGridHelper:Z9,PolyhedronBufferGeometry:_6,PolyhedronGeometry:mo,PositionalAudio:w9,PropertyBinding:Tt,PropertyMixer:dL,QuadraticBezierCurve:RS,QuadraticBezierCurve3:LS,Quaternion:Zn,QuaternionKeyframeTrack:ua,QuaternionLinearInterpolant:iL,RED_GREEN_RGTC2_Format:hA,RED_RGTC1_Format:uR,REVISION:A0,RGBADepthPacking:mR,RGBAFormat:Bi,RGBAIntegerFormat:aR,RGBA_ASTC_10x10_Format:uA,RGBA_ASTC_10x5_Format:oA,RGBA_ASTC_10x6_Format:aA,RGBA_ASTC_10x8_Format:lA,RGBA_ASTC_12x10_Format:cA,RGBA_ASTC_12x12_Format:fA,RGBA_ASTC_4x4_Format:q1,RGBA_ASTC_5x4_Format:$1,RGBA_ASTC_5x5_Format:eA,RGBA_ASTC_6x5_Format:tA,RGBA_ASTC_6x6_Format:nA,RGBA_ASTC_8x5_Format:iA,RGBA_ASTC_8x6_Format:rA,RGBA_ASTC_8x8_Format:sA,RGBA_BPTC_Format:qm,RGBA_ETC2_EAC_Format:Z1,RGBA_PVRTC_2BPPV1_Format:Y1,RGBA_PVRTC_4BPPV1_Format:K1,RGBA_S3TC_DXT1_Format:Ym,RGBA_S3TC_DXT3_Format:Qm,RGBA_S3TC_DXT5_Format:Zm,RGB_ETC1_Format:lR,RGB_ETC2_Format:Q1,RGB_PVRTC_2BPPV1_Format:X1,RGB_PVRTC_4BPPV1_Format:J1,RGB_S3TC_DXT1_Format:Km,RGFormat:sR,RGIntegerFormat:oR,RawShaderMaterial:XR,Ray:eh,Raycaster:hL,RectAreaLight:oL,RedFormat:iR,RedIntegerFormat:rR,ReinhardToneMapping:J3,RepeatWrapping:aa,ReplaceStencilOp:GN,ReverseSubtractEquation:b3,RingBufferGeometry:S6,RingGeometry:dh,SIGNED_RED_GREEN_RGTC2_Format:pA,SIGNED_RED_RGTC1_Format:dA,SRGBColorSpace:Ur,Scene:wS,ShaderChunk:pt,ShaderLib:Gr,ShaderMaterial:ws,ShadowMaterial:JR,Shape:ml,ShapeBufferGeometry:w6,ShapeGeometry:hh,ShapePath:s6,ShapeUtils:ys,ShortType:Q3,Skeleton:rh,SkeletonHelper:J9,SkinnedMesh:CS,Source:rl,Sphere:ga,SphereBufferGeometry:M6,SphereGeometry:Ec,Spherical:MA,SphericalHarmonics3:aL,SplineCurve:IS,SpotLight:GS,SpotLightHelper:j9,Sprite:IR,SpriteMaterial:MS,SrcAlphaFactor:sS,SrcAlphaSaturateFactor:F3,SrcColorFactor:P3,StaticCopyUsage:r4,StaticDrawUsage:Ed,StaticReadUsage:t4,StereoCamera:x9,StreamCopyUsage:o4,StreamDrawUsage:e4,StreamReadUsage:i4,StringKeyframeTrack:Rl,SubtractEquation:C3,SubtractiveBlending:H1,TOUCH:Wa,TangentSpaceNormalMap:po,TetrahedronBufferGeometry:C6,TetrahedronGeometry:ph,Texture:en,TextureLoader:vh,TorusBufferGeometry:b6,TorusGeometry:mh,TorusKnotBufferGeometry:E6,TorusKnotGeometry:gh,Triangle:Sr,TriangleFanDrawMode:cS,TriangleStripDrawMode:hR,TrianglesDrawMode:NN,TubeBufferGeometry:T6,TubeGeometry:yh,TwoPassDoubleSide:IN,UVMapping:S0,Uint16BufferAttribute:mS,Uint32BufferAttribute:gS,Uint8BufferAttribute:F4,Uint8ClampedBufferAttribute:k4,Uniform:KS,UniformsGroup:U9,UniformsLib:Ie,UniformsUtils:SR,UnsignedByteType:lo,UnsignedInt248Type:cl,UnsignedIntType:Vo,UnsignedShort4444Type:q3,UnsignedShort5551Type:$3,UnsignedShortType:lS,VSMShadowMap:tl,Vector2:me,Vector3:k,Vector4:Ut,VectorKeyframeTrack:fc,VideoTexture:MH,WebGL1Renderer:RR,WebGL3DRenderTarget:M4,WebGLArrayRenderTarget:w4,WebGLCubeRenderTarget:vS,WebGLMultipleRenderTargets:C4,WebGLRenderTarget:Yr,WebGLRenderer:SS,WebGLUtils:TR,WireframeGeometry:jR,WrapAroundEnding:bd,ZeroCurvatureEnding:nl,ZeroFactor:E3,ZeroSlopeEnding:il,ZeroStencilOp:zN,_SRGBAFormat:Og,sRGBEncoding:bt},Symbol.toStringTag,{value:"Module"}));var Wo={},P6={get exports(){return Wo},set exports(n){Wo=n}},Ll={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ll.ConcurrentRoot=1;Ll.ContinuousEventPriority=4;Ll.DefaultEventPriority=16;Ll.DiscreteEventPriority=1;Ll.IdleEventPriority=536870912;Ll.LegacyRoot=0;(function(n){n.exports=Ll})(P6);function B6(n){let e;const t=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const g=p;u(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const R6=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),rT=R6?H.useEffect:H.useLayoutEffect;function mL(n){const e=typeof n=="function"?B6(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=H.useReducer(A=>A+1,0),o=e.getState(),a=H.useRef(o),l=H.useRef(i),u=H.useRef(r),d=H.useRef(!1),h=H.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),rT(()=>{m&&(h.current=p),a.current=o,l.current=i,u.current=r,d.current=!1});const y=H.useRef(o);rT(()=>{const A=()=>{try{const _=e.getState(),S=l.current(_);u.current(h.current,S)||(a.current=_,h.current=S,s())}catch{d.current=!0,s()}},x=e.subscribe(A);return e.getState()!==y.current&&A(),x},[]);const g=m?p:h.current;return H.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var bA={},L6={get exports(){return bA},set exports(n){bA=n}},Fd={},I6={get exports(){return Fd},set exports(n){Fd=n}},gL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,W){var X=F.length;F.push(W);e:for(;0<X;){var te=X-1>>>1,K=F[te];if(0<r(K,W))F[te]=W,F[X]=K,X=te;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var W=F[0],X=F.pop();if(X!==W){F[0]=X;e:for(var te=0,K=F.length,oe=K>>>1;te<oe;){var xe=2*(te+1)-1,re=F[xe],ee=xe+1,Be=F[ee];if(0>r(re,X))ee<K&&0>r(Be,re)?(F[te]=Be,F[ee]=X,te=ee):(F[te]=re,F[xe]=X,te=xe);else if(ee<K&&0>r(Be,X))F[te]=Be,F[ee]=X,te=ee;else break e}}return W}function r(F,W){var X=F.sortIndex-W.sortIndex;return X!==0?X:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var W=t(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=F)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(F){if(g=!1,S(F),!y)if(t(l)!==null)y=!0,Y(b);else{var W=t(u);W!==null&&$(M,W.startTime-F)}}function b(F,W){y=!1,g&&(g=!1,x(E),E=-1),m=!0;var X=p;try{for(S(W),h=t(l);h!==null&&(!(h.expirationTime>W)||F&&!I());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var K=te(h.expirationTime<=W);W=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&i(l),S(W)}else i(l);h=t(l)}if(h!==null)var oe=!0;else{var xe=t(u);xe!==null&&$(M,xe.startTime-W),oe=!1}return oe}finally{h=null,p=X,m=!1}}var P=!1,R=null,E=-1,T=5,L=-1;function I(){return!(n.unstable_now()-L<T)}function V(){if(R!==null){var F=n.unstable_now();L=F;var W=!0;try{W=R(!0,F)}finally{W?G():(P=!1,R=null)}}else P=!1}var G;if(typeof _=="function")G=function(){_(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,j=N.port2;N.port1.onmessage=V,G=function(){j.postMessage(null)}}else G=function(){A(V,0)};function Y(F){R=F,P||(P=!0,G())}function $(F,W){E=A(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Y(b))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return F()}finally{p=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=p;p=F;try{return W()}finally{p=X}},n.unstable_scheduleCallback=function(F,W,X){var te=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,F={id:d++,callback:W,priorityLevel:F,startTime:X,expirationTime:K,sortIndex:-1},X>te?(F.sortIndex=X,e(u,F),t(l)===null&&F===t(u)&&(g?(x(E),E=-1):g=!0,$(M,X-te))):(F.sortIndex=K,e(l,F),y||m||(y=!0,Y(b))),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var W=p;return function(){var X=p;p=W;try{return F.apply(this,arguments)}finally{p=X}}}})(gL);(function(n){n.exports=gL})(I6);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D6=function(e){var t={},i=H,r=Fd,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),b=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=b&&c[b]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case g:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return f=c.displayName||null,f!==null?f:R(c.type)||"Memo";case S:f=c._payload,c=c._init;try{return R(c(f))}catch{}}return null}function E(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function T(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function L(c){if(T(c)!==c)throw Error(o(188))}function I(c){var f=c.alternate;if(!f){if(f=T(c),f===null)throw Error(o(188));return f!==c?null:c}for(var v=c,w=f;;){var C=v.return;if(C===null)break;var B=C.alternate;if(B===null){if(w=C.return,w!==null){v=w;continue}break}if(C.child===B.child){for(B=C.child;B;){if(B===v)return L(C),c;if(B===w)return L(C),f;B=B.sibling}throw Error(o(188))}if(v.return!==w.return)v=C,w=B;else{for(var U=!1,Q=C.child;Q;){if(Q===v){U=!0,v=C,w=B;break}if(Q===w){U=!0,w=C,v=B;break}Q=Q.sibling}if(!U){for(Q=B.child;Q;){if(Q===v){U=!0,v=B,w=C;break}if(Q===w){U=!0,w=B,v=C;break}Q=Q.sibling}if(!U)throw Error(o(189))}}if(v.alternate!==w)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?c:f}function V(c){return c=I(c),c!==null?G(c):null}function G(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=G(c);if(f!==null)return f;c=c.sibling}return null}function N(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=N(c);if(f!==null)return f}c=c.sibling}return null}var j=Array.isArray,Y=e.getPublicInstance,$=e.getRootHostContext,F=e.getChildHostContext,W=e.prepareForCommit,X=e.resetAfterCommit,te=e.createInstance,K=e.appendInitialChild,oe=e.finalizeInitialChildren,xe=e.prepareUpdate,re=e.shouldSetTextContent,ee=e.createTextInstance,Be=e.scheduleTimeout,Re=e.cancelTimeout,Ne=e.noTimeout,_e=e.isPrimaryRenderer,Fe=e.supportsMutation,he=e.supportsPersistence,le=e.supportsHydration,Ce=e.getInstanceFromNode,Ge=e.preparePortalMount,Le=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,Je=e.supportsMicrotasks,je=e.scheduleMicrotask,xt=e.supportsTestSelectors,Mt=e.findFiberRoot,z=e.getBoundingRect,D=e.getTextContent,ae=e.isHiddenSubtree,we=e.matchAccessibilityRole,be=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,tt=e.appendChild,ke=e.appendChildToContainer,ge=e.commitTextUpdate,Xe=e.commitMount,J=e.commitUpdate,ue=e.insertBefore,Se=e.insertInContainerBefore,Te=e.removeChild,$e=e.removeChildFromContainer,yt=e.resetTextContent,Jt=e.hideInstance,Z=e.hideTextInstance,fe=e.unhideInstance,Ae=e.unhideTextInstance,ze=e.clearContainer,Ye=e.cloneInstance,Bt=e.createContainerChildSet,vn=e.appendChildToContainerChildSet,Nn=e.finalizeContainerChildren,ts=e.replaceContainerChildren,Gt=e.cloneHiddenInstance,ir=e.cloneHiddenTextInstance,Mi=e.canHydrateInstance,Th=e.canHydrateTextInstance,oy=e.canHydrateSuspenseInstance,Ph=e.isSuspenseInstancePending,Lc=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,ie=e.getNextHydratableSibling,pe=e.getFirstHydratableChild,ne=e.getFirstHydratableChildWithinContainer,ye=e.getFirstHydratableChildWithinSuspenseInstance,qe=e.hydrateInstance,st=e.hydrateTextInstance,ft=e.hydrateSuspenseInstance,mt=e.getNextHydratableInstanceAfterSuspenseInstance,Ct=e.commitHydratedContainer,_t=e.commitHydratedSuspenseInstance,St=e.clearSuspenseBoundary,cn=e.clearSuspenseBoundaryFromContainer,fi=e.shouldDeleteUnhydratedTailInstances,Pr=e.didNotMatchHydratedContainerTextInstance,bs=e.didNotMatchHydratedTextInstance,Yt;function dt(c){if(Yt===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Yt=f&&f[1]||""}return`
`+Yt+c}var _a=!1;function fn(c,f){if(!c||_a)return"";_a=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var w=Ee}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ee){w=Ee}c.call(f.prototype)}else{try{throw Error()}catch(Ee){w=Ee}c()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),B=w.stack.split(`
`),U=C.length-1,Q=B.length-1;1<=U&&0<=Q&&C[U]!==B[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(C[U]!==B[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||C[U]!==B[Q]){var de=`
`+C[U].replace(" at new "," at ");return c.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",c.displayName)),de}while(1<=U&&0<=Q);break}}}finally{_a=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?dt(c):""}var Es=Object.prototype.hasOwnProperty,Fl=[],rr=-1;function sr(c){return{current:c}}function ct(c){0>rr||(c.current=Fl[rr],Fl[rr]=null,rr--)}function Et(c,f){rr++,Fl[rr]=c.current,c.current=f}var or={},Nt=sr(or),Un=sr(!1),Ts=or;function Ps(c,f){var v=c.type.contextTypes;if(!v)return or;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var C={},B;for(B in v)C[B]=f[B];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=C),C}function Ci(c){return c=c.childContextTypes,c!=null}function Bh(){ct(Un),ct(Nt)}function Gw(c,f,v){if(Nt.current!==or)throw Error(o(168));Et(Nt,f),Et(Un,v)}function Hw(c,f,v){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var C in w)if(!(C in f))throw Error(o(108,E(c)||"Unknown",C));return s({},v,w)}function Rh(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||or,Ts=Nt.current,Et(Nt,c),Et(Un,Un.current),!0}function Vw(c,f,v){var w=c.stateNode;if(!w)throw Error(o(169));v?(c=Hw(c,f,Ts),w.__reactInternalMemoizedMergedChildContext=c,ct(Un),ct(Nt),Et(Nt,c)):ct(Un),Et(Un,v)}var Br=Math.clz32?Math.clz32:kD,DD=Math.log,FD=Math.LN2;function kD(c){return c>>>=0,c===0?32:31-(DD(c)/FD|0)|0}var Lh=64,Ih=4194304;function Ic(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Dh(c,f){var v=c.pendingLanes;if(v===0)return 0;var w=0,C=c.suspendedLanes,B=c.pingedLanes,U=v&268435455;if(U!==0){var Q=U&~C;Q!==0?w=Ic(Q):(B&=U,B!==0&&(w=Ic(B)))}else U=v&~C,U!==0?w=Ic(U):B!==0&&(w=Ic(B));if(w===0)return 0;if(f!==0&&f!==w&&!(f&C)&&(C=w&-w,B=f&-f,C>=B||C===16&&(B&4194240)!==0))return f;if(w&4&&(w|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)v=31-Br(f),C=1<<v,w|=c[v],f&=~C;return w}function OD(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ND(c,f){for(var v=c.suspendedLanes,w=c.pingedLanes,C=c.expirationTimes,B=c.pendingLanes;0<B;){var U=31-Br(B),Q=1<<U,de=C[U];de===-1?(!(Q&v)||Q&w)&&(C[U]=OD(Q,f)):de<=f&&(c.expiredLanes|=Q),B&=~Q}}function ay(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function ly(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function Dc(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Br(f),c[f]=v}function UD(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<v;){var C=31-Br(v),B=1<<C;f[C]=0,w[C]=-1,c[C]=-1,v&=~B}}function uy(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var w=31-Br(v),C=1<<w;C&f|c[w]&f&&(c[w]|=f),v&=~C}}var Lt=0;function Ww(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var cy=r.unstable_scheduleCallback,jw=r.unstable_cancelCallback,zD=r.unstable_shouldYield,GD=r.unstable_requestPaint,zn=r.unstable_now,fy=r.unstable_ImmediatePriority,HD=r.unstable_UserBlockingPriority,dy=r.unstable_NormalPriority,VD=r.unstable_IdlePriority,Fh=null,ns=null;function WD(c){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Fh,c,void 0,(c.current.flags&128)===128)}catch{}}function jD(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var is=typeof Object.is=="function"?Object.is:jD,Bs=null,kh=!1,hy=!1;function Jw(c){Bs===null?Bs=[c]:Bs.push(c)}function JD(c){kh=!0,Jw(c)}function rs(){if(!hy&&Bs!==null){hy=!0;var c=0,f=Lt;try{var v=Bs;for(Lt=1;c<v.length;c++){var w=v[c];do w=w(!0);while(w!==null)}Bs=null,kh=!1}catch(C){throw Bs!==null&&(Bs=Bs.slice(c+1)),cy(fy,rs),C}finally{Lt=f,hy=!1}}return null}var XD=a.ReactCurrentBatchConfig;function Oh(c,f){if(is(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),w=Object.keys(f);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var C=v[w];if(!Es.call(f,C)||!is(c[C],f[C]))return!1}return!0}function KD(c){switch(c.tag){case 5:return dt(c.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return c=fn(c.type,!1),c;case 11:return c=fn(c.type.render,!1),c;case 1:return c=fn(c.type,!0),c;default:return""}}function Rr(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}var Nh=sr(null),Uh=null,kl=null,py=null;function my(){py=kl=Uh=null}function Xw(c,f,v){_e?(Et(Nh,f._currentValue),f._currentValue=v):(Et(Nh,f._currentValue2),f._currentValue2=v)}function gy(c){var f=Nh.current;ct(Nh),_e?c._currentValue=f:c._currentValue2=f}function yy(c,f,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===v)break;c=c.return}}function Ol(c,f){Uh=c,py=kl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(zi=!0),c.firstContext=null)}function ar(c){var f=_e?c._currentValue:c._currentValue2;if(py!==c)if(c={context:c,memoizedValue:f,next:null},kl===null){if(Uh===null)throw Error(o(308));kl=c,Uh.dependencies={lanes:0,firstContext:c}}else kl=kl.next=c;return f}var ss=null,yo=!1;function vy(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Rs(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function vo(c,f){var v=c.updateQueue;v!==null&&(v=v.shared,Mn!==null&&c.mode&1&&!(gt&2)?(c=v.interleaved,c===null?(f.next=f,ss===null?ss=[v]:ss.push(v)):(f.next=c.next,c.next=f),v.interleaved=f):(c=v.pending,c===null?f.next=f:(f.next=c.next,c.next=f),v.pending=f))}function zh(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,v|=w,f.lanes=v,uy(c,v)}}function Yw(c,f){var v=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var C=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var U={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};B===null?C=B=U:B=B.next=U,v=v.next}while(v!==null);B===null?C=B=f:B=B.next=f}else C=B=f;v={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:B,shared:w.shared,effects:w.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function Gh(c,f,v,w){var C=c.updateQueue;yo=!1;var B=C.firstBaseUpdate,U=C.lastBaseUpdate,Q=C.shared.pending;if(Q!==null){C.shared.pending=null;var de=Q,Ee=de.next;de.next=null,U===null?B=Ee:U.next=Ee,U=de;var Ve=c.alternate;Ve!==null&&(Ve=Ve.updateQueue,Q=Ve.lastBaseUpdate,Q!==U&&(Q===null?Ve.firstBaseUpdate=Ee:Q.next=Ee,Ve.lastBaseUpdate=de))}if(B!==null){var ot=C.baseState;U=0,Ve=Ee=de=null,Q=B;do{var et=Q.lane,Ht=Q.eventTime;if((w&et)===et){Ve!==null&&(Ve=Ve.next={eventTime:Ht,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Qe=c,ni=Q;switch(et=f,Ht=v,ni.tag){case 1:if(Qe=ni.payload,typeof Qe=="function"){ot=Qe.call(Ht,ot,et);break e}ot=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=ni.payload,et=typeof Qe=="function"?Qe.call(Ht,ot,et):Qe,et==null)break e;ot=s({},ot,et);break e;case 2:yo=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,et=C.effects,et===null?C.effects=[Q]:et.push(Q))}else Ht={eventTime:Ht,lane:et,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ve===null?(Ee=Ve=Ht,de=ot):Ve=Ve.next=Ht,U|=et;if(Q=Q.next,Q===null){if(Q=C.shared.pending,Q===null)break;et=Q,Q=et.next,et.next=null,C.lastBaseUpdate=et,C.shared.pending=null}}while(1);if(Ve===null&&(de=ot),C.baseState=de,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Ve,f=C.shared.interleaved,f!==null){C=f;do U|=C.lane,C=C.next;while(C!==f)}else B===null&&(C.shared.lanes=0);Jl|=U,c.lanes=U,c.memoizedState=ot}}function Qw(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],C=w.callback;if(C!==null){if(w.callback=null,w=v,typeof C!="function")throw Error(o(191,C));C.call(w)}}}var Zw=new i.Component().refs;function xy(c,f,v,w){f=c.memoizedState,v=v(w,f),v=v==null?f:s({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Hh={isMounted:function(c){return(c=c._reactInternals)?T(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var w=hi(),C=_o(c),B=Rs(w,C);B.payload=f,v!=null&&(B.callback=v),vo(c,B),f=dr(c,C,w),f!==null&&zh(f,c,C)},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var w=hi(),C=_o(c),B=Rs(w,C);B.tag=1,B.payload=f,v!=null&&(B.callback=v),vo(c,B),f=dr(c,C,w),f!==null&&zh(f,c,C)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=hi(),w=_o(c),C=Rs(v,w);C.tag=2,f!=null&&(C.callback=f),vo(c,C),f=dr(c,w,v),f!==null&&zh(f,c,w)}};function qw(c,f,v,w,C,B,U){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,B,U):f.prototype&&f.prototype.isPureReactComponent?!Oh(v,w)||!Oh(C,B):!0}function $w(c,f,v){var w=!1,C=or,B=f.contextType;return typeof B=="object"&&B!==null?B=ar(B):(C=Ci(f)?Ts:Nt.current,w=f.contextTypes,B=(w=w!=null)?Ps(c,C):or),f=new f(v,B),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=B),f}function eM(c,f,v,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,w),f.state!==c&&Hh.enqueueReplaceState(f,f.state,null)}function Ay(c,f,v,w){var C=c.stateNode;C.props=v,C.state=c.memoizedState,C.refs=Zw,vy(c);var B=f.contextType;typeof B=="object"&&B!==null?C.context=ar(B):(B=Ci(f)?Ts:Nt.current,C.context=Ps(c,B)),C.state=c.memoizedState,B=f.getDerivedStateFromProps,typeof B=="function"&&(xy(c,f,B,v),C.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(f=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),f!==C.state&&Hh.enqueueReplaceState(C,C.state,null),Gh(c,v,C,w),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}var Nl=[],Ul=0,Vh=null,Wh=0,lr=[],ur=0,Sa=null,Ls=1,Is="";function wa(c,f){Nl[Ul++]=Wh,Nl[Ul++]=Vh,Vh=c,Wh=f}function tM(c,f,v){lr[ur++]=Ls,lr[ur++]=Is,lr[ur++]=Sa,Sa=c;var w=Ls;c=Is;var C=32-Br(w)-1;w&=~(1<<C),v+=1;var B=32-Br(f)+C;if(30<B){var U=C-C%5;B=(w&(1<<U)-1).toString(32),w>>=U,C-=U,Ls=1<<32-Br(f)+C|v<<C|w,Is=B+c}else Ls=1<<B|v<<C|w,Is=c}function _y(c){c.return!==null&&(wa(c,1),tM(c,1,0))}function Sy(c){for(;c===Vh;)Vh=Nl[--Ul],Nl[Ul]=null,Wh=Nl[--Ul],Nl[Ul]=null;for(;c===Sa;)Sa=lr[--ur],lr[ur]=null,Is=lr[--ur],lr[ur]=null,Ls=lr[--ur],lr[ur]=null}var Ni=null,Ui=null,Qt=!1,Fc=!1,Lr=null;function nM(c,f){var v=hr(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function iM(c,f){switch(c.tag){case 5:return f=Mi(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,Ni=c,Ui=pe(f),!0):!1;case 6:return f=Th(f,c.pendingProps),f!==null?(c.stateNode=f,Ni=c,Ui=null,!0):!1;case 13:if(f=oy(f),f!==null){var v=Sa!==null?{id:Ls,overflow:Is}:null;return c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=hr(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,Ni=c,Ui=null,!0}return!1;default:return!1}}function wy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function My(c){if(Qt){var f=Ui;if(f){var v=f;if(!iM(c,f)){if(wy(c))throw Error(o(418));f=ie(v);var w=Ni;f&&iM(c,f)?nM(w,v):(c.flags=c.flags&-4097|2,Qt=!1,Ni=c)}}else{if(wy(c))throw Error(o(418));c.flags=c.flags&-4097|2,Qt=!1,Ni=c}}}function rM(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ni=c}function kc(c){if(!le||c!==Ni)return!1;if(!Qt)return rM(c),Qt=!0,!1;if(c.tag!==3&&(c.tag!==5||fi(c.type)&&!re(c.type,c.memoizedProps))){var f=Ui;if(f){if(wy(c)){for(c=Ui;c;)c=ie(c);throw Error(o(418))}for(;f;)nM(c,f),f=ie(f)}}if(rM(c),c.tag===13){if(!le)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Ui=mt(c)}else Ui=Ni?ie(c.stateNode):null;return!0}function zl(){le&&(Ui=Ni=null,Fc=Qt=!1)}function Cy(c){Lr===null?Lr=[c]:Lr.push(c)}function Oc(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var w=v.stateNode}if(!w)throw Error(o(147,c));var C=w,B=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===B?f.ref:(f=function(U){var Q=C.refs;Q===Zw&&(Q=C.refs={}),U===null?delete Q[B]:Q[B]=U},f._stringRef=B,f)}if(typeof c!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,c))}return c}function jh(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function sM(c){var f=c._init;return f(c._payload)}function oM(c){function f(se,q){if(c){var ce=se.deletions;ce===null?(se.deletions=[q],se.flags|=16):ce.push(q)}}function v(se,q){if(!c)return null;for(;q!==null;)f(se,q),q=q.sibling;return null}function w(se,q){for(se=new Map;q!==null;)q.key!==null?se.set(q.key,q):se.set(q.index,q),q=q.sibling;return se}function C(se,q){return se=wo(se,q),se.index=0,se.sibling=null,se}function B(se,q,ce){return se.index=ce,c?(ce=se.alternate,ce!==null?(ce=ce.index,ce<q?(se.flags|=2,q):ce):(se.flags|=2,q)):(se.flags|=1048576,q)}function U(se){return c&&se.alternate===null&&(se.flags|=2),se}function Q(se,q,ce,Ue){return q===null||q.tag!==6?(q=lv(ce,se.mode,Ue),q.return=se,q):(q=C(q,ce),q.return=se,q)}function de(se,q,ce,Ue){var Ke=ce.type;return Ke===d?Ve(se,q,ce.props.children,Ue,ce.key):q!==null&&(q.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===S&&sM(Ke)===q.type)?(Ue=C(q,ce.props),Ue.ref=Oc(se,q,ce),Ue.return=se,Ue):(Ue=Sp(ce.type,ce.key,ce.props,null,se.mode,Ue),Ue.ref=Oc(se,q,ce),Ue.return=se,Ue)}function Ee(se,q,ce,Ue){return q===null||q.tag!==4||q.stateNode.containerInfo!==ce.containerInfo||q.stateNode.implementation!==ce.implementation?(q=uv(ce,se.mode,Ue),q.return=se,q):(q=C(q,ce.children||[]),q.return=se,q)}function Ve(se,q,ce,Ue,Ke){return q===null||q.tag!==7?(q=Ba(ce,se.mode,Ue,Ke),q.return=se,q):(q=C(q,ce),q.return=se,q)}function ot(se,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number")return q=lv(""+q,se.mode,ce),q.return=se,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return ce=Sp(q.type,q.key,q.props,null,se.mode,ce),ce.ref=Oc(se,null,q),ce.return=se,ce;case u:return q=uv(q,se.mode,ce),q.return=se,q;case S:var Ue=q._init;return ot(se,Ue(q._payload),ce)}if(j(q)||P(q))return q=Ba(q,se.mode,ce,null),q.return=se,q;jh(se,q)}return null}function et(se,q,ce,Ue){var Ke=q!==null?q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ke!==null?null:Q(se,q,""+ce,Ue);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ke?de(se,q,ce,Ue):null;case u:return ce.key===Ke?Ee(se,q,ce,Ue):null;case S:return Ke=ce._init,et(se,q,Ke(ce._payload),Ue)}if(j(ce)||P(ce))return Ke!==null?null:Ve(se,q,ce,Ue,null);jh(se,ce)}return null}function Ht(se,q,ce,Ue,Ke){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return se=se.get(ce)||null,Q(q,se,""+Ue,Ke);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case l:return se=se.get(Ue.key===null?ce:Ue.key)||null,de(q,se,Ue,Ke);case u:return se=se.get(Ue.key===null?ce:Ue.key)||null,Ee(q,se,Ue,Ke);case S:var ht=Ue._init;return Ht(se,q,ce,ht(Ue._payload),Ke)}if(j(Ue)||P(Ue))return se=se.get(ce)||null,Ve(q,se,Ue,Ke,null);jh(q,Ue)}return null}function Qe(se,q,ce,Ue){for(var Ke=null,ht=null,at=q,It=q=0,Hn=null;at!==null&&It<ce.length;It++){at.index>It?(Hn=at,at=null):Hn=at.sibling;var Dt=et(se,at,ce[It],Ue);if(Dt===null){at===null&&(at=Hn);break}c&&at&&Dt.alternate===null&&f(se,at),q=B(Dt,q,It),ht===null?Ke=Dt:ht.sibling=Dt,ht=Dt,at=Hn}if(It===ce.length)return v(se,at),Qt&&wa(se,It),Ke;if(at===null){for(;It<ce.length;It++)at=ot(se,ce[It],Ue),at!==null&&(q=B(at,q,It),ht===null?Ke=at:ht.sibling=at,ht=at);return Qt&&wa(se,It),Ke}for(at=w(se,at);It<ce.length;It++)Hn=Ht(at,se,It,ce[It],Ue),Hn!==null&&(c&&Hn.alternate!==null&&at.delete(Hn.key===null?It:Hn.key),q=B(Hn,q,It),ht===null?Ke=Hn:ht.sibling=Hn,ht=Hn);return c&&at.forEach(function(Mo){return f(se,Mo)}),Qt&&wa(se,It),Ke}function ni(se,q,ce,Ue){var Ke=P(ce);if(typeof Ke!="function")throw Error(o(150));if(ce=Ke.call(ce),ce==null)throw Error(o(151));for(var ht=Ke=null,at=q,It=q=0,Hn=null,Dt=ce.next();at!==null&&!Dt.done;It++,Dt=ce.next()){at.index>It?(Hn=at,at=null):Hn=at.sibling;var Mo=et(se,at,Dt.value,Ue);if(Mo===null){at===null&&(at=Hn);break}c&&at&&Mo.alternate===null&&f(se,at),q=B(Mo,q,It),ht===null?Ke=Mo:ht.sibling=Mo,ht=Mo,at=Hn}if(Dt.done)return v(se,at),Qt&&wa(se,It),Ke;if(at===null){for(;!Dt.done;It++,Dt=ce.next())Dt=ot(se,Dt.value,Ue),Dt!==null&&(q=B(Dt,q,It),ht===null?Ke=Dt:ht.sibling=Dt,ht=Dt);return Qt&&wa(se,It),Ke}for(at=w(se,at);!Dt.done;It++,Dt=ce.next())Dt=Ht(at,se,It,Dt.value,Ue),Dt!==null&&(c&&Dt.alternate!==null&&at.delete(Dt.key===null?It:Dt.key),q=B(Dt,q,It),ht===null?Ke=Dt:ht.sibling=Dt,ht=Dt);return c&&at.forEach(function(MF){return f(se,MF)}),Qt&&wa(se,It),Ke}function pr(se,q,ce,Ue){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ke=ce.key,ht=q;ht!==null;){if(ht.key===Ke){if(Ke=ce.type,Ke===d){if(ht.tag===7){v(se,ht.sibling),q=C(ht,ce.props.children),q.return=se,se=q;break e}}else if(ht.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===S&&sM(Ke)===ht.type){v(se,ht.sibling),q=C(ht,ce.props),q.ref=Oc(se,ht,ce),q.return=se,se=q;break e}v(se,ht);break}else f(se,ht);ht=ht.sibling}ce.type===d?(q=Ba(ce.props.children,se.mode,Ue,ce.key),q.return=se,se=q):(Ue=Sp(ce.type,ce.key,ce.props,null,se.mode,Ue),Ue.ref=Oc(se,q,ce),Ue.return=se,se=Ue)}return U(se);case u:e:{for(ht=ce.key;q!==null;){if(q.key===ht)if(q.tag===4&&q.stateNode.containerInfo===ce.containerInfo&&q.stateNode.implementation===ce.implementation){v(se,q.sibling),q=C(q,ce.children||[]),q.return=se,se=q;break e}else{v(se,q);break}else f(se,q);q=q.sibling}q=uv(ce,se.mode,Ue),q.return=se,se=q}return U(se);case S:return ht=ce._init,pr(se,q,ht(ce._payload),Ue)}if(j(ce))return Qe(se,q,ce,Ue);if(P(ce))return ni(se,q,ce,Ue);jh(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,q!==null&&q.tag===6?(v(se,q.sibling),q=C(q,ce),q.return=se,se=q):(v(se,q),q=lv(ce,se.mode,Ue),q.return=se,se=q),U(se)):v(se,q)}return pr}var Gl=oM(!0),aM=oM(!1),Nc={},cr=sr(Nc),Uc=sr(Nc),Hl=sr(Nc);function os(c){if(c===Nc)throw Error(o(174));return c}function by(c,f){Et(Hl,f),Et(Uc,c),Et(cr,Nc),c=$(f),ct(cr),Et(cr,c)}function Vl(){ct(cr),ct(Uc),ct(Hl)}function lM(c){var f=os(Hl.current),v=os(cr.current);f=F(v,c.type,f),v!==f&&(Et(Uc,c),Et(cr,f))}function Ey(c){Uc.current===c&&(ct(cr),ct(Uc))}var tn=sr(0);function Jh(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Ph(v)||Lc(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ty=[];function Py(){for(var c=0;c<Ty.length;c++){var f=Ty[c];_e?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Ty.length=0}var Xh=a.ReactCurrentDispatcher,fr=a.ReactCurrentBatchConfig,Wl=0,dn=null,$n=null,Gn=null,Kh=!1,zc=!1,Gc=0,YD=0;function ei(){throw Error(o(321))}function By(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!is(c[v],f[v]))return!1;return!0}function Ry(c,f,v,w,C,B){if(Wl=B,dn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Xh.current=c===null||c.memoizedState===null?$D:eF,c=v(w,C),zc){B=0;do{if(zc=!1,Gc=0,25<=B)throw Error(o(301));B+=1,Gn=$n=null,f.updateQueue=null,Xh.current=tF,c=v(w,C)}while(zc)}if(Xh.current=$h,f=$n!==null&&$n.next!==null,Wl=0,Gn=$n=dn=null,Kh=!1,f)throw Error(o(300));return c}function Ly(){var c=Gc!==0;return Gc=0,c}function Ds(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?dn.memoizedState=Gn=c:Gn=Gn.next=c,Gn}function as(){if($n===null){var c=dn.alternate;c=c!==null?c.memoizedState:null}else c=$n.next;var f=Gn===null?dn.memoizedState:Gn.next;if(f!==null)Gn=f,$n=c;else{if(c===null)throw Error(o(310));$n=c,c={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Gn===null?dn.memoizedState=Gn=c:Gn=Gn.next=c}return Gn}function Ma(c,f){return typeof f=="function"?f(c):f}function Yh(c){var f=as(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var w=$n,C=w.baseQueue,B=v.pending;if(B!==null){if(C!==null){var U=C.next;C.next=B.next,B.next=U}w.baseQueue=C=B,v.pending=null}if(C!==null){B=C.next,w=w.baseState;var Q=U=null,de=null,Ee=B;do{var Ve=Ee.lane;if((Wl&Ve)===Ve)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:c(w,Ee.action);else{var ot={lane:Ve,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(Q=de=ot,U=w):de=de.next=ot,dn.lanes|=Ve,Jl|=Ve}Ee=Ee.next}while(Ee!==null&&Ee!==B);de===null?U=w:de.next=Q,is(w,f.memoizedState)||(zi=!0),f.memoizedState=w,f.baseState=U,f.baseQueue=de,v.lastRenderedState=w}if(c=v.interleaved,c!==null){C=c;do B=C.lane,dn.lanes|=B,Jl|=B,C=C.next;while(C!==c)}else C===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Qh(c){var f=as(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var w=v.dispatch,C=v.pending,B=f.memoizedState;if(C!==null){v.pending=null;var U=C=C.next;do B=c(B,U.action),U=U.next;while(U!==C);is(B,f.memoizedState)||(zi=!0),f.memoizedState=B,f.baseQueue===null&&(f.baseState=B),v.lastRenderedState=B}return[B,w]}function uM(){}function cM(c,f){var v=dn,w=as(),C=f(),B=!is(w.memoizedState,C);if(B&&(w.memoizedState=C,zi=!0),w=w.queue,Vc(hM.bind(null,v,w,c),[c]),w.getSnapshot!==f||B||Gn!==null&&Gn.memoizedState.tag&1){if(v.flags|=2048,Hc(9,dM.bind(null,v,w,C,f),void 0,null),Mn===null)throw Error(o(349));Wl&30||fM(v,f,C)}return C}function fM(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function dM(c,f,v,w){f.value=v,f.getSnapshot=w,pM(f)&&dr(c,1,-1)}function hM(c,f,v){return v(function(){pM(f)&&dr(c,1,-1)})}function pM(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!is(c,v)}catch{return!0}}function Iy(c){var f=Ds();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:c},f.queue=c,c=c.dispatch=qD.bind(null,dn,c),[f.memoizedState,c]}function Hc(c,f,v,w){return c={tag:c,create:f,destroy:v,deps:w,next:null},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,f.lastEffect=c)),c}function mM(){return as().memoizedState}function Zh(c,f,v,w){var C=Ds();dn.flags|=c,C.memoizedState=Hc(1|f,v,void 0,w===void 0?null:w)}function qh(c,f,v,w){var C=as();w=w===void 0?null:w;var B=void 0;if($n!==null){var U=$n.memoizedState;if(B=U.destroy,w!==null&&By(w,U.deps)){C.memoizedState=Hc(f,v,B,w);return}}dn.flags|=c,C.memoizedState=Hc(1|f,v,B,w)}function Dy(c,f){return Zh(8390656,8,c,f)}function Vc(c,f){return qh(2048,8,c,f)}function gM(c,f){return qh(4,2,c,f)}function yM(c,f){return qh(4,4,c,f)}function vM(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function xM(c,f,v){return v=v!=null?v.concat([c]):null,qh(4,4,vM.bind(null,f,c),v)}function Fy(){}function AM(c,f){var v=as();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&By(f,w[1])?w[0]:(v.memoizedState=[c,f],c)}function _M(c,f){var v=as();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&By(f,w[1])?w[0]:(c=c(),v.memoizedState=[c,f],c)}function QD(c,f){var v=Lt;Lt=v!==0&&4>v?v:4,c(!0);var w=fr.transition;fr.transition={};try{c(!1),f()}finally{Lt=v,fr.transition=w}}function SM(){return as().memoizedState}function ZD(c,f,v){var w=_o(c);v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},wM(c)?MM(f,v):(CM(c,f,v),v=hi(),c=dr(c,w,v),c!==null&&bM(c,f,w))}function qD(c,f,v){var w=_o(c),C={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(wM(c))MM(f,C);else{CM(c,f,C);var B=c.alternate;if(c.lanes===0&&(B===null||B.lanes===0)&&(B=f.lastRenderedReducer,B!==null))try{var U=f.lastRenderedState,Q=B(U,v);if(C.hasEagerState=!0,C.eagerState=Q,is(Q,U))return}catch{}finally{}v=hi(),c=dr(c,w,v),c!==null&&bM(c,f,w)}}function wM(c){var f=c.alternate;return c===dn||f!==null&&f===dn}function MM(c,f){zc=Kh=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function CM(c,f,v){Mn!==null&&c.mode&1&&!(gt&2)?(c=f.interleaved,c===null?(v.next=v,ss===null?ss=[f]:ss.push(f)):(v.next=c.next,c.next=v),f.interleaved=v):(c=f.pending,c===null?v.next=v:(v.next=c.next,c.next=v),f.pending=v)}function bM(c,f,v){if(v&4194240){var w=f.lanes;w&=c.pendingLanes,v|=w,f.lanes=v,uy(c,v)}}var $h={readContext:ar,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},$D={readContext:ar,useCallback:function(c,f){return Ds().memoizedState=[c,f===void 0?null:f],c},useContext:ar,useEffect:Dy,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,Zh(4194308,4,vM.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Zh(4194308,4,c,f)},useInsertionEffect:function(c,f){return Zh(4,2,c,f)},useMemo:function(c,f){var v=Ds();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var w=Ds();return f=v!==void 0?v(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=ZD.bind(null,dn,c),[w.memoizedState,c]},useRef:function(c){var f=Ds();return c={current:c},f.memoizedState=c},useState:Iy,useDebugValue:Fy,useDeferredValue:function(c){var f=Iy(c),v=f[0],w=f[1];return Dy(function(){var C=fr.transition;fr.transition={};try{w(c)}finally{fr.transition=C}},[c]),v},useTransition:function(){var c=Iy(!1),f=c[0];return c=QD.bind(null,c[1]),Ds().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var w=dn,C=Ds();if(Qt){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),Mn===null)throw Error(o(349));Wl&30||fM(w,f,v)}C.memoizedState=v;var B={value:v,getSnapshot:f};return C.queue=B,Dy(hM.bind(null,w,B,c),[c]),w.flags|=2048,Hc(9,dM.bind(null,w,B,v,f),void 0,null),v},useId:function(){var c=Ds(),f=Mn.identifierPrefix;if(Qt){var v=Is,w=Ls;v=(w&~(1<<32-Br(w)-1)).toString(32)+v,f=":"+f+"R"+v,v=Gc++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=YD++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},eF={readContext:ar,useCallback:AM,useContext:ar,useEffect:Vc,useImperativeHandle:xM,useInsertionEffect:gM,useLayoutEffect:yM,useMemo:_M,useReducer:Yh,useRef:mM,useState:function(){return Yh(Ma)},useDebugValue:Fy,useDeferredValue:function(c){var f=Yh(Ma),v=f[0],w=f[1];return Vc(function(){var C=fr.transition;fr.transition={};try{w(c)}finally{fr.transition=C}},[c]),v},useTransition:function(){var c=Yh(Ma)[0],f=as().memoizedState;return[c,f]},useMutableSource:uM,useSyncExternalStore:cM,useId:SM,unstable_isNewReconciler:!1},tF={readContext:ar,useCallback:AM,useContext:ar,useEffect:Vc,useImperativeHandle:xM,useInsertionEffect:gM,useLayoutEffect:yM,useMemo:_M,useReducer:Qh,useRef:mM,useState:function(){return Qh(Ma)},useDebugValue:Fy,useDeferredValue:function(c){var f=Qh(Ma),v=f[0],w=f[1];return Vc(function(){var C=fr.transition;fr.transition={};try{w(c)}finally{fr.transition=C}},[c]),v},useTransition:function(){var c=Qh(Ma)[0],f=as().memoizedState;return[c,f]},useMutableSource:uM,useSyncExternalStore:cM,useId:SM,unstable_isNewReconciler:!1};function ky(c,f){try{var v="",w=f;do v+=KD(w),w=w.return;while(w);var C=v}catch(B){C=`
Error generating stack: `+B.message+`
`+B.stack}return{value:c,source:f,stack:C}}function Oy(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var nF=typeof WeakMap=="function"?WeakMap:Map;function EM(c,f,v){v=Rs(-1,v),v.tag=3,v.payload={element:null};var w=f.value;return v.callback=function(){mp||(mp=!0,tv=w),Oy(c,f)},v}function TM(c,f,v){v=Rs(-1,v),v.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var C=f.value;v.payload=function(){return w(C)},v.callback=function(){Oy(c,f)}}var B=c.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(v.callback=function(){Oy(c,f),typeof w!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})}),v}function PM(c,f,v){var w=c.pingCache;if(w===null){w=c.pingCache=new nF;var C=new Set;w.set(f,C)}else C=w.get(f),C===void 0&&(C=new Set,w.set(f,C));C.has(v)||(C.add(v),c=gF.bind(null,c,f,v),f.then(c,c))}function BM(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function RM(c,f,v,w,C){return c.mode&1?(c.flags|=65536,c.lanes=C,c):(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Rs(-1,1),f.tag=2,vo(v,f))),v.lanes|=1),c)}function ls(c){c.flags|=4}function LM(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Wc,jc,ep,tp;if(Fe)Wc=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)K(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},jc=function(){},ep=function(c,f,v,w,C){if(c=c.memoizedProps,c!==w){var B=f.stateNode,U=os(cr.current);v=xe(B,v,c,w,C,U),(f.updateQueue=v)&&ls(f)}},tp=function(c,f,v,w){v!==w&&ls(f)};else if(he){Wc=function(c,f,v,w){for(var C=f.child;C!==null;){if(C.tag===5){var B=C.stateNode;v&&w&&(B=Gt(B,C.type,C.memoizedProps,C)),K(c,B)}else if(C.tag===6)B=C.stateNode,v&&w&&(B=ir(B,C.memoizedProps,C)),K(c,B);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)B=C.child,B!==null&&(B.return=C),Wc(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var IM=function(c,f,v,w){for(var C=f.child;C!==null;){if(C.tag===5){var B=C.stateNode;v&&w&&(B=Gt(B,C.type,C.memoizedProps,C)),vn(c,B)}else if(C.tag===6)B=C.stateNode,v&&w&&(B=ir(B,C.memoizedProps,C)),vn(c,B);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)B=C.child,B!==null&&(B.return=C),IM(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};jc=function(c,f){var v=f.stateNode;if(!LM(c,f)){c=v.containerInfo;var w=Bt(c);IM(w,f,!1,!1),v.pendingChildren=w,ls(f),Nn(c,w)}},ep=function(c,f,v,w,C){var B=c.stateNode,U=c.memoizedProps;if((c=LM(c,f))&&U===w)f.stateNode=B;else{var Q=f.stateNode,de=os(cr.current),Ee=null;U!==w&&(Ee=xe(Q,v,U,w,C,de)),c&&Ee===null?f.stateNode=B:(B=Ye(B,Ee,v,U,w,f,c,Q),oe(B,v,w,C,de)&&ls(f),f.stateNode=B,c?ls(f):Wc(B,f,!1,!1))}},tp=function(c,f,v,w){v!==w?(c=os(Hl.current),v=os(cr.current),f.stateNode=ee(w,c,v,f),ls(f)):f.stateNode=c.stateNode}}else jc=function(){},ep=function(){},tp=function(){};function Jc(c,f){if(!Qt)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function ti(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(f)for(var C=c.child;C!==null;)v|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)v|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=w,c.childLanes=v,f}function iF(c,f,v){var w=f.pendingProps;switch(Sy(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(f),null;case 1:return Ci(f.type)&&Bh(),ti(f),null;case 3:return w=f.stateNode,Vl(),ct(Un),ct(Nt),Py(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(kc(f)?ls(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Lr!==null&&(rv(Lr),Lr=null))),jc(c,f),ti(f),null;case 5:Ey(f),v=os(Hl.current);var C=f.type;if(c!==null&&f.stateNode!=null)ep(c,f,C,w,v),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return ti(f),null}if(c=os(cr.current),kc(f)){if(!le)throw Error(o(175));c=qe(f.stateNode,f.type,f.memoizedProps,v,c,f,!Fc),f.updateQueue=c,c!==null&&ls(f)}else{var B=te(C,w,v,c,f);Wc(B,f,!1,!1),f.stateNode=B,oe(B,C,w,v,c)&&ls(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ti(f),null;case 6:if(c&&f.stateNode!=null)tp(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(c=os(Hl.current),v=os(cr.current),kc(f)){if(!le)throw Error(o(176));if(c=f.stateNode,w=f.memoizedProps,(v=st(c,w,f,!Fc))&&(C=Ni,C!==null))switch(B=(C.mode&1)!==0,C.tag){case 3:Pr(C.stateNode.containerInfo,c,w,B);break;case 5:bs(C.type,C.memoizedProps,C.stateNode,c,w,B)}v&&ls(f)}else f.stateNode=ee(w,c,v,f)}return ti(f),null;case 13:if(ct(tn),w=f.memoizedState,Qt&&Ui!==null&&f.mode&1&&!(f.flags&128)){for(c=Ui;c;)c=ie(c);return zl(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=kc(f),c===null){if(!w)throw Error(o(318));if(!le)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));ft(c,f)}else zl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ti(f),null}return Lr!==null&&(rv(Lr),Lr=null),f.flags&128?(f.lanes=v,f):(w=w!==null,v=!1,c===null?kc(f):v=c.memoizedState!==null,w&&!v&&(f.child.flags|=8192,f.mode&1&&(c===null||tn.current&1?Rn===0&&(Rn=3):ov())),f.updateQueue!==null&&(f.flags|=4),ti(f),null);case 4:return Vl(),jc(c,f),c===null&&Ge(f.stateNode.containerInfo),ti(f),null;case 10:return gy(f.type._context),ti(f),null;case 17:return Ci(f.type)&&Bh(),ti(f),null;case 19:if(ct(tn),C=f.memoizedState,C===null)return ti(f),null;if(w=(f.flags&128)!==0,B=C.rendering,B===null)if(w)Jc(C,!1);else{if(Rn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(B=Jh(c),B!==null){for(f.flags|=128,Jc(C,!1),c=B.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=v,w=f.child;w!==null;)v=w,C=c,v.flags&=14680066,B=v.alternate,B===null?(v.childLanes=0,v.lanes=C,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=B.childLanes,v.lanes=B.lanes,v.child=B.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=B.memoizedProps,v.memoizedState=B.memoizedState,v.updateQueue=B.updateQueue,v.type=B.type,C=B.dependencies,v.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w=w.sibling;return Et(tn,tn.current&1|2),f.child}c=c.sibling}C.tail!==null&&zn()>ev&&(f.flags|=128,w=!0,Jc(C,!1),f.lanes=4194304)}else{if(!w)if(c=Jh(B),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Jc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!B.alternate&&!Qt)return ti(f),null}else 2*zn()-C.renderingStartTime>ev&&v!==1073741824&&(f.flags|=128,w=!0,Jc(C,!1),f.lanes=4194304);C.isBackwards?(B.sibling=f.child,f.child=B):(c=C.last,c!==null?c.sibling=B:f.child=B,C.last=B)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=zn(),f.sibling=null,c=tn.current,Et(tn,w?c&1|2:c&1),f):(ti(f),null);case 22:case 23:return sv(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Gi&1073741824&&(ti(f),Fe&&f.subtreeFlags&6&&(f.flags|=8192)):ti(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var rF=a.ReactCurrentOwner,zi=!1;function di(c,f,v,w){f.child=c===null?aM(f,null,v,w):Gl(f,c.child,v,w)}function DM(c,f,v,w,C){v=v.render;var B=f.ref;return Ol(f,C),w=Ry(c,f,v,w,B,C),v=Ly(),c!==null&&!zi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,Fs(c,f,C)):(Qt&&v&&_y(f),f.flags|=1,di(c,f,w,C),f.child)}function FM(c,f,v,w,C){if(c===null){var B=v.type;return typeof B=="function"&&!av(B)&&B.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=B,kM(c,f,B,w,C)):(c=Sp(v.type,null,w,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(B=c.child,!(c.lanes&C)){var U=B.memoizedProps;if(v=v.compare,v=v!==null?v:Oh,v(U,w)&&c.ref===f.ref)return Fs(c,f,C)}return f.flags|=1,c=wo(B,w),c.ref=f.ref,c.return=f,f.child=c}function kM(c,f,v,w,C){if(c!==null&&Oh(c.memoizedProps,w)&&c.ref===f.ref)if(zi=!1,(c.lanes&C)!==0)c.flags&131072&&(zi=!0);else return f.lanes=c.lanes,Fs(c,f,C);return Ny(c,f,v,w,C)}function OM(c,f,v){var w=f.pendingProps,C=w.children,B=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Et(jl,Gi),Gi|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=B!==null?B.baseLanes:v,Et(jl,Gi),Gi|=w;else return c=B!==null?B.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,Et(jl,Gi),Gi|=c,null;else B!==null?(w=B.baseLanes|v,f.memoizedState=null):w=v,Et(jl,Gi),Gi|=w;return di(c,f,C,v),f.child}function NM(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Ny(c,f,v,w,C){var B=Ci(v)?Ts:Nt.current;return B=Ps(f,B),Ol(f,C),v=Ry(c,f,v,w,B,C),w=Ly(),c!==null&&!zi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,Fs(c,f,C)):(Qt&&w&&_y(f),f.flags|=1,di(c,f,v,C),f.child)}function UM(c,f,v,w,C){if(Ci(v)){var B=!0;Rh(f)}else B=!1;if(Ol(f,C),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),$w(f,v,w),Ay(f,v,w,C),w=!0;else if(c===null){var U=f.stateNode,Q=f.memoizedProps;U.props=Q;var de=U.context,Ee=v.contextType;typeof Ee=="object"&&Ee!==null?Ee=ar(Ee):(Ee=Ci(v)?Ts:Nt.current,Ee=Ps(f,Ee));var Ve=v.getDerivedStateFromProps,ot=typeof Ve=="function"||typeof U.getSnapshotBeforeUpdate=="function";ot||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==w||de!==Ee)&&eM(f,U,w,Ee),yo=!1;var et=f.memoizedState;U.state=et,Gh(f,w,U,C),de=f.memoizedState,Q!==w||et!==de||Un.current||yo?(typeof Ve=="function"&&(xy(f,v,Ve,w),de=f.memoizedState),(Q=yo||qw(f,v,Q,w,et,de,Ee))?(ot||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(f.flags|=4194308)):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=de),U.props=w,U.state=de,U.context=Ee,w=Q):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{U=f.stateNode,Kw(c,f),Q=f.memoizedProps,Ee=f.type===f.elementType?Q:Rr(f.type,Q),U.props=Ee,ot=f.pendingProps,et=U.context,de=v.contextType,typeof de=="object"&&de!==null?de=ar(de):(de=Ci(v)?Ts:Nt.current,de=Ps(f,de));var Ht=v.getDerivedStateFromProps;(Ve=typeof Ht=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==ot||et!==de)&&eM(f,U,w,de),yo=!1,et=f.memoizedState,U.state=et,Gh(f,w,U,C);var Qe=f.memoizedState;Q!==ot||et!==Qe||Un.current||yo?(typeof Ht=="function"&&(xy(f,v,Ht,w),Qe=f.memoizedState),(Ee=yo||qw(f,v,Ee,w,et,Qe,de)||!1)?(Ve||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Qe,de),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Qe,de)),typeof U.componentDidUpdate=="function"&&(f.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===c.memoizedProps&&et===c.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&et===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Qe),U.props=w,U.state=Qe,U.context=de,w=Ee):(typeof U.componentDidUpdate!="function"||Q===c.memoizedProps&&et===c.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&et===c.memoizedState||(f.flags|=1024),w=!1)}return Uy(c,f,v,w,B,C)}function Uy(c,f,v,w,C,B){NM(c,f);var U=(f.flags&128)!==0;if(!w&&!U)return C&&Vw(f,v,!1),Fs(c,f,B);w=f.stateNode,rF.current=f;var Q=U&&typeof v.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&U?(f.child=Gl(f,c.child,null,B),f.child=Gl(f,null,Q,B)):di(c,f,Q,B),f.memoizedState=w.state,C&&Vw(f,v,!0),f.child}function zM(c){var f=c.stateNode;f.pendingContext?Gw(c,f.pendingContext,f.pendingContext!==f.context):f.context&&Gw(c,f.context,!1),by(c,f.containerInfo)}function GM(c,f,v,w,C){return zl(),Cy(C),f.flags|=256,di(c,f,v,w),f.child}var np={dehydrated:null,treeContext:null,retryLane:0};function ip(c){return{baseLanes:c,cachePool:null}}function HM(c,f,v){var w=f.pendingProps,C=tn.current,B=!1,U=(f.flags&128)!==0,Q;if((Q=U)||(Q=c!==null&&c.memoizedState===null?!1:(C&2)!==0),Q?(B=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),Et(tn,C&1),c===null)return My(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?Lc(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(C=w.children,c=w.fallback,B?(w=f.mode,B=f.child,C={mode:"hidden",children:C},!(w&1)&&B!==null?(B.childLanes=0,B.pendingProps=C):B=wp(C,w,0,null),c=Ba(c,w,v,null),B.return=f,c.return=f,B.sibling=c,f.child=B,f.child.memoizedState=ip(v),f.memoizedState=np,c):zy(f,C));if(C=c.memoizedState,C!==null){if(Q=C.dehydrated,Q!==null){if(U)return f.flags&256?(f.flags&=-257,rp(c,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(B=w.fallback,C=f.mode,w=wp({mode:"visible",children:w.children},C,0,null),B=Ba(B,C,v,null),B.flags|=2,w.return=f,B.return=f,w.sibling=B,f.child=w,f.mode&1&&Gl(f,c.child,null,v),f.child.memoizedState=ip(v),f.memoizedState=np,B);if(!(f.mode&1))f=rp(c,f,v,null);else if(Lc(Q))f=rp(c,f,v,Error(o(419)));else if(w=(v&c.childLanes)!==0,zi||w){if(w=Mn,w!==null){switch(v&-v){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}w=B&(w.suspendedLanes|v)?0:B,w!==0&&w!==C.retryLane&&(C.retryLane=w,dr(c,w,-1))}ov(),f=rp(c,f,v,Error(o(421)))}else Ph(Q)?(f.flags|=128,f.child=c.child,f=yF.bind(null,c),O(Q,f),f=null):(v=C.treeContext,le&&(Ui=ye(Q),Ni=f,Qt=!0,Lr=null,Fc=!1,v!==null&&(lr[ur++]=Ls,lr[ur++]=Is,lr[ur++]=Sa,Ls=v.id,Is=v.overflow,Sa=f)),f=zy(f,f.pendingProps.children),f.flags|=4096);return f}return B?(w=WM(c,f,w.children,w.fallback,v),B=f.child,C=c.child.memoizedState,B.memoizedState=C===null?ip(v):{baseLanes:C.baseLanes|v,cachePool:null},B.childLanes=c.childLanes&~v,f.memoizedState=np,w):(v=VM(c,f,w.children,v),f.memoizedState=null,v)}return B?(w=WM(c,f,w.children,w.fallback,v),B=f.child,C=c.child.memoizedState,B.memoizedState=C===null?ip(v):{baseLanes:C.baseLanes|v,cachePool:null},B.childLanes=c.childLanes&~v,f.memoizedState=np,w):(v=VM(c,f,w.children,v),f.memoizedState=null,v)}function zy(c,f){return f=wp({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function VM(c,f,v,w){var C=c.child;return c=C.sibling,v=wo(C,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=w),v.return=f,v.sibling=null,c!==null&&(w=f.deletions,w===null?(f.deletions=[c],f.flags|=16):w.push(c)),f.child=v}function WM(c,f,v,w,C){var B=f.mode;c=c.child;var U=c.sibling,Q={mode:"hidden",children:v};return!(B&1)&&f.child!==c?(v=f.child,v.childLanes=0,v.pendingProps=Q,f.deletions=null):(v=wo(c,Q),v.subtreeFlags=c.subtreeFlags&14680064),U!==null?w=wo(U,w):(w=Ba(w,B,C,null),w.flags|=2),w.return=f,v.return=f,v.sibling=w,f.child=v,w}function rp(c,f,v,w){return w!==null&&Cy(w),Gl(f,c.child,null,v),c=zy(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function jM(c,f,v){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),yy(c.return,f,v)}function Gy(c,f,v,w,C){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:C}:(B.isBackwards=f,B.rendering=null,B.renderingStartTime=0,B.last=w,B.tail=v,B.tailMode=C)}function JM(c,f,v){var w=f.pendingProps,C=w.revealOrder,B=w.tail;if(di(c,f,w.children,v),w=tn.current,w&2)w=w&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&jM(c,v,f);else if(c.tag===19)jM(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Et(tn,w),!(f.mode&1))f.memoizedState=null;else switch(C){case"forwards":for(v=f.child,C=null;v!==null;)c=v.alternate,c!==null&&Jh(c)===null&&(C=v),v=v.sibling;v=C,v===null?(C=f.child,f.child=null):(C=v.sibling,v.sibling=null),Gy(f,!1,C,v,B);break;case"backwards":for(v=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&Jh(c)===null){f.child=C;break}c=C.sibling,C.sibling=v,v=C,C=c}Gy(f,!0,v,null,B);break;case"together":Gy(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Fs(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Jl|=f.lanes,!(v&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,v=wo(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=wo(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function sF(c,f,v){switch(f.tag){case 3:zM(f),zl();break;case 5:lM(f);break;case 1:Ci(f.type)&&Rh(f);break;case 4:by(f,f.stateNode.containerInfo);break;case 10:Xw(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Et(tn,tn.current&1),f.flags|=128,null):v&f.child.childLanes?HM(c,f,v):(Et(tn,tn.current&1),c=Fs(c,f,v),c!==null?c.sibling:null);Et(tn,tn.current&1);break;case 19:if(w=(v&f.childLanes)!==0,c.flags&128){if(w)return JM(c,f,v);f.flags|=128}var C=f.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Et(tn,tn.current),w)break;return null;case 22:case 23:return f.lanes=0,OM(c,f,v)}return Fs(c,f,v)}function oF(c,f){switch(Sy(f),f.tag){case 1:return Ci(f.type)&&Bh(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Vl(),ct(Un),ct(Nt),Py(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return Ey(f),null;case 13:if(ct(tn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));zl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return ct(tn),null;case 4:return Vl(),null;case 10:return gy(f.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var sp=!1,Ca=!1,aF=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function op(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Ti(c,f,w)}else v.current=null}function Hy(c,f,v){try{v()}catch(w){Ti(c,f,w)}}var XM=!1;function lF(c,f){for(W(c.containerInfo),Oe=f;Oe!==null;)if(c=Oe,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;try{var v=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,B=c.stateNode,U=B.getSnapshotBeforeUpdate(c.elementType===c.type?w:Rr(c.type,w),C);B.__reactInternalSnapshotBeforeUpdate=U}break;case 3:Fe&&ze(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){Ti(c,c.return,Q)}if(f=c.sibling,f!==null){f.return=c.return,Oe=f;break}Oe=c.return}return v=XM,XM=!1,v}function ba(c,f,v){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&c)===c){var B=C.destroy;C.destroy=void 0,B!==void 0&&Hy(f,v,B)}C=C.next}while(C!==w)}}function Xc(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var w=v.create;v.destroy=w()}v=v.next}while(v!==f)}}function Vy(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=Y(v);break;default:c=v}typeof f=="function"?f(c):f.current=c}}function KM(c,f,v){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Fh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var C=w,B=C.destroy;C=C.tag,B!==void 0&&(C&2||C&4)&&Hy(f,v,B),w=w.next}while(w!==c)}break;case 1:if(op(f,v),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(U){Ti(f,v,U)}break;case 5:op(f,v);break;case 4:Fe?eC(c,f,v):he&&he&&(f=f.stateNode.containerInfo,v=Bt(f),ts(f,v))}}function YM(c,f,v){for(var w=f;;)if(KM(c,w,v),w.child===null||Fe&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function QM(c){var f=c.alternate;f!==null&&(c.alternate=null,QM(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Ze(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ZM(c){return c.tag===5||c.tag===3||c.tag===4}function qM(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ZM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $M(c){if(Fe){e:{for(var f=c.return;f!==null;){if(ZM(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(yt(f),v.flags&=-33),v=qM(c),jy(c,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=qM(c),Wy(c,v,f);break;default:throw Error(o(161))}}}function Wy(c,f,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?Se(v,c,f):ke(v,c);else if(w!==4&&(c=c.child,c!==null))for(Wy(c,f,v),c=c.sibling;c!==null;)Wy(c,f,v),c=c.sibling}function jy(c,f,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?ue(v,c,f):tt(v,c);else if(w!==4&&(c=c.child,c!==null))for(jy(c,f,v),c=c.sibling;c!==null;)jy(c,f,v),c=c.sibling}function eC(c,f,v){for(var w=f,C=!1,B,U;;){if(!C){C=w.return;e:for(;;){if(C===null)throw Error(o(160));switch(B=C.stateNode,C.tag){case 5:U=!1;break e;case 3:B=B.containerInfo,U=!0;break e;case 4:B=B.containerInfo,U=!0;break e}C=C.return}C=!0}if(w.tag===5||w.tag===6)YM(c,w,v),U?$e(B,w.stateNode):Te(B,w.stateNode);else if(w.tag===18)U?cn(B,w.stateNode):St(B,w.stateNode);else if(w.tag===4){if(w.child!==null){B=w.stateNode.containerInfo,U=!0,w.child.return=w,w=w.child;continue}}else if(KM(c,w,v),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(C=!1)}w.sibling.return=w.return,w=w.sibling}}function Jy(c,f){if(Fe){switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),Xc(3,f),ba(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var w=f.memoizedProps;c=c!==null?c.memoizedProps:w;var C=f.type,B=f.updateQueue;f.updateQueue=null,B!==null&&J(v,B,C,c,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,ge(f.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&Ct(f.stateNode.containerInfo);return;case 12:return;case 13:ap(f);return;case 19:ap(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),Xc(3,f),ba(5,f,f.return);return;case 12:return;case 13:ap(f);return;case 19:ap(f);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&Ct(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,ts(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function ap(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new aF),f.forEach(function(w){var C=vF.bind(null,c,w);v.has(w)||(v.add(w),w.then(C,C))})}}function uF(c,f){for(Oe=f;Oe!==null;){f=Oe;var v=f.deletions;if(v!==null)for(var w=0;w<v.length;w++){var C=v[w];try{var B=c;Fe?eC(B,C,f):YM(B,C,f);var U=C.alternate;U!==null&&(U.return=null),C.return=null}catch(Ke){Ti(C,f,Ke)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,Oe=v;else for(;Oe!==null;){f=Oe;try{var Q=f.flags;if(Q&32&&Fe&&yt(f.stateNode),Q&512){var de=f.alternate;if(de!==null){var Ee=de.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(Q&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ve=f.alternate;(Ve===null||Ve.memoizedState===null)&&($y=zn())}break;case 22:var ot=f.memoizedState!==null,et=f.alternate,Ht=et!==null&&et.memoizedState!==null;if(v=f,Fe){e:if(w=v,C=ot,B=null,Fe)for(var Qe=w;;){if(Qe.tag===5){if(B===null){B=Qe;var ni=Qe.stateNode;C?Jt(ni):fe(Qe.stateNode,Qe.memoizedProps)}}else if(Qe.tag===6){if(B===null){var pr=Qe.stateNode;C?Z(pr):Ae(pr,Qe.memoizedProps)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===w)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===w)break;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===w)break e;B===Qe&&(B=null),Qe=Qe.return}B===Qe&&(B=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}if(ot&&!Ht&&v.mode&1){Oe=v;for(var se=v.child;se!==null;){for(v=Oe=se;Oe!==null;){w=Oe;var q=w.child;switch(w.tag){case 0:case 11:case 14:case 15:ba(4,w,w.return);break;case 1:op(w,w.return);var ce=w.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ue=w.return;try{ce.props=w.memoizedProps,ce.state=w.memoizedState,ce.componentWillUnmount()}catch(Ke){Ti(w,Ue,Ke)}}break;case 5:op(w,w.return);break;case 22:if(w.memoizedState!==null){iC(v);continue}}q!==null?(q.return=w,Oe=q):iC(v)}se=se.sibling}}}switch(Q&4102){case 2:$M(f),f.flags&=-3;break;case 6:$M(f),f.flags&=-3,Jy(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Jy(f.alternate,f);break;case 4:Jy(f.alternate,f)}}catch(Ke){Ti(f,f.return,Ke)}if(v=f.sibling,v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}}function cF(c,f,v){Oe=c,tC(c)}function tC(c,f,v){for(var w=(c.mode&1)!==0;Oe!==null;){var C=Oe,B=C.child;if(C.tag===22&&w){var U=C.memoizedState!==null||sp;if(!U){var Q=C.alternate,de=Q!==null&&Q.memoizedState!==null||Ca;Q=sp;var Ee=Ca;if(sp=U,(Ca=de)&&!Ee)for(Oe=C;Oe!==null;)U=Oe,de=U.child,U.tag===22&&U.memoizedState!==null?rC(C):de!==null?(de.return=U,Oe=de):rC(C);for(;B!==null;)Oe=B,tC(B),B=B.sibling;Oe=C,sp=Q,Ca=Ee}nC(c)}else C.subtreeFlags&8772&&B!==null?(B.return=C,Oe=B):nC(c)}}function nC(c){for(;Oe!==null;){var f=Oe;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ca||Xc(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Ca)if(v===null)w.componentDidMount();else{var C=f.elementType===f.type?v.memoizedProps:Rr(f.type,v.memoizedProps);w.componentDidUpdate(C,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var B=f.updateQueue;B!==null&&Qw(f,B,w);break;case 3:var U=f.updateQueue;if(U!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=Y(f.child.stateNode);break;case 1:v=f.child.stateNode}Qw(f,U,v)}break;case 5:var Q=f.stateNode;v===null&&f.flags&4&&Xe(Q,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&f.memoizedState===null){var de=f.alternate;if(de!==null){var Ee=de.memoizedState;if(Ee!==null){var Ve=Ee.dehydrated;Ve!==null&&_t(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ca||f.flags&512&&Vy(f)}catch(ot){Ti(f,f.return,ot)}}if(f===c){Oe=null;break}if(v=f.sibling,v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}function iC(c){for(;Oe!==null;){var f=Oe;if(f===c){Oe=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Oe=v;break}Oe=f.return}}function rC(c){for(;Oe!==null;){var f=Oe;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Xc(4,f)}catch(de){Ti(f,v,de)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var C=f.return;try{w.componentDidMount()}catch(de){Ti(f,C,de)}}var B=f.return;try{Vy(f)}catch(de){Ti(f,B,de)}break;case 5:var U=f.return;try{Vy(f)}catch(de){Ti(f,U,de)}}}catch(de){Ti(f,f.return,de)}if(f===c){Oe=null;break}var Q=f.sibling;if(Q!==null){Q.return=f.return,Oe=Q;break}Oe=f.return}}var lp=0,up=1,cp=2,fp=3,dp=4;if(typeof Symbol=="function"&&Symbol.for){var Kc=Symbol.for;lp=Kc("selector.component"),up=Kc("selector.has_pseudo_class"),cp=Kc("selector.role"),fp=Kc("selector.test_id"),dp=Kc("selector.text")}function Xy(c){var f=Ce(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=Mt(c),c===null)throw Error(o(362));return c.stateNode.current}function Ky(c,f){switch(f.$$typeof){case lp:if(c.type===f.value)return!0;break;case up:e:{f=f.value,c=[c,0];for(var v=0;v<c.length;){var w=c[v++],C=c[v++],B=f[C];if(w.tag!==5||!ae(w)){for(;B!=null&&Ky(w,B);)C++,B=f[C];if(C===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,C),w=w.sibling}}f=!1}return f;case cp:if(c.tag===5&&we(c.stateNode,f.value))return!0;break;case dp:if((c.tag===5||c.tag===6)&&(c=D(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case fp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Yy(c){switch(c.$$typeof){case lp:return"<"+(R(c.value)||"Unknown")+">";case up:return":has("+(Yy(c)||"")+")";case cp:return'[role="'+c.value+'"]';case dp:return'"'+c.value+'"';case fp:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function sC(c,f){var v=[];c=[c,0];for(var w=0;w<c.length;){var C=c[w++],B=c[w++],U=f[B];if(C.tag!==5||!ae(C)){for(;U!=null&&Ky(C,U);)B++,U=f[B];if(B===f.length)v.push(C);else for(C=C.child;C!==null;)c.push(C,B),C=C.sibling}}return v}function Qy(c,f){if(!xt)throw Error(o(363));c=Xy(c),c=sC(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var w=c[v++];if(w.tag===5)ae(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}var fF=Math.ceil,hp=a.ReactCurrentDispatcher,Zy=a.ReactCurrentOwner,xn=a.ReactCurrentBatchConfig,gt=0,Mn=null,Cn=null,Jn=0,Gi=0,jl=sr(0),Rn=0,Yc=null,Jl=0,pp=0,qy=0,Qc=null,bi=null,$y=0,ev=1/0;function Xl(){ev=zn()+500}var mp=!1,tv=null,xo=null,gp=!1,Ao=null,yp=0,Zc=0,nv=null,vp=-1,xp=0;function hi(){return gt&6?zn():vp!==-1?vp:vp=zn()}function _o(c){return c.mode&1?gt&2&&Jn!==0?Jn&-Jn:XD.transition!==null?(xp===0&&(c=Lh,Lh<<=1,!(Lh&4194240)&&(Lh=64),xp=c),xp):(c=Lt,c!==0?c:Le()):1}function dr(c,f,v){if(50<Zc)throw Zc=0,nv=null,Error(o(185));var w=Ap(c,f);return w===null?null:(Dc(w,f,v),(!(gt&2)||w!==Mn)&&(w===Mn&&(!(gt&2)&&(pp|=f),Rn===4&&So(w,Jn)),Ei(w,v),f===1&&gt===0&&!(c.mode&1)&&(Xl(),kh&&rs())),w)}function Ap(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}function Ei(c,f){var v=c.callbackNode;ND(c,f);var w=Dh(c,c===Mn?Jn:0);if(w===0)v!==null&&jw(v),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(v!=null&&jw(v),f===1)c.tag===0?JD(aC.bind(null,c)):Jw(aC.bind(null,c)),Je?je(function(){gt===0&&rs()}):cy(fy,rs),v=null;else{switch(Ww(w)){case 1:v=fy;break;case 4:v=HD;break;case 16:v=dy;break;case 536870912:v=VD;break;default:v=dy}v=gC(v,oC.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function oC(c,f){if(vp=-1,xp=0,gt&6)throw Error(o(327));var v=c.callbackNode;if(Pa()&&c.callbackNode!==v)return null;var w=Dh(c,c===Mn?Jn:0);if(w===0)return null;if(w&30||w&c.expiredLanes||f)f=_p(c,w);else{f=w;var C=gt;gt|=2;var B=cC();(Mn!==c||Jn!==f)&&(Xl(),Ea(c,f));do try{pF();break}catch(Q){uC(c,Q)}while(1);my(),hp.current=B,gt=C,Cn!==null?f=0:(Mn=null,Jn=0,f=Rn)}if(f!==0){if(f===2&&(C=ay(c),C!==0&&(w=C,f=iv(c,C))),f===1)throw v=Yc,Ea(c,0),So(c,w),Ei(c,zn()),v;if(f===6)So(c,w);else{if(C=c.current.alternate,!(w&30)&&!dF(C)&&(f=_p(c,w),f===2&&(B=ay(c),B!==0&&(w=B,f=iv(c,B))),f===1))throw v=Yc,Ea(c,0),So(c,w),Ei(c,zn()),v;switch(c.finishedWork=C,c.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:Ta(c,bi);break;case 3:if(So(c,w),(w&130023424)===w&&(f=$y+500-zn(),10<f)){if(Dh(c,0)!==0)break;if(C=c.suspendedLanes,(C&w)!==w){hi(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=Be(Ta.bind(null,c,bi),f);break}Ta(c,bi);break;case 4:if(So(c,w),(w&4194240)===w)break;for(f=c.eventTimes,C=-1;0<w;){var U=31-Br(w);B=1<<U,U=f[U],U>C&&(C=U),w&=~B}if(w=C,w=zn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*fF(w/1960))-w,10<w){c.timeoutHandle=Be(Ta.bind(null,c,bi),w);break}Ta(c,bi);break;case 5:Ta(c,bi);break;default:throw Error(o(329))}}}return Ei(c,zn()),c.callbackNode===v?oC.bind(null,c):null}function iv(c,f){var v=Qc;return c.current.memoizedState.isDehydrated&&(Ea(c,f).flags|=256),c=_p(c,f),c!==2&&(f=bi,bi=v,f!==null&&rv(f)),c}function rv(c){bi===null?bi=c:bi.push.apply(bi,c)}function dF(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var C=v[w],B=C.getSnapshot;C=C.value;try{if(!is(B(),C))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function So(c,f){for(f&=~qy,f&=~pp,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-Br(f),w=1<<v;c[v]=-1,f&=~w}}function aC(c){if(gt&6)throw Error(o(327));Pa();var f=Dh(c,0);if(!(f&1))return Ei(c,zn()),null;var v=_p(c,f);if(c.tag!==0&&v===2){var w=ay(c);w!==0&&(f=w,v=iv(c,w))}if(v===1)throw v=Yc,Ea(c,0),So(c,f),Ei(c,zn()),v;if(v===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Ta(c,bi),Ei(c,zn()),null}function lC(c){Ao!==null&&Ao.tag===0&&!(gt&6)&&Pa();var f=gt;gt|=1;var v=xn.transition,w=Lt;try{if(xn.transition=null,Lt=1,c)return c()}finally{Lt=w,xn.transition=v,gt=f,!(gt&6)&&rs()}}function sv(){Gi=jl.current,ct(jl)}function Ea(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Ne&&(c.timeoutHandle=Ne,Re(v)),Cn!==null)for(v=Cn.return;v!==null;){var w=v;switch(Sy(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Bh();break;case 3:Vl(),ct(Un),ct(Nt),Py();break;case 5:Ey(w);break;case 4:Vl();break;case 13:ct(tn);break;case 19:ct(tn);break;case 10:gy(w.type._context);break;case 22:case 23:sv()}v=v.return}if(Mn=c,Cn=c=wo(c.current,null),Jn=Gi=f,Rn=0,Yc=null,qy=pp=Jl=0,bi=Qc=null,ss!==null){for(f=0;f<ss.length;f++)if(v=ss[f],w=v.interleaved,w!==null){v.interleaved=null;var C=w.next,B=v.pending;if(B!==null){var U=B.next;B.next=C,w.next=U}v.pending=w}ss=null}return c}function uC(c,f){do{var v=Cn;try{if(my(),Xh.current=$h,Kh){for(var w=dn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Kh=!1}if(Wl=0,Gn=$n=dn=null,zc=!1,Gc=0,Zy.current=null,v===null||v.return===null){Rn=1,Yc=f,Cn=null;break}e:{var B=c,U=v.return,Q=v,de=f;if(f=Jn,Q.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Ve=Q,ot=Ve.tag;if(!(Ve.mode&1)&&(ot===0||ot===11||ot===15)){var et=Ve.alternate;et?(Ve.updateQueue=et.updateQueue,Ve.memoizedState=et.memoizedState,Ve.lanes=et.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var Ht=BM(U);if(Ht!==null){Ht.flags&=-257,RM(Ht,U,Q,B,f),Ht.mode&1&&PM(B,Ee,f),f=Ht,de=Ee;var Qe=f.updateQueue;if(Qe===null){var ni=new Set;ni.add(de),f.updateQueue=ni}else Qe.add(de);break e}else{if(!(f&1)){PM(B,Ee,f),ov();break e}de=Error(o(426))}}else if(Qt&&Q.mode&1){var pr=BM(U);if(pr!==null){!(pr.flags&65536)&&(pr.flags|=256),RM(pr,U,Q,B,f),Cy(de);break e}}B=de,Rn!==4&&(Rn=2),Qc===null?Qc=[B]:Qc.push(B),de=ky(de,Q),Q=U;do{switch(Q.tag){case 3:Q.flags|=65536,f&=-f,Q.lanes|=f;var se=EM(Q,de,f);Yw(Q,se);break e;case 1:B=de;var q=Q.type,ce=Q.stateNode;if(!(Q.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(xo===null||!xo.has(ce)))){Q.flags|=65536,f&=-f,Q.lanes|=f;var Ue=TM(Q,B,f);Yw(Q,Ue);break e}}Q=Q.return}while(Q!==null)}dC(v)}catch(Ke){f=Ke,Cn===v&&v!==null&&(Cn=v=v.return);continue}break}while(1)}function cC(){var c=hp.current;return hp.current=$h,c===null?$h:c}function ov(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Mn===null||!(Jl&268435455)&&!(pp&268435455)||So(Mn,Jn)}function _p(c,f){var v=gt;gt|=2;var w=cC();Mn===c&&Jn===f||Ea(c,f);do try{hF();break}catch(C){uC(c,C)}while(1);if(my(),gt=v,hp.current=w,Cn!==null)throw Error(o(261));return Mn=null,Jn=0,Rn}function hF(){for(;Cn!==null;)fC(Cn)}function pF(){for(;Cn!==null&&!zD();)fC(Cn)}function fC(c){var f=mC(c.alternate,c,Gi);c.memoizedProps=c.pendingProps,f===null?dC(c):Cn=f,Zy.current=null}function dC(c){var f=c;do{var v=f.alternate;if(c=f.return,f.flags&32768){if(v=oF(v,f),v!==null){v.flags&=32767,Cn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Rn=6,Cn=null;return}}else if(v=iF(v,f,Gi),v!==null){Cn=v;return}if(f=f.sibling,f!==null){Cn=f;return}Cn=f=c}while(f!==null);Rn===0&&(Rn=5)}function Ta(c,f){var v=Lt,w=xn.transition;try{xn.transition=null,Lt=1,mF(c,f,v)}finally{xn.transition=w,Lt=v}return null}function mF(c,f,v){do Pa();while(Ao!==null);if(gt&6)throw Error(o(327));var w=c.finishedWork,C=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var B=w.lanes|w.childLanes;if(UD(c,B),c===Mn&&(Cn=Mn=null,Jn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||gp||(gp=!0,gC(dy,function(){return Pa(),null})),B=(w.flags&15990)!==0,w.subtreeFlags&15990||B){B=xn.transition,xn.transition=null;var U=Lt;Lt=1;var Q=gt;gt|=4,Zy.current=null,lF(c,w),uF(c,w),X(c.containerInfo),c.current=w,cF(w),GD(),gt=Q,Lt=U,xn.transition=B}else c.current=w;if(gp&&(gp=!1,Ao=c,yp=C),B=c.pendingLanes,B===0&&(xo=null),WD(w.stateNode),Ei(c,zn()),f!==null)for(v=c.onRecoverableError,w=0;w<f.length;w++)v(f[w]);if(mp)throw mp=!1,c=tv,tv=null,c;return yp&1&&c.tag!==0&&Pa(),B=c.pendingLanes,B&1?c===nv?Zc++:(Zc=0,nv=c):Zc=0,rs(),null}function Pa(){if(Ao!==null){var c=Ww(yp),f=xn.transition,v=Lt;try{if(xn.transition=null,Lt=16>c?16:c,Ao===null)var w=!1;else{if(c=Ao,Ao=null,yp=0,gt&6)throw Error(o(331));var C=gt;for(gt|=4,Oe=c.current;Oe!==null;){var B=Oe,U=B.child;if(Oe.flags&16){var Q=B.deletions;if(Q!==null){for(var de=0;de<Q.length;de++){var Ee=Q[de];for(Oe=Ee;Oe!==null;){var Ve=Oe;switch(Ve.tag){case 0:case 11:case 15:ba(8,Ve,B)}var ot=Ve.child;if(ot!==null)ot.return=Ve,Oe=ot;else for(;Oe!==null;){Ve=Oe;var et=Ve.sibling,Ht=Ve.return;if(QM(Ve),Ve===Ee){Oe=null;break}if(et!==null){et.return=Ht,Oe=et;break}Oe=Ht}}}var Qe=B.alternate;if(Qe!==null){var ni=Qe.child;if(ni!==null){Qe.child=null;do{var pr=ni.sibling;ni.sibling=null,ni=pr}while(ni!==null)}}Oe=B}}if(B.subtreeFlags&2064&&U!==null)U.return=B,Oe=U;else e:for(;Oe!==null;){if(B=Oe,B.flags&2048)switch(B.tag){case 0:case 11:case 15:ba(9,B,B.return)}var se=B.sibling;if(se!==null){se.return=B.return,Oe=se;break e}Oe=B.return}}var q=c.current;for(Oe=q;Oe!==null;){U=Oe;var ce=U.child;if(U.subtreeFlags&2064&&ce!==null)ce.return=U,Oe=ce;else e:for(U=q;Oe!==null;){if(Q=Oe,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Xc(9,Q)}}catch(Ke){Ti(Q,Q.return,Ke)}if(Q===U){Oe=null;break e}var Ue=Q.sibling;if(Ue!==null){Ue.return=Q.return,Oe=Ue;break e}Oe=Q.return}}if(gt=C,rs(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Fh,c)}catch{}w=!0}return w}finally{Lt=v,xn.transition=f}}return!1}function hC(c,f,v){f=ky(v,f),f=EM(c,f,1),vo(c,f),f=hi(),c=Ap(c,1),c!==null&&(Dc(c,1,f),Ei(c,f))}function Ti(c,f,v){if(c.tag===3)hC(c,c,v);else for(;f!==null;){if(f.tag===3){hC(f,c,v);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(xo===null||!xo.has(w))){c=ky(v,c),c=TM(f,c,1),vo(f,c),c=hi(),f=Ap(f,1),f!==null&&(Dc(f,1,c),Ei(f,c));break}}f=f.return}}function gF(c,f,v){var w=c.pingCache;w!==null&&w.delete(f),f=hi(),c.pingedLanes|=c.suspendedLanes&v,Mn===c&&(Jn&v)===v&&(Rn===4||Rn===3&&(Jn&130023424)===Jn&&500>zn()-$y?Ea(c,0):qy|=v),Ei(c,f)}function pC(c,f){f===0&&(c.mode&1?(f=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):f=1);var v=hi();c=Ap(c,f),c!==null&&(Dc(c,f,v),Ei(c,v))}function yF(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),pC(c,v)}function vF(c,f){var v=0;switch(c.tag){case 13:var w=c.stateNode,C=c.memoizedState;C!==null&&(v=C.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),pC(c,v)}var mC;mC=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||Un.current)zi=!0;else{if(!(c.lanes&v)&&!(f.flags&128))return zi=!1,sF(c,f,v);zi=!!(c.flags&131072)}else zi=!1,Qt&&f.flags&1048576&&tM(f,Wh,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var C=Ps(f,Nt.current);Ol(f,v),C=Ry(null,f,w,c,C,v);var B=Ly();return f.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ci(w)?(B=!0,Rh(f)):B=!1,f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,vy(f),C.updater=Hh,f.stateNode=C,C._reactInternals=f,Ay(f,w,c,v),f=Uy(null,f,w,!0,B,v)):(f.tag=0,Qt&&B&&_y(f),di(null,f,C,v),f=f.child),f;case 16:w=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,C=w._init,w=C(w._payload),f.type=w,C=f.tag=AF(w),c=Rr(w,c),C){case 0:f=Ny(null,f,w,c,v);break e;case 1:f=UM(null,f,w,c,v);break e;case 11:f=DM(null,f,w,c,v);break e;case 14:f=FM(null,f,w,Rr(w.type,c),v);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Rr(w,C),Ny(c,f,w,C,v);case 1:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Rr(w,C),UM(c,f,w,C,v);case 3:e:{if(zM(f),c===null)throw Error(o(387));w=f.pendingProps,B=f.memoizedState,C=B.element,Kw(c,f),Gh(f,w,null,v);var U=f.memoizedState;if(w=U.element,le&&B.isDehydrated)if(B={element:w,isDehydrated:!1,cache:U.cache,transitions:U.transitions},f.updateQueue.baseState=B,f.memoizedState=B,f.flags&256){C=Error(o(423)),f=GM(c,f,w,v,C);break e}else if(w!==C){C=Error(o(424)),f=GM(c,f,w,v,C);break e}else for(le&&(Ui=ne(f.stateNode.containerInfo),Ni=f,Qt=!0,Lr=null,Fc=!1),v=aM(f,null,w,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(zl(),w===C){f=Fs(c,f,v);break e}di(c,f,w,v)}f=f.child}return f;case 5:return lM(f),c===null&&My(f),w=f.type,C=f.pendingProps,B=c!==null?c.memoizedProps:null,U=C.children,re(w,C)?U=null:B!==null&&re(w,B)&&(f.flags|=32),NM(c,f),di(c,f,U,v),f.child;case 6:return c===null&&My(f),null;case 13:return HM(c,f,v);case 4:return by(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Gl(f,null,w,v):di(c,f,w,v),f.child;case 11:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Rr(w,C),DM(c,f,w,C,v);case 7:return di(c,f,f.pendingProps,v),f.child;case 8:return di(c,f,f.pendingProps.children,v),f.child;case 12:return di(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(w=f.type._context,C=f.pendingProps,B=f.memoizedProps,U=C.value,Xw(f,w,U),B!==null)if(is(B.value,U)){if(B.children===C.children&&!Un.current){f=Fs(c,f,v);break e}}else for(B=f.child,B!==null&&(B.return=f);B!==null;){var Q=B.dependencies;if(Q!==null){U=B.child;for(var de=Q.firstContext;de!==null;){if(de.context===w){if(B.tag===1){de=Rs(-1,v&-v),de.tag=2;var Ee=B.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ve=Ee.pending;Ve===null?de.next=de:(de.next=Ve.next,Ve.next=de),Ee.pending=de}}B.lanes|=v,de=B.alternate,de!==null&&(de.lanes|=v),yy(B.return,v,f),Q.lanes|=v;break}de=de.next}}else if(B.tag===10)U=B.type===f.type?null:B.child;else if(B.tag===18){if(U=B.return,U===null)throw Error(o(341));U.lanes|=v,Q=U.alternate,Q!==null&&(Q.lanes|=v),yy(U,v,f),U=B.sibling}else U=B.child;if(U!==null)U.return=B;else for(U=B;U!==null;){if(U===f){U=null;break}if(B=U.sibling,B!==null){B.return=U.return,U=B;break}U=U.return}B=U}di(c,f,C.children,v),f=f.child}return f;case 9:return C=f.type,w=f.pendingProps.children,Ol(f,v),C=ar(C),w=w(C),f.flags|=1,di(c,f,w,v),f.child;case 14:return w=f.type,C=Rr(w,f.pendingProps),C=Rr(w.type,C),FM(c,f,w,C,v);case 15:return kM(c,f,f.type,f.pendingProps,v);case 17:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Rr(w,C),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Ci(w)?(c=!0,Rh(f)):c=!1,Ol(f,v),$w(f,w,C),Ay(f,w,C,v),Uy(null,f,w,!0,c,v);case 19:return JM(c,f,v);case 22:return OM(c,f,v)}throw Error(o(156,f.tag))};function gC(c,f){return cy(c,f)}function xF(c,f,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(c,f,v,w){return new xF(c,f,v,w)}function av(c){return c=c.prototype,!(!c||!c.isReactComponent)}function AF(c){if(typeof c=="function")return av(c)?1:0;if(c!=null){if(c=c.$$typeof,c===g)return 11;if(c===_)return 14}return 2}function wo(c,f){var v=c.alternate;return v===null?(v=hr(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function Sp(c,f,v,w,C,B){var U=2;if(w=c,typeof c=="function")av(c)&&(U=1);else if(typeof c=="string")U=5;else e:switch(c){case d:return Ba(v.children,C,B,f);case h:U=8,C|=8;break;case p:return c=hr(12,v,f,C|2),c.elementType=p,c.lanes=B,c;case A:return c=hr(13,v,f,C),c.elementType=A,c.lanes=B,c;case x:return c=hr(19,v,f,C),c.elementType=x,c.lanes=B,c;case M:return wp(v,C,B,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:U=10;break e;case y:U=9;break e;case g:U=11;break e;case _:U=14;break e;case S:U=16,w=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=hr(U,v,f,C),f.elementType=c,f.type=w,f.lanes=B,f}function Ba(c,f,v,w){return c=hr(7,c,w,f),c.lanes=v,c}function wp(c,f,v,w){return c=hr(22,c,w,f),c.elementType=M,c.lanes=v,c.stateNode={},c}function lv(c,f,v){return c=hr(6,c,null,f),c.lanes=v,c}function uv(c,f,v){return f=hr(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function _F(c,f,v,w,C){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ne,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=w,this.onRecoverableError=C,le&&(this.mutableSourceEagerHydrationData=null)}function yC(c,f,v,w,C,B,U,Q,de){return c=new _F(c,f,v,Q,de),f===1?(f=1,B===!0&&(f|=8)):f=0,B=hr(3,null,null,f),c.current=B,B.stateNode=c,B.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null},vy(B),c}function vC(c){if(!c)return or;c=c._reactInternals;e:{if(T(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ci(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var v=c.type;if(Ci(v))return Hw(c,v,f)}return f}function xC(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=V(f),c===null?null:c.stateNode}function AC(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function cv(c,f){AC(c,f),(c=c.alternate)&&AC(c,f)}function SF(c){return c=V(c),c===null?null:c.stateNode}function wF(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=hi();dr(c,134217728,f),cv(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=hi(),v=_o(c);dr(c,v,f),cv(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=Ic(f.pendingLanes);v!==0&&(uy(f,v|1),Ei(f,zn()),!(gt&6)&&(Xl(),rs()))}break;case 13:var w=hi();lC(function(){return dr(c,1,w)}),cv(c,1)}},t.batchedUpdates=function(c,f){var v=gt;gt|=1;try{return c(f)}finally{gt=v,gt===0&&(Xl(),kh&&rs())}},t.createComponentSelector=function(c){return{$$typeof:lp,value:c}},t.createContainer=function(c,f,v,w,C,B,U){return yC(c,f,!1,null,v,w,C,B,U)},t.createHasPseudoClassSelector=function(c){return{$$typeof:up,value:c}},t.createHydrationContainer=function(c,f,v,w,C,B,U,Q,de){return c=yC(v,w,!0,c,C,B,U,Q,de),c.context=vC(null),v=c.current,w=hi(),C=_o(v),B=Rs(w,C),B.callback=f??null,vo(v,B),c.current.lanes=C,Dc(c,C,w),Ei(c,w),c},t.createPortal=function(c,f,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:c,containerInfo:f,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:cp,value:c}},t.createTestNameSelector=function(c){return{$$typeof:fp,value:c}},t.createTextSelector=function(c){return{$$typeof:dp,value:c}},t.deferredUpdates=function(c){var f=Lt,v=xn.transition;try{return xn.transition=null,Lt=16,c()}finally{Lt=f,xn.transition=v}},t.discreteUpdates=function(c,f,v,w,C){var B=Lt,U=xn.transition;try{return xn.transition=null,Lt=1,c(f,v,w,C)}finally{Lt=B,xn.transition=U,gt===0&&Xl()}},t.findAllNodes=Qy,t.findBoundingRects=function(c,f){if(!xt)throw Error(o(363));f=Qy(c,f),c=[];for(var v=0;v<f.length;v++)c.push(z(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var w=v.x,C=w+v.width,B=v.y,U=B+v.height,Q=f-1;0<=Q;Q--)if(f!==Q){var de=c[Q],Ee=de.x,Ve=Ee+de.width,ot=de.y,et=ot+de.height;if(w>=Ee&&B>=ot&&C<=Ve&&U<=et){c.splice(f,1);break}else if(w!==Ee||v.width!==de.width||et<B||ot>U){if(!(B!==ot||v.height!==de.height||Ve<w||Ee>C)){Ee>w&&(de.width+=Ee-w,de.x=w),Ve<C&&(de.width=C-Ee),c.splice(f,1);break}}else{ot>B&&(de.height+=ot-B,de.y=B),et<U&&(de.height=U-ot),c.splice(f,1);break}}}return c},t.findHostInstance=xC,t.findHostInstanceWithNoPortals=function(c){return c=I(c),c=c!==null?N(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return xC(c)},t.flushControlled=function(c){var f=gt;gt|=1;var v=xn.transition,w=Lt;try{xn.transition=null,Lt=1,c()}finally{Lt=w,xn.transition=v,gt=f,gt===0&&(Xl(),rs())}},t.flushPassiveEffects=Pa,t.flushSync=lC,t.focusWithin=function(c,f){if(!xt)throw Error(o(363));for(c=Xy(c),f=sC(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++];if(!ae(v)){if(v.tag===5&&be(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(c,f){if(!xt)throw Error(o(363));var v=0,w=[];c=[Xy(c),0];for(var C=0;C<c.length;){var B=c[C++],U=c[C++],Q=f[U];if((B.tag!==5||!ae(B))&&(Ky(B,Q)&&(w.push(Yy(Q)),U++,U>v&&(v=U)),U<f.length))for(B=B.child;B!==null;)c.push(B,U),B=B.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(Yy(f[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return Y(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:SF,findFiberByHostInstance:c.findFiberByHostInstance||wF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Fh=f.inject(c),ns=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,v,w){if(!xt)throw Error(o(363));c=Qy(c,f);var C=Pe(c,v,w).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(c,f){var v=f._getVersion;v=v(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,v]:c.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(c,f){var v=Lt;try{return Lt=c,f()}finally{Lt=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,v,w){var C=f.current,B=hi(),U=_o(C);return v=vC(v),f.context===null?f.context=v:f.pendingContext=v,f=Rs(B,U),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),vo(C,f),c=dr(C,U,B),c!==null&&zh(c,C,U),U},t};(function(n){n.exports=D6})(L6);const F6=o_(bA);function yL(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Js=[];function vL(n,e,t=!1,i={}){for(const s of Js)if(yL(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Js.indexOf(r);s!==-1&&Js.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Js.push(r),!t)throw r.promise}const k6=(n,e,t)=>vL(n,e,!1,t),O6=(n,e,t)=>void vL(n,e,!0,t),N6=n=>{if(n===void 0||n.length===0)Js.splice(0,Js.length);else{const e=Js.find(t=>yL(n,t.keys,t.equal));if(e){const t=Js.indexOf(e);t!==-1&&Js.splice(t,1)}}};var sT,oT;const U6=(n,...e)=>e.reduce((t,i)=>t==null?void 0:t[i],n),vu="ColorManagement"in CA&&U6(CA,"ColorManagement")||null,xL=n=>n&&n.isOrthographicCamera,z6=n=>n&&n.hasOwnProperty("current"),xh=typeof window<"u"&&((sT=window.document)!=null&&sT.createElement||((oT=window.navigator)==null?void 0:oT.product)==="ReactNative")?H.useLayoutEffect:H.useEffect;function AL(n){const e=H.useRef(n);return xh(()=>void(e.current=n),[n]),e}function G6({set:n}){return xh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class _L extends H.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_L.getDerivedStateFromError=()=>({error:!0});const SL="__default",aT=new Map,H6=n=>n&&!!n.memoized&&!!n.changes;function wL(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const xf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},nn={obj:n=>n===Object(n)&&!nn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(nn.str(n)||nn.num(n))return n===e;const s=nn.obj(n);if(s&&i==="reference")return n===e;const o=nn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in r?e:n)if(n[a]!==e[a])return!1;if(nn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function V6(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function W6(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function xu(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function EA(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const lT=/-\d+$/;function xx(n,e,t){if(nn.str(t)){if(lT.test(t)){const s=t.replace(lT,""),{target:o,key:a}=EA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=EA(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function uT(n,e,t){var i,r;if(nn.str(t)){const{target:s,key:o}=EA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function ML(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(u){const g=Object.keys(l);for(let A=0;A<g.length;A++)r.hasOwnProperty(g[A])||p.unshift([g[A],SL+"remove"])}p.forEach(([g,A])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&g==="object"||nn.equ(A,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,A,!0,[]]);let _=[];g.includes("-")&&(_=g.split("-")),m.push([g,A,!1,_]);for(const S in r){const M=r[S];S.startsWith(`${g}-`)&&m.push([S,M,!1,S.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function Ax(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=H6(e)?e:ML(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,g,A]=u[p],x=n,_=x[m];if(A.length&&(_=A.reduce((S,M)=>S[M],n),!(_&&_.set))){const[S,...M]=A.reverse();x=M.reverse().reduce((b,P)=>b[P],n),m=S}if(y===SL+"remove")if(x.constructor){let S=aT.get(x.constructor);S||(S=new x.constructor,aT.set(x.constructor,S)),y=S[m]}else y=0;if(g)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof pl)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const S=_ instanceof De;!S&&_.setScalar?_.setScalar(y):_ instanceof pl&&y instanceof pl?_.mask=y.mask:_.set(y),!vu&&!a.linear&&S&&_.convertSRGBToLinear()}}else x[m]=y,!a.linear&&x[m]instanceof en&&x[m].format===Bi&&x[m].type===lo&&(x[m].encoding=bt);Au(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&TA(n),n}function Au(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function TA(n){n.onUpdate==null||n.onUpdate(n)}function j6(n,e){n.manual||(xL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function bm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function J6(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Wo.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Wo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wo.ContinuousEventPriority;default:return Wo.DefaultEventPriority}}function CL(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function X6(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{CL(t.capturedMap,e,i,r)})}function K6(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),h=new Set,p=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let x=0;x<m.length;x++){const _=xf(m[x]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(x){const _=xf(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let g=m.flatMap(y).sort((x,_)=>{const S=xf(x.object),M=xf(_.object);return!S||!M?x.distance-_.distance:M.events.priority-S.events.priority||x.distance-_.distance}).filter(x=>{const _=bm(x);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(g=d.events.filter(g,d));for(const x of g){let _=x.object;for(;_;){var A;(A=_.__r3f)!=null&&A.eventCount&&p.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let x of d.internal.capturedMap.get(l.pointerId).values())h.has(bm(x.intersection))||p.push(x.intersection);return p}function r(l,u,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const g=xf(y.object)||p,{raycaster:A,pointer:x,camera:_,internal:S}=g,M=new k(x.x,x.y,0).unproject(_),b=L=>{var I,V;return(I=(V=S.capturedMap.get(L))==null?void 0:V.has(y.eventObject))!=null?I:!1},P=L=>{const I={intersection:y,target:u.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(y.eventObject,I):S.capturedMap.set(L,new Map([[y.eventObject,I]])),u.target.setPointerCapture(L)},R=L=>{const I=S.capturedMap.get(L);I&&CL(S.capturedMap,y.eventObject,I,L)};let E={};for(let L in u){let I=u[L];typeof I!="function"&&(E[L]=I)}let T={...y,...E,pointer:x,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:A.ray,camera:_,stopPropagation(){const L="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!L||L.has(y.eventObject))&&(T.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(I=>I.eventObject===y.eventObject))){const I=l.slice(0,l.indexOf(y));s([...I,y])}},target:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},nativeEvent:u};if(h(T),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(bm(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(d,m?t:void 0),x=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=A.map(S=>S.eventObject)),y&&!A.length&&x<=2&&(o(d,p.interaction),h&&h(d)),m&&s(A);function _(S){const M=S.eventObject,b=M.__r3f,P=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=bm(S),E=p.hovered.get(R);E?E.stopped&&S.stopPropagation():(p.hovered.set(R,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const R=P[l];R?(!y||p.initialHits.includes(M))&&(o(d,p.interaction.filter(E=>!p.initialHits.includes(E))),R(S)):y&&p.initialHits.includes(M)&&o(d,p.interaction.filter(E=>!p.initialHits.includes(E)))}}r(A,d,x,_)}}return{handlePointer:a}}let PA={},Y6=n=>void(PA={...PA,...n});function Q6(n,e){function t(d,{args:h=[],attach:p,...m},y){let g=`${d[0].toUpperCase()}${d.slice(1)}`,A;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;A=xu(x,{type:d,root:y,attach:p,primitive:!0})}else{const x=PA[g];if(!x)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");A=xu(new x(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return A.__r3f.attach===void 0&&(A instanceof ut?A.__r3f.attach="geometry":A instanceof Bn&&(A.__r3f.attach="material")),g!=="inject"&&Ax(A,m),A}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?xx(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||xu(h,{}),h.__r3f.parent=d,TA(h),Au(h)}}function r(d,h,p){let m=!1;if(h){var y,g;if((y=h.__r3f)!=null&&y.attach)xx(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const A=d.children.filter(_=>_!==h),x=A.indexOf(p);d.children=[...A.slice(0,x),h,...A.slice(x)],m=!0}m||(g=d.__r3f)==null||g.objects.push(h),h.__r3f||xu(h,{}),h.__r3f.parent=d,TA(h),Au(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,g;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==h)),(y=h.__r3f)!=null&&y.attach)uT(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var A;d.remove(h),(A=h.__r3f)!=null&&A.root&&X6(h.__r3f.root,h)}const _=(g=h.__r3f)==null?void 0:g.primitive,S=p===void 0?h.dispose!==null&&!_:p;if(!_){var x;s((x=h.__r3f)==null?void 0:x.objects,h,S),s(h.children,h,S)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,_||delete h.__r3f),S&&h.dispose&&h.type!=="Scene"&&Fd.unstable_scheduleCallback(Fd.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Au(d)}}function a(d,h,p,m){var y;const g=(y=d.__r3f)==null?void 0:y.parent;if(!g)return;const A=t(h,p,d.__r3f.root);if(d.children){for(const x of d.children)x.__r3f&&i(A,x);d.children=d.children.filter(x=>!x.__r3f)}d.__r3f.objects.forEach(x=>i(A,x)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(g,d),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(g,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=A,x.ref&&(typeof x.ref=="function"?x.ref(A):x.ref.current=A))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:F6({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;const p=(h=d==null?void 0:d.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:g,...A}=m,{args:x=[],children:_,...S}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((b,P)=>b!==x[P]))return[!0];const M=ML(d,A,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(d,[h,p],m,y,g,A){h?a(d,m,g,A):Ax(d,p)},commitMount(d,h,p,m){var y;const g=(y=d.__r3f)!=null?y:{};d.raycast&&g.handlers&&g.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>xu(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&uT(m,d,p),d.isObject3D&&(d.visible=!1),Au(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&xx(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Au(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Wo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nn.fun(performance.now)?performance.now:nn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ax}}const bL=n=>!!(n!=null&&n.render),EL=H.createContext(null),Z6=(n,e)=>{const t=mL((a,l)=>{const u=new k,d=new k,h=new k;function p(x=l().camera,_=d,S=l().size){const{width:M,height:b,top:P,left:R}=S,E=M/b;_ instanceof k?h.copy(_):h.set(..._);const T=x.getWorldPosition(u).distanceTo(h);if(xL(x))return{width:M/x.zoom,height:b/x.zoom,top:P,left:R,factor:1,distance:T,aspect:E};{const L=x.fov*Math.PI/180,I=2*Math.tan(L/2)*T,V=I*(M/b);return{width:V,height:I,top:P,left:R,factor:M/V,distance:T,aspect:E}}}let m;const y=x=>a(_=>({performance:{..._.performance,current:x}})),g=new me;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,scene:xu(new wS),controls:null,clock:new jS,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&y(x.performance.min),m=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,S,M,b)=>{const P=l().camera,R={width:x,height:_,top:M||0,left:b||0,updateStyle:S};a(E=>({size:R,viewport:{...E.viewport,...p(P,d,R)}}))},setDpr:x=>a(_=>{const S=wL(x);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:H.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:x,priority:_,store:S}),M.subscribers=M.subscribers.sort((b,P)=>b.priority-P.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(_>0?1:0),b.subscribers=b.subscribers.filter(P=>P.ref!==x))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:h}=t.getState();if(l!==r||u.dpr!==s){var p;r=l,s=u.dpr,j6(a,l),d.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Em,q6=new Set,$6=new Set,e8=new Set;function _x(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Af(n,e){switch(n){case"before":return _x(q6,e);case"after":return _x($6,e);case"tail":return _x(e8,e)}}let Sx,wx;function Mx(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Sx=e.internal.subscribers,Em=0;Em<Sx.length;Em++)wx=Sx[Em],wx.ref.current(wx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function t8(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Af("before",l);for(const d of n.values()){var u;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=Mx(l,r))}if(Af("after",l),t===0)return Af("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var d;if(!l)return n.forEach(h=>o(h.store.getState()),u);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,d,h){if(u&&Af("before",l),d)Mx(l,d,h);else for(const p of n.values())Mx(l,p.store.getState());u&&Af("after",l)}return{loop:s,invalidate:o,advance:a}}function TL(){const n=H.useContext(EL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ji(n=t=>t,e){return TL()(n,e)}function Bc(n,e=0){const t=TL(),i=t.getState().internal.subscribe,r=AL(n);return xh(()=>i(r,e,t),[e,i,t]),null}function PL(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,V6(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function xa(n,e,t,i){const r=Array.isArray(e)?e:[e],s=k6(PL(t,i),[n,...r],{equal:nn.equ});return Array.isArray(e)?s:s[0]}xa.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return O6(PL(t),[n,...i])};xa.clear=function(n,e){const t=Array.isArray(e)?e:[e];return N6([n,...t])};const hc=new Map,{invalidate:cT,advance:fT}=t8(hc),{reconciler:Ug,applyProps:jo}=Q6(hc,J6),_f={objects:"shallow",strict:!1},n8=(n,e)=>{const t=typeof n=="function"?n(e):n;return bL(t)?t:new SS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function i8(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function r8(n){const e=hc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Z6(cT,fT),o=t||Ug.createContainer(s,Wo.ConcurrentRoot,null,!1,null,"",r,null);e||hc.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:d,size:h,events:p,onCreated:m,shadows:y=!1,linear:g=!1,flat:A=!1,legacy:x=!1,orthographic:_=!1,frameloop:S="always",dpr:M=[1,2],performance:b,raycaster:P,camera:R,onPointerMissed:E}=u,T=s.getState(),L=T.gl;T.gl||T.set({gl:L=n8(d,n)});let I=T.raycaster;I||T.set({raycaster:I=new hL});const{params:V,...G}=P||{};if(nn.equ(G,I,_f)||jo(I,{...G}),nn.equ(V,I.params,_f)||jo(I,{params:{...I.params,...V}}),!T.camera){const F=R instanceof th,W=F?R:_?new Jr(0,0,0,0,.1,1e3):new Wt(75,0,.1,1e3);F||(W.position.z=5,R&&jo(W,R),R!=null&&R.rotation||W.lookAt(0,0,0)),T.set({camera:W})}if(!T.xr){const F=(te,K)=>{const oe=s.getState();oe.frameloop!=="never"&&fT(te,!0,oe,K)},W=()=>{const te=s.getState();te.gl.xr.enabled=te.gl.xr.isPresenting,te.gl.xr.setAnimationLoop(te.gl.xr.isPresenting?F:null),te.gl.xr.isPresenting||cT(te)},X={connect(){const te=s.getState().gl;te.xr.addEventListener("sessionstart",W),te.xr.addEventListener("sessionend",W)},disconnect(){const te=s.getState().gl;te.xr.removeEventListener("sessionstart",W),te.xr.removeEventListener("sessionend",W)}};L.xr&&X.connect(),T.set({xr:X})}if(L.shadowMap){const F=L.shadowMap.enabled,W=L.shadowMap.type;if(L.shadowMap.enabled=!!y,nn.boo(y))L.shadowMap.type=Jf;else if(nn.str(y)){var N;const X={basic:w3,percentage:_0,soft:Jf,variance:tl};L.shadowMap.type=(N=X[y])!=null?N:Jf}else nn.obj(y)&&Object.assign(L.shadowMap,y);(F!==L.shadowMap.enabled||W!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}vu&&("enabled"in vu?vu.enabled=!x:"legacyMode"in vu&&(vu.legacyMode=x));const j=g?uo:bt,Y=A?jr:aS;L.outputEncoding!==j&&(L.outputEncoding=j),L.toneMapping!==Y&&(L.toneMapping=Y),T.legacy!==x&&T.set(()=>({legacy:x})),T.linear!==g&&T.set(()=>({linear:g})),T.flat!==A&&T.set(()=>({flat:A})),d&&!nn.fun(d)&&!bL(d)&&!nn.equ(d,L,_f)&&jo(L,d),p&&!T.events.handlers&&T.set({events:p(s)});const $=i8(n,h);return nn.equ($,T.size,_f)||T.setSize($.width,$.height,$.updateStyle,$.top,$.left),M&&T.viewport.dpr!==wL(M)&&T.setDpr(M),T.frameloop!==S&&T.setFrameloop(S),T.onPointerMissed||T.set({onPointerMissed:E}),b&&!nn.equ(b,T.performance,_f)&&T.set(F=>({performance:{...F.performance,...b}})),a=m,l=!0,this},render(u){return l||this.configure(),Ug.updateContainer(H.createElement(s8,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){BL(n)}}}function s8({store:n,children:e,onCreated:t,rootElement:i}){return xh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),H.createElement(EL.Provider,{value:n},e)}function BL(n,e){const t=hc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Ug.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),W6(r),hc.delete(n),e&&e(n)}catch{}},500)})}}Ug.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version});function it(){return it=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},it.apply(this,arguments)}function BA(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}BA.debounce=BA;var dT=BA;function o8(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=H.useRef(!1);H.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=H.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:S,top:M,width:b,height:P,bottom:R,right:E,x:T,y:L}=l.current.element.getBoundingClientRect(),I={left:S,top:M,width:b,height:P,bottom:R,right:E,x:T,y:L};l.current.element instanceof HTMLElement&&r&&(I.height=l.current.element.offsetHeight,I.width=l.current.element.offsetWidth),Object.freeze(I),h.current&&!c8(l.current.lastBounds,I)&&a(l.current.lastBounds=I)};return[_,d?dT(_,d):_,u?dT(_,u):_]},[a,r,u,d]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(g(),l.current.element=_,l.current.scrollContainers=RL(_),A())};return l8(y,Boolean(t)),a8(m),H.useEffect(()=>{g(),A()},[t,y,m]),H.useEffect(()=>g,[]),[x,o,p]}function a8(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function l8(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function RL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...RL(n.parentElement)]}const u8=["x","y","top","bottom","left","right","width","height"],c8=(n,e)=>u8.every(t=>n[t]===e[t]);var f8=Object.defineProperty,d8=Object.defineProperties,h8=Object.getOwnPropertyDescriptors,hT=Object.getOwnPropertySymbols,p8=Object.prototype.hasOwnProperty,m8=Object.prototype.propertyIsEnumerable,pT=(n,e,t)=>e in n?f8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mT=(n,e)=>{for(var t in e||(e={}))p8.call(e,t)&&pT(n,t,e[t]);if(hT)for(var t of hT(e))m8.call(e,t)&&pT(n,t,e[t]);return n},g8=(n,e)=>d8(n,h8(e));function LL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=LL(i,e,t);if(r)return r;i=e?null:i.sibling}}function IL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const YS=IL(H.createContext(null));class DL extends H.Component{render(){return H.createElement(YS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:y8,ReactCurrentDispatcher:v8}=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x8(){const n=H.useContext(YS);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{var i;return(i=y8.current)!=null?i:LL(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function A8(){var n,e;const t=x8(),[i]=H.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==YS&&!i.has(s)&&i.set(s,(e=v8.current)==null?void 0:e.readContext(IL(s))),r=r.return}return H.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>H.createElement(s,null,H.createElement(o.Provider,g8(mT({},a),{value:i.get(o)}))),s=>H.createElement(DL,mT({},s))),[i])}const Cx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _8(n){const{handlePointer:e}=K6(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Cx).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=Cx[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Cx[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const S8=H.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=_8,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:A,raycaster:x,camera:_,onPointerMissed:S,onCreated:M,...b},P){H.useMemo(()=>Y6(CA),[]);const R=A8(),[E,T]=o8({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=H.useRef(null),I=H.useRef(null),[V,G]=H.useState(null);H.useImperativeHandle(P,()=>L.current);const N=AL(S),[j,Y]=H.useState(!1),[$,F]=H.useState(!1);if(j)throw j;if($)throw $;const W=H.useRef(null);T.width>0&&T.height>0&&V&&(W.current||(W.current=r8(V)),W.current.configure({gl:s,events:o,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:A,raycaster:x,camera:_,size:T,onPointerMissed:(...te)=>N.current==null?void 0:N.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?z6(a)?a.current:a:I.current),l&&te.setEvents({compute:(K,oe)=>{const xe=K[l+"X"],re=K[l+"Y"];oe.pointer.set(xe/oe.size.width*2-1,-(re/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),M==null||M(te)}}),W.current.render(H.createElement(R,null,H.createElement(_L,{set:F},H.createElement(H.Suspense,{fallback:H.createElement(G6,{set:Y})},e))))),xh(()=>{G(L.current)},[]),H.useEffect(()=>{if(V)return()=>BL(V)},[V]);const X=a?"none":"auto";return H.createElement("div",it({ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r}},b),H.createElement("div",{ref:E,style:{width:"100%",height:"100%"}},H.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),k0=H.forwardRef(function(e,t){return H.createElement(DL,null,H.createElement(S8,it({},e,{ref:t})))}),Ah=new k,QS=new k,w8=new k;function M8(n,e,t){const i=Ah.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function C8(n,e){const t=Ah.setFromMatrixPosition(n.matrixWorld),i=QS.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(w8);return r.angleTo(s)>Math.PI/2}function b8(n,e,t,i){const r=Ah.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function E8(n,e){if(e instanceof Jr)return e.zoom;if(e instanceof Wt){const t=Ah.setFromMatrixPosition(n.matrixWorld),i=QS.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function T8(n,e,t){if(e instanceof Wt||e instanceof Jr){const i=Ah.setFromMatrixPosition(n.matrixWorld),r=QS.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const RA=n=>Math.abs(n)<1e-10?0:n;function FL(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=RA(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const P8=(n=>e=>FL(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),B8=(n=>(e,t)=>FL(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function R8(n){return n&&typeof n=="object"&&"current"in n}const L8=H.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:g,geometry:A,zIndexRange:x=[16777271,0],calculatePosition:_=M8,as:S="div",wrapperClass:M,pointerEvents:b="auto",...P},R)=>{const{gl:E,camera:T,scene:L,size:I,raycaster:V,events:G,viewport:N}=ji(),[j]=H.useState(()=>document.createElement(S)),Y=H.useRef(),$=H.useRef(null),F=H.useRef(0),W=H.useRef([0,0]),X=H.useRef(null),te=H.useRef(null),K=(a==null?void 0:a.current)||G.connected||E.domElement.parentNode,oe=H.useRef(null),xe=H.useRef(!1),re=H.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&R8(h[0]),[h]);H.useLayoutEffect(()=>{const _e=E.domElement;h&&h==="blending"?(_e.style.zIndex=`${Math.floor(x[0]/2)}`,_e.style.position="absolute",_e.style.pointerEvents="none"):(_e.style.zIndex=null,_e.style.position=null,_e.style.pointerEvents=null)},[h]),H.useLayoutEffect(()=>{if($.current){const _e=Y.current=m3(j);if(L.updateMatrixWorld(),d)j.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Fe=_($.current,T,I);j.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Fe[0]}px,${Fe[1]}px,0);transform-origin:0 0;`}return K&&(r?K.prepend(j):K.appendChild(j)),()=>{K&&K.removeChild(j),_e.unmount()}}},[K,d]),H.useLayoutEffect(()=>{M&&(j.className=M)},[M]);const ee=H.useMemo(()=>d?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...t},[t,s,o,I,d]),Be=H.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);H.useLayoutEffect(()=>{if(xe.current=!1,d){var _e;(_e=Y.current)==null||_e.render(H.createElement("div",{ref:X,style:ee},H.createElement("div",{ref:te,style:Be},H.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Fe;(Fe=Y.current)==null||Fe.render(H.createElement("div",{ref:R,style:ee,className:i,children:n}))}});const Re=H.useRef(!0);Bc(_e=>{if($.current){T.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);const Fe=d?W.current:_($.current,T,I);if(d||Math.abs(F.current-T.zoom)>e||Math.abs(W.current[0]-Fe[0])>e||Math.abs(W.current[1]-Fe[1])>e){const he=C8($.current,T);let le=!1;re&&(h!=="blending"?le=[L]:Array.isArray(h)&&(le=h.map(Ze=>Ze.current)));const Ce=Re.current;if(le){const Ze=b8($.current,T,V,le);Re.current=Ze&&!he}else Re.current=!he;Ce!==Re.current&&(p?p(!Re.current):j.style.display=Re.current?"block":"none");const Ge=Math.floor(x[0]/2),Le=h?re?[x[0],Ge]:[Ge-1,0]:x;if(j.style.zIndex=`${T8($.current,T,Le)}`,d){const[Ze,Je]=[I.width/2,I.height/2],je=T.projectionMatrix.elements[5]*Je,{isOrthographicCamera:xt,top:Mt,left:z,bottom:D,right:ae}=T,we=P8(T.matrixWorldInverse),be=xt?`scale(${je})translate(${RA(-(ae+z)/2)}px,${RA((Mt+D)/2)}px)`:`translateZ(${je}px)`;let Pe=$.current.matrixWorld;u&&(Pe=T.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale($.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),j.style.width=I.width+"px",j.style.height=I.height+"px",j.style.perspective=xt?"":`${je}px`,X.current&&te.current&&(X.current.style.transform=`${be}${we}translate(${Ze}px,${Je}px)`,te.current.style.transform=B8(Pe,1/((l||10)/400)))}else{const Ze=l===void 0?1:E8($.current,T)*l;j.style.transform=`translate3d(${Fe[0]}px,${Fe[1]}px,0) scale(${Ze})`}W.current=Fe,F.current=T.zoom}}if(!re&&oe.current&&!xe.current)if(d){if(X.current){const Fe=X.current.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const{isOrthographicCamera:he}=T;if(he||A)P.scale&&(Array.isArray(P.scale)?P.scale instanceof k?oe.current.scale.copy(P.scale.clone().divideScalar(1)):oe.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):oe.current.scale.setScalar(1/P.scale));else{const le=(l||10)/400,Ce=Fe.clientWidth*le,Ge=Fe.clientHeight*le;oe.current.scale.set(Ce,Ge,1)}xe.current=!0}}}else{const Fe=j.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const he=1/N.factor,le=Fe.clientWidth*he,Ce=Fe.clientHeight*he;oe.current.scale.set(le,Ce,1),xe.current=!0}oe.current.lookAt(_e.camera.position)}});const Ne=H.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return H.createElement("group",it({},P,{ref:$}),h&&!re&&H.createElement("mesh",{castShadow:m,receiveShadow:y,ref:oe},A||H.createElement("planeGeometry",null),g||H.createElement("shaderMaterial",{side:Hr,vertexShader:Ne.vertexShader,fragmentShader:Ne.fragmentShader})))});let Sf=0;const I8=mL(n=>(ku.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Sf)/(i-Sf)*100})},ku.onLoad=()=>{n({active:!1})},ku.onError=e=>n(t=>({errors:[...t.errors,e]})),ku.onProgress=(e,t,i)=>{t===i&&(Sf=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Sf)/(i-Sf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ZS(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Ku(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(t),!0).forEach(function(i){Ku(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new me;new me;function kL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var gr=function n(e,t,i){var r=this;kL(this,n),Ku(this,"dot2",function(s,o){return r.x*s+r.y*o}),Ku(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},D8=[new gr(1,1,0),new gr(-1,1,0),new gr(1,-1,0),new gr(-1,-1,0),new gr(1,0,1),new gr(-1,0,1),new gr(1,0,-1),new gr(-1,0,-1),new gr(0,1,1),new gr(0,-1,1),new gr(0,1,-1),new gr(0,-1,-1)],vT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],xT=new Array(512),AT=new Array(512),F8=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=vT[t]^e&255:i=vT[t]^e>>8&255,xT[t]=xT[t+256]=i,AT[t]=AT[t+256]=D8[i%12]}};F8(0);function k8(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function _T(n){var e=k8(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var O8=function n(e){var t=this;kL(this,n),Ku(this,"seed",0),Ku(this,"init",function(i){t.seed=i,t.value=_T(i)}),Ku(this,"value",_T(this.seed)),this.init(e)},N8=new O8(Math.random()),U8={radius:1,center:[0,0,0]};function z8(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N8,i=yT(yT({},U8),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,d=t.value()*2-1,h=Math.sqrt(l*l+u*u+d*d);l=a*l/h,u=a*u/h,d=a*d/h,n[o]=l*r+s[0],n[o+1]=u*r+s[1],n[o+2]=d*r+s[2]}return n}function kd(n){return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(n)}function G8(n,e){if(kd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(kd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function H8(n){var e=G8(n,"string");return kd(e)=="symbol"?e:String(e)}function lt(n,e,t){return e=H8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const ST=(n,e)=>(n%e+e)%e;let V8=class extends Ms{constructor(e,t){super(),lt(this,"object",void 0),lt(this,"domElement",void 0),lt(this,"enabled",!0),lt(this,"target",new k),lt(this,"minDistance",0),lt(this,"maxDistance",1/0),lt(this,"minZoom",0),lt(this,"maxZoom",1/0),lt(this,"minPolarAngle",0),lt(this,"maxPolarAngle",Math.PI),lt(this,"minAzimuthAngle",-1/0),lt(this,"maxAzimuthAngle",1/0),lt(this,"enableDamping",!1),lt(this,"dampingFactor",.05),lt(this,"enableZoom",!0),lt(this,"zoomSpeed",1),lt(this,"enableRotate",!0),lt(this,"rotateSpeed",1),lt(this,"enablePan",!0),lt(this,"panSpeed",1),lt(this,"screenSpacePanning",!0),lt(this,"keyPanSpeed",7),lt(this,"autoRotate",!1),lt(this,"autoRotateSpeed",2),lt(this,"reverseOrbit",!1),lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),lt(this,"mouseButtons",{LEFT:Va.ROTATE,MIDDLE:Va.DOLLY,RIGHT:Va.PAN}),lt(this,"touches",{ONE:Wa.ROTATE,TWO:Wa.DOLLY_PAN}),lt(this,"target0",void 0),lt(this,"position0",void 0),lt(this,"zoom0",void 0),lt(this,"_domElementKeyEvents",null),lt(this,"getPolarAngle",void 0),lt(this,"getAzimuthalAngle",void 0),lt(this,"setPolarAngle",void 0),lt(this,"setAzimuthalAngle",void 0),lt(this,"getDistance",void 0),lt(this,"listenToKeyEvents",void 0),lt(this,"saveState",void 0),lt(this,"reset",void 0),lt(this,"update",void 0),lt(this,"connect",void 0),lt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Wt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=J=>{let ue=ST(J,2*Math.PI),Se=d.phi;Se<0&&(Se+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let Te=Math.abs(ue-Se);2*Math.PI-Te<Te&&(ue<Se?ue+=2*Math.PI:Se+=2*Math.PI),h.phi=ue-Se,i.update()},this.setAzimuthalAngle=J=>{let ue=ST(J,2*Math.PI),Se=d.theta;Se<0&&(Se+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let Te=Math.abs(ue-Se);2*Math.PI-Te<Te&&(ue<Se?ue+=2*Math.PI:Se+=2*Math.PI),h.theta=ue-Se,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=J=>{J.addEventListener("keydown",ae),this._domElementKeyEvents=J},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof Wt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof Wt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const J=new k,ue=new Zn().setFromUnitVectors(e.up,new k(0,1,0)),Se=ue.clone().invert(),Te=new k,$e=new Zn,yt=2*Math.PI;return function(){const Z=i.object.position;J.copy(Z).sub(i.target),J.applyQuaternion(ue),d.setFromVector3(J),i.autoRotate&&l===a.NONE&&V(L()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let fe=i.minAzimuthAngle,Ae=i.maxAzimuthAngle;return isFinite(fe)&&isFinite(Ae)&&(fe<-Math.PI?fe+=yt:fe>Math.PI&&(fe-=yt),Ae<-Math.PI?Ae+=yt:Ae>Math.PI&&(Ae-=yt),fe<=Ae?d.theta=Math.max(fe,Math.min(Ae,d.theta)):d.theta=d.theta>(fe+Ae)/2?Math.max(fe,d.theta):Math.min(Ae,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),J.setFromSpherical(d),J.applyQuaternion(Se),Z.copy(i.target).add(J),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Te.distanceToSquared(i.object.position)>u||8*(1-$e.dot(i.object.quaternion))>u?(i.dispatchEvent(r),Te.copy(i.object.position),$e.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=J=>{J===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=J,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Pe),i.domElement.addEventListener("pointerdown",Ze),i.domElement.addEventListener("pointercancel",xt),i.domElement.addEventListener("wheel",D)},this.dispose=()=>{var J,ue,Se,Te,$e,yt;(J=i.domElement)===null||J===void 0||J.removeEventListener("contextmenu",Pe),(ue=i.domElement)===null||ue===void 0||ue.removeEventListener("pointerdown",Ze),(Se=i.domElement)===null||Se===void 0||Se.removeEventListener("pointercancel",xt),(Te=i.domElement)===null||Te===void 0||Te.removeEventListener("wheel",D),($e=i.domElement)===null||$e===void 0||$e.ownerDocument.removeEventListener("pointermove",Je),(yt=i.domElement)===null||yt===void 0||yt.ownerDocument.removeEventListener("pointerup",je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ae)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new MA,h=new MA;let p=1;const m=new k;let y=!1;const g=new me,A=new me,x=new me,_=new me,S=new me,M=new me,b=new me,P=new me,R=new me,E=[],T={};function L(){return 2*Math.PI/60/60*i.autoRotateSpeed}function I(){return Math.pow(.95,i.zoomSpeed)}function V(J){i.reverseOrbit?h.theta+=J:h.theta-=J}function G(J){i.reverseOrbit?h.phi+=J:h.phi-=J}const N=(()=>{const J=new k;return function(Se,Te){J.setFromMatrixColumn(Te,0),J.multiplyScalar(-Se),m.add(J)}})(),j=(()=>{const J=new k;return function(Se,Te){i.screenSpacePanning===!0?J.setFromMatrixColumn(Te,1):(J.setFromMatrixColumn(Te,0),J.crossVectors(i.object.up,J)),J.multiplyScalar(Se),m.add(J)}})(),Y=(()=>{const J=new k;return function(Se,Te){const $e=i.domElement;if($e&&i.object instanceof Wt&&i.object.isPerspectiveCamera){const yt=i.object.position;J.copy(yt).sub(i.target);let Jt=J.length();Jt*=Math.tan(i.object.fov/2*Math.PI/180),N(2*Se*Jt/$e.clientHeight,i.object.matrix),j(2*Te*Jt/$e.clientHeight,i.object.matrix)}else $e&&i.object instanceof Jr&&i.object.isOrthographicCamera?(N(Se*(i.object.right-i.object.left)/i.object.zoom/$e.clientWidth,i.object.matrix),j(Te*(i.object.top-i.object.bottom)/i.object.zoom/$e.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function $(J){i.object instanceof Wt&&i.object.isPerspectiveCamera?p/=J:i.object instanceof Jr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*J)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(J){i.object instanceof Wt&&i.object.isPerspectiveCamera?p*=J:i.object instanceof Jr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/J)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(J){g.set(J.clientX,J.clientY)}function X(J){b.set(J.clientX,J.clientY)}function te(J){_.set(J.clientX,J.clientY)}function K(J){A.set(J.clientX,J.clientY),x.subVectors(A,g).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(V(2*Math.PI*x.x/ue.clientHeight),G(2*Math.PI*x.y/ue.clientHeight)),g.copy(A),i.update()}function oe(J){P.set(J.clientX,J.clientY),R.subVectors(P,b),R.y>0?$(I()):R.y<0&&F(I()),b.copy(P),i.update()}function xe(J){S.set(J.clientX,J.clientY),M.subVectors(S,_).multiplyScalar(i.panSpeed),Y(M.x,M.y),_.copy(S),i.update()}function re(J){J.deltaY<0?F(I()):J.deltaY>0&&$(I()),i.update()}function ee(J){let ue=!1;switch(J.code){case i.keys.UP:Y(0,i.keyPanSpeed),ue=!0;break;case i.keys.BOTTOM:Y(0,-i.keyPanSpeed),ue=!0;break;case i.keys.LEFT:Y(i.keyPanSpeed,0),ue=!0;break;case i.keys.RIGHT:Y(-i.keyPanSpeed,0),ue=!0;break}ue&&(J.preventDefault(),i.update())}function Be(){if(E.length==1)g.set(E[0].pageX,E[0].pageY);else{const J=.5*(E[0].pageX+E[1].pageX),ue=.5*(E[0].pageY+E[1].pageY);g.set(J,ue)}}function Re(){if(E.length==1)_.set(E[0].pageX,E[0].pageY);else{const J=.5*(E[0].pageX+E[1].pageX),ue=.5*(E[0].pageY+E[1].pageY);_.set(J,ue)}}function Ne(){const J=E[0].pageX-E[1].pageX,ue=E[0].pageY-E[1].pageY,Se=Math.sqrt(J*J+ue*ue);b.set(0,Se)}function _e(){i.enableZoom&&Ne(),i.enablePan&&Re()}function Fe(){i.enableZoom&&Ne(),i.enableRotate&&Be()}function he(J){if(E.length==1)A.set(J.pageX,J.pageY);else{const Se=Xe(J),Te=.5*(J.pageX+Se.x),$e=.5*(J.pageY+Se.y);A.set(Te,$e)}x.subVectors(A,g).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(V(2*Math.PI*x.x/ue.clientHeight),G(2*Math.PI*x.y/ue.clientHeight)),g.copy(A)}function le(J){if(E.length==1)S.set(J.pageX,J.pageY);else{const ue=Xe(J),Se=.5*(J.pageX+ue.x),Te=.5*(J.pageY+ue.y);S.set(Se,Te)}M.subVectors(S,_).multiplyScalar(i.panSpeed),Y(M.x,M.y),_.copy(S)}function Ce(J){const ue=Xe(J),Se=J.pageX-ue.x,Te=J.pageY-ue.y,$e=Math.sqrt(Se*Se+Te*Te);P.set(0,$e),R.set(0,Math.pow(P.y/b.y,i.zoomSpeed)),$(R.y),b.copy(P)}function Ge(J){i.enableZoom&&Ce(J),i.enablePan&&le(J)}function Le(J){i.enableZoom&&Ce(J),i.enableRotate&&he(J)}function Ze(J){if(i.enabled!==!1){if(E.length===0){var ue,Se;(ue=i.domElement)===null||ue===void 0||ue.ownerDocument.addEventListener("pointermove",Je),(Se=i.domElement)===null||Se===void 0||Se.ownerDocument.addEventListener("pointerup",je)}tt(J),J.pointerType==="touch"?we(J):Mt(J)}}function Je(J){i.enabled!==!1&&(J.pointerType==="touch"?be(J):z(J))}function je(J){if(ke(J),E.length===0){var ue,Se,Te;(ue=i.domElement)===null||ue===void 0||ue.releasePointerCapture(J.pointerId),(Se=i.domElement)===null||Se===void 0||Se.ownerDocument.removeEventListener("pointermove",Je),(Te=i.domElement)===null||Te===void 0||Te.ownerDocument.removeEventListener("pointerup",je)}i.dispatchEvent(o),l=a.NONE}function xt(J){ke(J)}function Mt(J){let ue;switch(J.button){case 0:ue=i.mouseButtons.LEFT;break;case 1:ue=i.mouseButtons.MIDDLE;break;case 2:ue=i.mouseButtons.RIGHT;break;default:ue=-1}switch(ue){case Va.DOLLY:if(i.enableZoom===!1)return;X(J),l=a.DOLLY;break;case Va.ROTATE:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enablePan===!1)return;te(J),l=a.PAN}else{if(i.enableRotate===!1)return;W(J),l=a.ROTATE}break;case Va.PAN:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enableRotate===!1)return;W(J),l=a.ROTATE}else{if(i.enablePan===!1)return;te(J),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function z(J){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;K(J);break;case a.DOLLY:if(i.enableZoom===!1)return;oe(J);break;case a.PAN:if(i.enablePan===!1)return;xe(J);break}}function D(J){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(J.preventDefault(),i.dispatchEvent(s),re(J),i.dispatchEvent(o))}function ae(J){i.enabled===!1||i.enablePan===!1||ee(J)}function we(J){switch(ge(J),E.length){case 1:switch(i.touches.ONE){case Wa.ROTATE:if(i.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case Wa.PAN:if(i.enablePan===!1)return;Re(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Wa.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(),l=a.TOUCH_DOLLY_PAN;break;case Wa.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function be(J){switch(ge(J),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;he(J),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;le(J),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ge(J),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Le(J),i.update();break;default:l=a.NONE}}function Pe(J){i.enabled!==!1&&J.preventDefault()}function tt(J){E.push(J)}function ke(J){delete T[J.pointerId];for(let ue=0;ue<E.length;ue++)if(E[ue].pointerId==J.pointerId){E.splice(ue,1);return}}function ge(J){let ue=T[J.pointerId];ue===void 0&&(ue=new me,T[J.pointerId]=ue),ue.set(J.pageX,J.pageY)}function Xe(J){const ue=J.pointerId===E[0].pointerId?E[1]:E[0];return T[ue.pointerId]}t!==void 0&&this.connect(t),this.update()}};class qS extends wi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new K8(t)}),this.register(function(t){return new tV(t)}),this.register(function(t){return new nV(t)}),this.register(function(t){return new Q8(t)}),this.register(function(t){return new Z8(t)}),this.register(function(t){return new q8(t)}),this.register(function(t){return new $8(t)}),this.register(function(t){return new X8(t)}),this.register(function(t){return new eV(t)}),this.register(function(t){return new Y8(t)}),this.register(function(t){return new j8(t)}),this.register(function(t){return new iV(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=vs.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new $i(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(vs.decodeText(new Uint8Array(e,0,4))===OL){try{o[At.KHR_BINARY_GLTF]=new rV(e)}catch(h){r&&r(h);return}s=o[At.KHR_BINARY_GLTF].content}else s=vs.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new yV(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](u);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const h=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(h){case At.KHR_MATERIALS_UNLIT:o[h]=new J8;break;case At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new aV;break;case At.KHR_DRACO_MESH_COMPRESSION:o[h]=new sV(l,this.dracoLoader);break;case At.KHR_TEXTURE_TRANSFORM:o[h]=new oV;break;case At.KHR_MESH_QUANTIZATION:o[h]=new lV;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function W8(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const At={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class j8{constructor(e){this.parser=e,this.name=At.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new De(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new VS(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new HS(d),u.distance=h;break;case"spot":u=new GS(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class J8{constructor(){this.name=At.KHR_MATERIALS_UNLIT}getMaterialType(){return Ki}extendParams(e,t,i){const r=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,bt))}return Promise.all(r)}}class X8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class K8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new me(a,a)}return Promise.all(s)}}class Y8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Q8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,bt)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Z8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class q8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class $8{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class eV{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:go}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,bt)),Promise.all(s)}}class tV{constructor(e){this.parser=e,this.name=At.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class nV{constructor(e){this.parser=e,this.name=At.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class iV{constructor(e){this.name=At.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}const OL="glTF",wf=12,wT={JSON:1313821514,BIN:5130562};class rV{constructor(e){this.name=At.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,wf);if(this.header={magic:vs.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==OL)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-wf,r=new DataView(e,wf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===wT.JSON){const l=new Uint8Array(e,wf+s,o);this.content=vs.decodeText(l)}else if(a===wT.BIN){const l=wf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class sV{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=At.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=IA[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=IA[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Od[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],g=l[m];g!==void 0&&(y.normalized=g)}h(p)},a,u)})})}}class oV{constructor(){this.name=At.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class LA extends Tc{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new De().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class aV{constructor(){this.name=At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return LA}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new De(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,bt)),e.emissive=new De(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new De(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,bt))}return Promise.all(s)}createMaterial(e){const t=new LA(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=po,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class lV{constructor(){this.name=At.KHR_MESH_QUANTIZATION}}class NL extends Pc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*u,g=y-u,A=-2*m+3*p,x=m-p,_=1-A,S=x-p+h;for(let M=0;M!==a;M++){const b=o[g+M+a],P=o[g+M+l]*d,R=o[y+M+a],E=o[y+M]*d;s[M]=_*b+S*P+A*R+x*E}return s}}const uV=new Zn;class cV extends NL{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return uV.fromArray(s).normalize().toArray(s),s}}const Hs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Od={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},MT={9728:yn,9729:sn,9984:Cd,9985:w0,9986:Ju,9987:Ss},CT={33071:Yn,33648:rc,10497:aa},bT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},IA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ro={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},fV={CUBICSPLINE:void 0,LINEAR:wl,STEP:oc},bx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dV(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Tc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:_s})),n.DefaultMaterial}function Mf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Ja(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hV(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const h=e[u];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const h=e[u];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function pV(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mV(n){const e=n.extensions&&n.extensions[At.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+ET(e.attributes):t=n.indices+":"+ET(n.attributes)+":"+n.mode,t}function ET(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function DA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gV(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class yV{constructor(e={},t={}){var i,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new W8,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new vh(this.options.manager):this.textureLoader=new cL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $i(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Mf(s,a,r),Ja(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[At.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(vs.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=bT[r.type],u=Od[r.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let g,A;if(m&&m!==h){const x=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+x+":"+r.count;let S=t.cache.get(_);S||(g=new u(a,x*m,r.count*m/d),S=new ih(g,m/d),t.cache.add(_,S)),A=new la(S,l,p%m/d,y)}else a===null?g=new u(r.count*l):g=new u(a,p,r.count*l),A=new Ot(g,l,y);if(r.sparse!==void 0){const x=bT.SCALAR,_=Od[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,b=new _(o[1],S,r.sparse.count*x),P=new u(o[2],M,r.sparse.count*l);a!==null&&(A=new Ot(A.array.slice(),A.itemSize,A.normalized));for(let R=0,E=b.length;R<E;R++){const T=b[R];if(A.setX(T,P[R*l]),l>=2&&A.setY(T,P[R*l+1]),l>=3&&A.setZ(T,P[R*l+2]),l>=4&&A.setW(T,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=MT[p.magFilter]||sn,d.minFilter=MT[p.minFilter]||Ss,d.wrapS=CT[p.wrapS]||aa,d.wrapT=CT[p.wrapT]||aa,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(g){const A=new en(g);A.needsUpdate=!0,p(A)}),t.load(vs.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||gV(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[At.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[At.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[At.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new sh,Bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ci,Bn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return Tc}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=r[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else if(l[At.KHR_MATERIALS_UNLIT]){const h=r[At.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,bt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Hr);const d=s.alphaMode||bx.OPAQUE;if(d===bx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===bx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ki&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new me(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Ki&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ki&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ki&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,bt)),Promise.all(u).then(function(){let h;return o===LA?h=r[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),Ja(h,s),t.associations.set(h,{materials:e}),s.extensions&&Mf(r,h,s),h})}createUniqueName(e){const t=Tt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[At.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return TT(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=mV(u),h=r[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[At.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=TT(new ut,u,t),r[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?dV(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const g=d[m],A=o[m];let x;const _=u[m];if(A.mode===Hs.TRIANGLES||A.mode===Hs.TRIANGLE_STRIP||A.mode===Hs.TRIANGLE_FAN||A.mode===void 0)x=s.isSkinnedMesh===!0?new CS(g,_):new Fn(g,_),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),A.mode===Hs.TRIANGLE_STRIP?x.geometry=PT(x.geometry,hR):A.mode===Hs.TRIANGLE_FAN&&(x.geometry=PT(x.geometry,cS));else if(A.mode===Hs.LINES)x=new qr(g,_);else if(A.mode===Hs.LINE_STRIP)x=new co(g,_);else if(A.mode===Hs.LINE_LOOP)x=new bS(g,_);else if(A.mode===Hs.POINTS)x=new ES(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(x.geometry.morphAttributes).length>0&&pV(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Ja(x,s),A.extensions&&Mf(r,x,A),t.assignFinalMaterial(x),h.push(x)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new qs;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Wt(dS.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Jr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Ja(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let u=0,d=i.channels.length;u<d;u++){const h=i.channels[u],p=i.samplers[h.sampler],m=h.target,y=m.node,g=i.parameters!==void 0?i.parameters[p.input]:p.input,A=i.parameters!==void 0?i.parameters[p.output]:p.output;r.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",A)),a.push(p),l.push(m)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2],m=u[3],y=u[4],g=[];for(let x=0,_=d.length;x<_;x++){const S=d[x],M=h[x],b=p[x],P=m[x],R=y[x];if(S===void 0)continue;S.updateMatrix();let E;switch(Ro[R.path]){case Ro.weights:E=cc;break;case Ro.rotation:E=ua;break;case Ro.position:case Ro.scale:default:E=fc;break}const T=S.name?S.name:S.uuid,L=P.interpolation!==void 0?fV[P.interpolation]:wl,I=[];Ro[R.path]===Ro.weights?S.traverse(function(G){G.morphTargetInfluences&&I.push(G.name?G.name:G.uuid)}):I.push(T);let V=b.array;if(b.normalized){const G=DA(V.constructor),N=new Float32Array(V.length);for(let j=0,Y=V.length;j<Y;j++)N[j]=V[j]*G;V=N}for(let G=0,N=I.length;G<N;G++){const j=new E(I[G]+"."+Ro[R.path],M.array,V,L);P.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function($){const F=this instanceof ua?cV:NL;return new F(this.times,this.values,this.getValueSize()/3,$)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(j)}}const A=i.name?i.name:"animation_"+e;return new dc(A,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new B0:a.length>1?l=new qs:a.length===1?l=a[0]:l=new Pt,l!==a[0])for(let u=0,d=a.length;u<d;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Ja(l,s),s.extensions&&Mf(i,l,s),s.matrix!==void 0){const u=new rt;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new qs;r.name&&(o.name=s.createUniqueName(r.name)),Ja(o,r),r.extensions&&Mf(i,o,r);const a=r.nodes||[],l=[];for(let u=0,d=a.length;u<d;u++)l.push(UL(a[u],o,t,s));return Promise.all(l).then(function(){const u=d=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof Bn||p instanceof en)&&h.set(p,m);return d.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=u(o),o})}}function UL(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let u=0,d=o.joints.length;u<d;u++)l.push(i.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],d=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){u.push(m);const y=new rt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,h*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new rh(u,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,u=a.length;l<u;l++){const d=a[l];o.push(UL(d,s,t,i))}}return Promise.all(o)})}function vV(n,e,t){const i=e.attributes,r=new ma;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new k(l[0],l[1],l[2]),new k(u[0],u[1],u[2])),a.normalized){const d=DA(Od[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const g=DA(Od[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new ga;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function TT(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=IA[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Ja(n,e),vV(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?hV(n,e.targets,t):n})}function PT(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===cS)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}class xV extends ut{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new k,u=new rt;u.makeRotationFromEuler(i),u.setPosition(t);const d=new rt;d.copy(u).invert(),h(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(o,3)),this.setAttribute("uv",new We(a,2));function h(){let g,A=[];const x=new k,_=new k;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const S=e.geometry,M=S.attributes.position,b=S.attributes.normal;if(S.index!==null){const P=S.index;for(g=0;g<P.count;g++)x.fromBufferAttribute(M,P.getX(g)),_.fromBufferAttribute(b,P.getX(g)),p(A,x,_)}else for(g=0;g<M.count;g++)x.fromBufferAttribute(M,g),_.fromBufferAttribute(b,g),p(A,x,_);for(A=m(A,l.set(1,0,0)),A=m(A,l.set(-1,0,0)),A=m(A,l.set(0,1,0)),A=m(A,l.set(0,-1,0)),A=m(A,l.set(0,0,1)),A=m(A,l.set(0,0,-1)),g=0;g<A.length;g++){const P=A[g];a.push(.5+P.position.x/r.x,.5+P.position.y/r.y),P.position.applyMatrix4(u),s.push(P.position.x,P.position.y,P.position.z),o.push(P.normal.x,P.normal.y,P.normal.z)}}function p(g,A,x){A.applyMatrix4(e.matrixWorld),A.applyMatrix4(d),x.transformDirection(e.matrixWorld),g.push(new BT(A.clone(),x.clone()))}function m(g,A){const x=[],_=.5*Math.abs(r.dot(A));for(let S=0;S<g.length;S+=3){let M,b,P,R=0,E,T,L,I;const V=g[S+0].position.dot(A)-_,G=g[S+1].position.dot(A)-_,N=g[S+2].position.dot(A)-_;switch(M=V>0,b=G>0,P=N>0,R=(M?1:0)+(b?1:0)+(P?1:0),R){case 0:{x.push(g[S]),x.push(g[S+1]),x.push(g[S+2]);break}case 1:{if(M&&(E=g[S+1],T=g[S+2],L=y(g[S],E,A,_),I=y(g[S],T,A,_)),b){E=g[S],T=g[S+2],L=y(g[S+1],E,A,_),I=y(g[S+1],T,A,_),x.push(L),x.push(T.clone()),x.push(E.clone()),x.push(T.clone()),x.push(L.clone()),x.push(I);break}P&&(E=g[S],T=g[S+1],L=y(g[S+2],E,A,_),I=y(g[S+2],T,A,_)),x.push(E.clone()),x.push(T.clone()),x.push(L),x.push(I),x.push(L.clone()),x.push(T.clone());break}case 2:{M||(E=g[S].clone(),T=y(E,g[S+1],A,_),L=y(E,g[S+2],A,_),x.push(E),x.push(T),x.push(L)),b||(E=g[S+1].clone(),T=y(E,g[S+2],A,_),L=y(E,g[S],A,_),x.push(E),x.push(T),x.push(L)),P||(E=g[S+2].clone(),T=y(E,g[S],A,_),L=y(E,g[S+1],A,_),x.push(E),x.push(T),x.push(L));break}}}return x}function y(g,A,x,_){const S=g.position.dot(x)-_,M=A.position.dot(x)-_,b=S/(S-M);return new BT(new k(g.position.x+b*(A.position.x-g.position.x),g.position.y+b*(A.position.y-g.position.y),g.position.z+b*(A.position.z-g.position.z)),new k(g.normal.x+b*(A.normal.x-g.normal.x),g.normal.y+b*(A.normal.y-g.normal.y),g.normal.z+b*(A.normal.z-g.normal.z)))}}}class BT{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const Ex=new WeakMap;class AV extends wi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new $i(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(Ex.has(e)){const l=Ex.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,d)=>{r._callbacks[s]={resolve:u,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Ex.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ut;e.index&&t.setIndex(new Ot(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ot(o,a))}return t}_loadLibrary(e,t){const i=new $i(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=_V.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function _V(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,u),g=y.attributes.map(A=>A.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const A in d){const x=self[h[A]];let _,S;if(u.useUniqueIDs)S=d[A],_=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[A]]),S===-1)continue;_=a.GetAttribute(p,S)}g.attributes.push(r(o,a,p,A,x,_))}return y===o.TRIANGULAR_MESH&&(g.index=i(o,a,p)),o.destroy(p),g}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,d,h){const p=h.num_components(),y=l.num_points()*p,g=y*d.BYTES_PER_ELEMENT,A=s(o,d),x=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,h,A,g,x);const _=new d(o.HEAPF32.buffer,x,y).slice();return o._free(x),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Tm;const Tx=()=>{if(Tm)return Tm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const g=h.charCodeAt(y);p[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,g,A){const x=s.exports.sbrk,_=m+3&-4,S=x(_*y),M=x(g.length),b=new Uint8Array(s.exports.memory.buffer);b.set(g,M);const P=h(S,m,y,M,g.length);if(P===0&&A&&A(S,_,y),p.set(b.subarray(S,S+m*y)),x(S-x(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Tm={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[g]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,g,A){l(s.exports[d[g]],h,p,m,y,s.exports[u[A]])}},Tm},RT=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function $S(n,e){const t=ji(r=>r.gl),i=xa(vh,RT(n)?Object.values(n):n);if(H.useLayoutEffect(()=>{e==null||e(i)},[e]),H.useEffect(()=>{(Array.isArray(i)?i:[i]).forEach(t.initTexture)},[t,i]),RT(n)){const r=Object.keys(n),s={};return r.forEach(o=>Object.assign(s,{[o]:i[r.indexOf(o)]})),s}else return i}$S.preload=n=>xa.preload(vh,n);$S.clear=n=>xa.clear(vh,n);function SV(n){return Array.isArray(n)}function Px(n=[0,0,0]){return SV(n)?n:n instanceof k||n instanceof Tl?[n.x,n.y,n.z]:[n,n,n]}function wV({debug:n,mesh:e,children:t,position:i,rotation:r,scale:s,...o}){const a=H.useRef(null),l=H.useRef(null);return H.useLayoutEffect(()=>{const u=(e==null?void 0:e.current)||a.current.parent,d=a.current;if(!(u instanceof Fn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const h={position:new k,rotation:new Tl,scale:new k(1,1,1)};if(u){jo(h,{position:i,scale:s});const p=u.matrixWorld.clone();if(u.matrixWorld.identity(),!r||typeof r=="number"){const m=new Pt;m.position.copy(h.position),m.lookAt(u.position),typeof r=="number"&&m.rotateZ(r),jo(h,{rotation:m.rotation})}else jo(h,{rotation:r});return d.geometry=new xV(u,h.position,h.rotation,h.scale),l.current&&jo(l.current,h),u.matrixWorld=p,()=>{d.geometry.dispose()}}},[e,...Px(i),...Px(s),...Px(r)]),H.createElement("mesh",{ref:a},t||H.createElement("meshStandardMaterial",it({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),n&&H.createElement("mesh",{ref:l},H.createElement("boxGeometry",null),H.createElement("meshNormalMaterial",{wireframe:!0}),H.createElement("axesHelper",null)))}let Pm=null;function zL(n,e,t){return i=>{t&&t(i),n&&(Pm||(Pm=new AV),Pm.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Pm)),e&&i.setMeshoptDecoder(typeof Tx=="function"?Tx():Tx)}}function O0(n,e=!0,t=!0,i){return xa(qS,n,zL(e,t,i))}O0.preload=(n,e=!0,t=!0,i)=>xa.preload(qS,n,zL(e,t,i));O0.clear=n=>xa.clear(qS,n);const ew=H.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const d=ji(b=>b.invalidate),h=ji(b=>b.camera),p=ji(b=>b.gl),m=ji(b=>b.events),y=ji(b=>b.setEvents),g=ji(b=>b.set),A=ji(b=>b.get),x=ji(b=>b.performance),_=e||h,S=i||m.connected||p.domElement,M=H.useMemo(()=>new V8(_),[_]);return Bc(()=>{M.enabled&&M.update()},-1),H.useEffect(()=>(M.connect(S),()=>void M.dispose()),[S,t,M,d]),H.useEffect(()=>{const b=E=>{d(),t&&x.regress(),s&&s(E)},P=E=>{o&&o(E)},R=E=>{a&&a(E)};return M.addEventListener("change",b),M.addEventListener("start",P),M.addEventListener("end",R),()=>{M.removeEventListener("start",P),M.removeEventListener("end",R),M.removeEventListener("change",b)}},[s,o,a,M,d,y]),H.useEffect(()=>{if(n){const b=A().controls;return g({controls:M}),()=>g({controls:b})}},[n,M]),H.createElement("primitive",it({ref:u,object:M,enableDamping:r},l))});class MV extends sh{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${r?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const CV=H.forwardRef((n,e)=>{const[t]=H.useState(()=>new MV(null));return H.createElement("primitive",it({},n,{object:t,ref:e,attach:"material"}))}),bV=H.forwardRef(({children:n,speed:e=1,rotationIntensity:t=1,floatIntensity:i=1,floatingRange:r=[-.1,.1],...s},o)=>{const a=H.useRef(null),l=H.useRef(Math.random()*1e4);return Bc(u=>{var d,h;const p=l.current+u.clock.getElapsedTime();a.current.rotation.x=Math.cos(p/4*e)/8*t,a.current.rotation.y=Math.sin(p/4*e)/8*t,a.current.rotation.z=Math.sin(p/4*e)/20*t;let m=Math.sin(p/4*e)/10;m=dS.mapLinear(m,-.1,.1,(d=r==null?void 0:r[0])!==null&&d!==void 0?d:-.1,(h=r==null?void 0:r[1])!==null&&h!==void 0?h:.1),a.current.position.y=m*i}),H.createElement("group",s,H.createElement("group",{ref:ZS([a,o])},n))});let Ua,Cf;const EV=H.createContext(null),LT=new rt,IT=new k,TV=H.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=H.useRef(null),[o,a]=H.useState([]),[[l,u,d]]=H.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);H.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Bc(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),LT.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Ua=0;Ua<o.length;Ua++)Cf=o[Ua].current,Cf.getWorldPosition(IT).applyMatrix4(LT),IT.toArray(l,Ua*3),s.current.geometry.attributes.position.needsUpdate=!0,Cf.matrixWorldNeedsUpdate=!0,Cf.color.toArray(u,Ua*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([Cf.size],Ua),s.current.geometry.attributes.size.needsUpdate=!0});const h=H.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(y=>y.current!==p.current)))}),[]);return H.createElement("points",it({userData:{instances:o},matrixAutoUpdate:!1,ref:ZS([r,s]),raycast:()=>null},i),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:fl}),H.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:fl}),H.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:fl})),H.createElement(EV.Provider,{value:h},n))}),PV=H.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=H.useRef(null);return Bc(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),H.createElement("points",it({ref:ZS([o,a])},s),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:fl}),t&&H.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:fl}),i&&H.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:fl})),n)}),BV=H.forwardRef((n,e)=>n.positions instanceof Float32Array?H.createElement(PV,it({},n,{ref:e})):H.createElement(TV,it({},n,{ref:e})));var zg={},RV={get exports(){return zg},set exports(n){zg=n}},LV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IV=LV,DV=IV;function GL(){}function HL(){}HL.resetWarningCache=GL;var FV=function(){function n(i,r,s,o,a,l){if(l!==DV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HL,resetWarningCache:GL};return t.PropTypes=t,t};RV.exports=FV();function N0({all:n,scene:e,camera:t}){const i=ji(({gl:o})=>o),r=ji(({camera:o})=>o),s=ji(({scene:o})=>o);return H.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,t||r);const a=new vS(128);new yS(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const tw=()=>{const{progress:n}=I8();return vt(L8,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[ve("span",{className:"canvas-loader"}),vt("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},kV=()=>{const n=O0("./planet/scene.gltf");return ve("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},OV=()=>ve(k0,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:vt(H.Suspense,{fallback:ve(tw,{}),children:[ve(ew,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ve(kV,{}),ve(N0,{all:!0})]})}),NV=n=>{const[e]=$S([n.imgUrl]);return vt(bV,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[ve("ambientLight",{intensity:.25}),ve("directionalLight",{position:[0,0,.05]}),vt("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[ve("icosahedronGeometry",{args:[1,1]}),ve("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),ve(wV,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},UV=({icon:n})=>vt(k0,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[vt(H.Suspense,{fallback:ve(tw,{}),children:[ve(ew,{enableZoom:!1}),ve(NV,{imgUrl:n})]}),ve(N0,{all:!0})]}),zV=({isMobile:n})=>{const e=O0("./desktop_pc/scene.gltf");return vt("mesh",{children:[ve("hemisphereLight",{intensity:.15,groundColor:"black"}),ve("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),ve("pointLight",{intensity:1}),ve("primitive",{object:e.scene,scale:n?.7:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},GV=()=>{const[n,e]=H.useState(!1);return H.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),vt(k0,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[vt(H.Suspense,{fallback:ve(tw,{}),children:[ve(ew,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ve(zV,{isMobile:n})]}),ve(N0,{all:!0})]})},HV=n=>{const e=H.useRef(),[t]=H.useState(()=>z8(new Float32Array(5e3),{radius:1.2}));return Bc((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),ve("group",{rotation:[0,0,Math.PI/4],children:ve(BV,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:ve(CV,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},VV=()=>ve("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:vt(k0,{camera:{position:[0,0,1]},children:[ve(H.Suspense,{fallback:null,children:ve(HV,{})}),ve(N0,{all:!0})]})}),VL=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),U0=H.createContext({});function WV(){return H.useContext(U0).visualElement}const nw=H.createContext(null),z0=typeof document<"u",DT=z0?H.useLayoutEffect:H.useEffect,WL=H.createContext({strict:!1});function jV(n,e,t,i){const r=WV(),s=H.useContext(WL),o=H.useContext(nw),a=H.useContext(VL).reducedMotion,l=H.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return H.useInsertionEffect(()=>{u&&u.update(t,o)}),DT(()=>{u&&u.render()}),H.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?DT:H.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Ou(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function JV(n,e,t){return H.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ou(t)&&(t.current=i))},[e])}function Nd(n){return typeof n=="string"||Array.isArray(n)}function G0(n){return typeof n=="object"&&typeof n.start=="function"}const iw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rw=["initial",...iw];function H0(n){return G0(n.animate)||rw.some(e=>Nd(n[e]))}function jL(n){return Boolean(H0(n)||n.variants)}function XV(n,e){if(H0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Nd(t)?t:void 0,animate:Nd(i)?i:void 0}}return n.inherit!==!1?e:{}}function KV(n){const{initial:e,animate:t}=XV(n,H.useContext(U0));return H.useMemo(()=>({initial:e,animate:t}),[FT(e),FT(t)])}function FT(n){return Array.isArray(n)?n.join(" "):n}const kT={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ud={};for(const n in kT)Ud[n]={isEnabled:e=>kT[n].some(t=>!!e[t])};function YV(n){for(const e in n)Ud[e]={...Ud[e],...n[e]}}function JL(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const Qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let QV=1;function ZV(){return JL(()=>{if(Qf.hasEverUpdated)return QV++})}const XL=H.createContext({}),KL=H.createContext({}),qV=Symbol.for("motionComponentSymbol");function $V({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&YV(n);function s(a,l){let u;const d={...H.useContext(VL),...a,layoutId:eW(a)},{isStatic:h}=d,p=KV(a),m=h?void 0:ZV(),y=i(a,h);if(!h&&z0){p.visualElement=jV(r,y,d,e);const g=H.useContext(KL),A=H.useContext(WL).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,A,n,m,g))}return H.createElement(U0.Provider,{value:p},u&&p.visualElement?H.createElement(u,{visualElement:p.visualElement,...d}):null,t(r,a,m,JV(y,p.visualElement,l),y,h,p.visualElement))}const o=H.forwardRef(s);return o[qV]=r,o}function eW({layoutId:n}){const e=H.useContext(XL).id;return e&&n!==void 0?e+"-"+n:n}function tW(n){function e(i,r={}){return $V(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const nW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sw(n){return typeof n!="string"||n.includes("-")?!1:!!(nW.indexOf(n)>-1||/[A-Z]/.test(n))}const Gg={};function iW(n){Object.assign(Gg,n)}const V0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(V0);function YL(n,{layout:e,layoutId:t}){return Il.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Gg[n]||n==="opacity")}const ki=n=>Boolean(n&&n.getVelocity),rW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sW=V0.length;function oW(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<sW;o++){const a=V0[o];if(n[a]!==void 0){const l=rW[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const QL=n=>e=>typeof e=="string"&&e.startsWith(n),ZL=QL("--"),FA=QL("var(--"),aW=(n,e)=>e&&typeof n=="number"?e.transform(n):n,pc=(n,e,t)=>Math.min(Math.max(t,n),e),Dl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zf={...Dl,transform:n=>pc(0,1,n)},Bm={...Dl,default:1},qf=n=>Math.round(n*1e5)/1e5,zd=/(-)?([\d]*\.?[\d])+/g,kA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _h(n){return typeof n=="string"}const Sh=n=>({test:e=>_h(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Do=Sh("deg"),xs=Sh("%"),nt=Sh("px"),uW=Sh("vh"),cW=Sh("vw"),OT={...xs,parse:n=>xs.parse(n)/100,transform:n=>xs.transform(n*100)},NT={...Dl,transform:Math.round},qL={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,size:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,rotate:Do,rotateX:Do,rotateY:Do,rotateZ:Do,scale:Bm,scaleX:Bm,scaleY:Bm,scaleZ:Bm,skew:Do,skewX:Do,skewY:Do,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:Zf,originX:OT,originY:OT,originZ:nt,zIndex:NT,fillOpacity:Zf,strokeOpacity:Zf,numOctaves:NT};function ow(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,d=!0;for(const h in e){const p=e[h];if(ZL(h)){s[h]=p;continue}const m=qL[h],y=aW(p,m);if(Il.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=oW(n.transform,t,d,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const aw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $L(n,e,t){for(const i in e)!ki(e[i])&&!YL(i,t)&&(n[i]=e[i])}function fW({transformTemplate:n},e,t){return H.useMemo(()=>{const i=aw();return ow(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function dW(n,e,t){const i=n.style||{},r={};return $L(r,i,n),Object.assign(r,fW(n,e,t)),n.transformValues?n.transformValues(r):r}function hW(n,e,t){const i={},r=dW(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const pW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Hg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||pW.has(n)}let eI=n=>!Hg(n);function mW(n){n&&(eI=e=>e.startsWith("on")?!Hg(e):n(e))}try{mW(require("@emotion/is-prop-valid").default)}catch{}function gW(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(eI(r)||t===!0&&Hg(r)||!e&&!Hg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function UT(n,e,t){return typeof n=="string"?n:nt.transform(e+t*n)}function yW(n,e,t){const i=UT(e,n.x,n.width),r=UT(t,n.y,n.height);return`${i} ${r}`}const vW={offset:"stroke-dashoffset",array:"stroke-dasharray"},xW={offset:"strokeDashoffset",array:"strokeDasharray"};function AW(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?vW:xW;n[s.offset]=nt.transform(-i);const o=nt.transform(e),a=nt.transform(t);n[s.array]=`${o} ${a}`}function lw(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,d,h){if(ow(n,l,u,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=yW(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&AW(p,s,o,a,!1)}const tI=()=>({...aw(),attrs:{}}),uw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _W(n,e,t,i){const r=H.useMemo(()=>{const s=tI();return lw(s,e,{enableHardwareAcceleration:!1},uw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};$L(s,n.style,n),r.style={...s,...r.style}}return r}function SW(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const u=(sw(t)?_W:hW)(i,o,a,t),h={...gW(i,typeof t=="string",n),...u,ref:s},{children:p}=i,m=H.useMemo(()=>ki(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),H.createElement(t,{...h,children:m})}}const cw=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function nI(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const iI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rI(n,e,t,i){nI(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(iI.has(r)?r:cw(r),e.attrs[r])}function fw(n,e){const{style:t}=n,i={};for(const r in t)(ki(t[r])||e.style&&ki(e.style[r])||YL(r,n))&&(i[r]=t[r]);return i}function sI(n,e){const t=fw(n,e);for(const i in n)if(ki(n[i])||ki(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function dw(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const Vg=n=>Array.isArray(n),wW=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),MW=n=>Vg(n)?n[n.length-1]||0:n;function ig(n){const e=ki(n)?n.get():n;return wW(e)?e.toValue():e}function CW({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:bW(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const oI=n=>(e,t)=>{const i=H.useContext(U0),r=H.useContext(nw),s=()=>CW(n,e,i,r);return t?s():JL(s)};function bW(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=ig(s[p]);let{initial:o,animate:a}=n;const l=H0(n),u=jL(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!G0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=dw(n,m);if(!y)return;const{transitionEnd:g,transition:A,...x}=y;for(const _ in x){let S=x[_];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(r[_]=S)}for(const _ in g)r[_]=g[_]}),r}const EW={useVisualState:oI({scrapeMotionValuesFromProps:sI,createRenderState:tI,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}lw(t,i,{enableHardwareAcceleration:!1},uw(e.tagName),n.transformTemplate),rI(e,t)}})},TW={useVisualState:oI({scrapeMotionValuesFromProps:fw,createRenderState:aw})};function PW(n,{forwardMotionProps:e=!1},t,i){return{...sw(n)?EW:TW,preloadedFeatures:t,useRender:SW(e),createVisualElement:i,Component:n}}function $s(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const aI=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function W0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const BW=n=>e=>aI(e)&&n(e,W0(e));function no(n,e,t,i){return $s(n,e,BW(t),i)}const RW=(n,e)=>t=>e(n(t)),na=(...n)=>n.reduce(RW);function lI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const zT=lI("dragHorizontal"),GT=lI("dragVertical");function uI(n){let e=!1;if(n==="y")e=GT();else if(n==="x")e=zT();else{const t=zT(),i=GT();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function cI(){const n=uI(!0);return n?(n(),!1):!0}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function HT(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||cI())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return no(n.current,t,r,{passive:!n.getProps()[i]})}class LW extends Aa{mount(){this.unmount=na(HT(this.node,!0),HT(this.node,!1))}unmount(){}}class IW extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na($s(this.node.current,"focus",()=>this.onFocus()),$s(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fI=(n,e)=>e?n===e?!0:fI(n,e.parentElement):!1,Cr=n=>n;function Bx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,W0(t))}class DW extends Aa{constructor(){super(...arguments),this.removeStartListeners=Cr,this.removeEndListeners=Cr,this.removeAccessibleListeners=Cr,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=no(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();fI(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=no(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=na(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Bx("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=$s(this.node.current,"keyup",o),Bx("down",(a,l)=>{this.startPress(a,l)})},t=$s(this.node.current,"keydown",e),i=()=>{this.isPressing&&Bx("cancel",(s,o)=>this.cancelPress(s,o))},r=$s(this.node.current,"blur",i);this.removeAccessibleListeners=na(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=no(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=$s(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=na(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const OA=new WeakMap,Rx=new WeakMap,FW=n=>{const e=OA.get(n.target);e&&e(n)},kW=n=>{n.forEach(FW)};function OW({root:n,...e}){const t=n||document;Rx.has(t)||Rx.set(t,{});const i=Rx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(kW,{root:n,...e})),i[r]}function NW(n,e,t){const i=OW(e);return OA.set(n,t),i.observe(n),()=>{OA.delete(n),i.unobserve(n)}}const UW={some:0,all:1};class zW extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:UW[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=d?h:p;m&&m(u)};return NW(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(GW(e,t))&&this.startObserver()}unmount(){}}function GW({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const HW={inView:{Feature:zW},tap:{Feature:DW},focus:{Feature:IW},hover:{Feature:LW}};function dI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const VW=n=>/^\-?\d*\.?\d+$/.test(n),WW=n=>/^0[^.\s]+$/.test(n),io={delta:0,timestamp:0},hI=1/60*1e3,jW=typeof performance<"u"?()=>performance.now():()=>Date.now(),pI=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(jW()),hI);function JW(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&r,p=h?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let u=0;u<i;u++){const d=e[u];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const XW=40;let NA=!0,Gd=!1,UA=!1;const wh=["read","update","preRender","render","postRender"],j0=wh.reduce((n,e)=>(n[e]=JW(()=>Gd=!0),n),{}),Ai=wh.reduce((n,e)=>{const t=j0[e];return n[e]=(i,r=!1,s=!1)=>(Gd||YW(),t.schedule(i,r,s)),n},{}),ca=wh.reduce((n,e)=>(n[e]=j0[e].cancel,n),{}),Lx=wh.reduce((n,e)=>(n[e]=()=>j0[e].process(io),n),{}),KW=n=>j0[n].process(io),mI=n=>{Gd=!1,io.delta=NA?hI:Math.max(Math.min(n-io.timestamp,XW),1),io.timestamp=n,UA=!0,wh.forEach(KW),UA=!1,Gd&&(NA=!1,pI(mI))},YW=()=>{Gd=!0,NA=!0,UA||pI(mI)};function hw(n,e){n.indexOf(e)===-1&&n.push(e)}function pw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class mw{constructor(){this.subscriptions=[]}add(e){return hw(this.subscriptions,e),()=>pw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gw(n,e){return e?n*(1e3/e):0}const QW=n=>!isNaN(parseFloat(n));class ZW{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=io;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ai.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ai.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QW(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new mw);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ai.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(n,e){return new ZW(n,e)}const yw=(n,e)=>t=>Boolean(_h(t)&&lW.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),gI=(n,e,t)=>i=>{if(!_h(i))return i;const[r,s,o,a]=i.match(zd);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qW=n=>pc(0,255,n),Ix={...Dl,transform:n=>Math.round(qW(n))},ol={test:yw("rgb","red"),parse:gI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Ix.transform(n)+", "+Ix.transform(e)+", "+Ix.transform(t)+", "+qf(Zf.transform(i))+")"};function $W(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const zA={test:yw("#"),parse:$W,transform:ol.transform},Nu={test:yw("hsl","hue"),parse:gI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+xs.transform(qf(e))+", "+xs.transform(qf(t))+", "+qf(Zf.transform(i))+")"},gi={test:n=>ol.test(n)||zA.test(n)||Nu.test(n),parse:n=>ol.test(n)?ol.parse(n):Nu.test(n)?Nu.parse(n):zA.parse(n),transform:n=>_h(n)?n:n.hasOwnProperty("red")?ol.transform(n):Nu.transform(n)},yI="${c}",vI="${n}";function e7(n){var e,t;return isNaN(n)&&_h(n)&&(((e=n.match(zd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(kA))===null||t===void 0?void 0:t.length)||0)>0}function Wg(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(kA);r&&(t=r.length,n=n.replace(kA,yI),e.push(...r.map(gi.parse)));const s=n.match(zd);return s&&(i=s.length,n=n.replace(zd,vI),e.push(...s.map(Dl.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function xI(n){return Wg(n).values}function AI(n){const{values:e,numColors:t,tokenised:i}=Wg(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?yI:vI,a<t?gi.transform(s[a]):qf(s[a]));return o}}const t7=n=>typeof n=="number"?0:n;function n7(n){const e=xI(n);return AI(n)(e.map(t7))}const fa={test:e7,parse:xI,createTransformer:AI,getAnimatableNone:n7},i7=new Set(["brightness","contrast","saturate","opacity"]);function r7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(zd)||[];if(!i)return n;const r=t.replace(i,"");let s=i7.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const s7=/([a-z-]*)\(.*?\)/g,GA={...fa,getAnimatableNone:n=>{const e=n.match(s7);return e?e.map(r7).join(" "):n}},o7={...qL,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:GA,WebkitFilter:GA},vw=n=>o7[n];function xw(n,e){let t=vw(n);return t!==GA&&(t=fa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const _I=n=>e=>e.test(n),a7={test:n=>n==="auto",parse:n=>n},SI=[Dl,nt,xs,Do,cW,uW,a7],bf=n=>SI.find(_I(n)),l7=[...SI,gi,fa],u7=n=>l7.find(_I(n));function c7(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function f7(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function J0(n,e,t){const i=n.getProps();return dw(i,e,t!==void 0?t:i.custom,c7(n),f7(n))}function d7(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mc(t))}function h7(n,e){const t=J0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=MW(s[o]);d7(n,o,a)}}function p7(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(VW(d)||WW(d))?d=parseFloat(d):!u7(d)&&fa.test(u)&&(d=xw(l,u)),n.addValue(l,mc(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function m7(n,e){return e?(e[n]||e.default||e).from:void 0}function g7(n,e,t){const i={};for(const r in n){const s=m7(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function jg(n){return Boolean(ki(n)&&n.add)}const y7="framerAppearId",v7="data-"+cw(y7);let x7=Cr,Jg=Cr;const rg=n=>n*1e3,A7={current:!1},Aw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_w=n=>e=>1-n(1-e),Sw=n=>n*n,_7=_w(Sw),ww=Aw(Sw),an=(n,e,t)=>-t*n+t*e+n;function Dx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function S7({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Dx(l,a,n+1/3),s=Dx(l,a,n),o=Dx(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Fx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},w7=[zA,ol,Nu],M7=n=>w7.find(e=>e.test(n));function VT(n){const e=M7(n);let t=e.parse(n);return e===Nu&&(t=S7(t)),t}const wI=(n,e)=>{const t=VT(n),i=VT(e),r={...t};return s=>(r.red=Fx(t.red,i.red,s),r.green=Fx(t.green,i.green,s),r.blue=Fx(t.blue,i.blue,s),r.alpha=an(t.alpha,i.alpha,s),ol.transform(r))};function MI(n,e){return typeof n=="number"?t=>an(n,e,t):gi.test(n)?wI(n,e):bI(n,e)}const CI=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>MI(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},C7=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=MI(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},bI=(n,e)=>{const t=fa.createTransformer(e),i=Wg(n),r=Wg(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?na(CI(i.values,r.values),t):o=>`${o>0?e:n}`},Hd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},WT=(n,e)=>t=>an(n,e,t);function b7(n){return typeof n=="number"?WT:typeof n=="string"?gi.test(n)?wI:bI:Array.isArray(n)?CI:typeof n=="object"?C7:WT}function E7(n,e,t){const i=[],r=t||b7(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=na(l,a)}i.push(a)}return i}function EI(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;Jg(s===e.length),Jg(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=E7(e,i,r),a=o.length,l=u=>{let d=0;if(a>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const h=Hd(n[d],n[d+1],u);return o[d](h)};return t?u=>l(pc(n[0],n[s-1],u)):l}function T7(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Hd(0,e,i);n.push(an(t,1,r))}}function P7(n){const e=[0];return T7(e,n.length-1),e}function B7(n,e){return n.map(t=>t*e)}const TI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,R7=1e-7,L7=12;function I7(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=TI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>R7&&++a<L7);return o}function PI(n,e,t,i){if(n===e&&t===i)return Cr;const r=s=>I7(s,0,1,n,t);return s=>s===0||s===1?s:TI(r(s),e,i)}const BI=n=>1-Math.sin(Math.acos(n)),Mw=_w(BI),D7=Aw(Mw),RI=PI(.33,1.53,.69,.99),Cw=_w(RI),F7=Aw(Cw),k7=n=>(n*=2)<1?.5*Cw(n):.5*(2-Math.pow(2,-10*(n-1))),O7={linear:Cr,easeIn:Sw,easeInOut:ww,easeOut:_7,circIn:BI,circInOut:D7,circOut:Mw,backIn:Cw,backInOut:F7,backOut:RI,anticipate:k7},jT=n=>{if(Array.isArray(n)){Jg(n.length===4);const[e,t,i,r]=n;return PI(e,t,i,r)}else if(typeof n=="string")return O7[n];return n},N7=n=>Array.isArray(n)&&typeof n[0]!="number";function U7(n,e){return n.map(()=>e||ww).splice(0,n.length-1)}function HA({keyframes:n,ease:e=ww,times:t,duration:i=300}){n=[...n];const r=N7(e)?e.map(jT):jT(e),s={done:!1,value:n[0]},o=B7(t&&t.length===n.length?t:P7(n),i);function a(){return EI(o,n,{ease:Array.isArray(r)?r:U7(n,r)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=i,s),flipTarget:()=>{n.reverse(),l=a()}}}const kx=.001,z7=.01,JT=10,G7=.05,H7=1;function V7({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;x7(n<=JT*1e3);let o=1-e;o=pc(G7,H7,o),n=pc(z7,JT,n/1e3),o<1?(r=u=>{const d=u*o,h=d*n,p=d-t,m=VA(u,o),y=Math.exp(-h);return kx-p/m*y},s=u=>{const h=u*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-h),g=VA(Math.pow(u,2),o);return(-r(u)+kx>0?-1:1)*((p-m)*y)/g}):(r=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-kx+d*h},s=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const a=5/n,l=j7(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const W7=12;function j7(n,e,t){let i=t;for(let r=1;r<W7;r++)i=i-n(i)/e(i);return i}function VA(n,e){return n*Math.sqrt(1-e*e)}const J7=["duration","bounce"],X7=["stiffness","damping","mass"];function XT(n,e){return e.some(t=>n[t]!==void 0)}function K7(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!XT(n,X7)&&XT(n,J7)){const t=V7(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const Y7=5;function LI({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:d,duration:h,isResolvedFromDuration:p}=K7(i);let m=Q7,y=d?-(d/1e3):0;const g=l/(2*Math.sqrt(a*u));function A(){const x=s-r,_=Math.sqrt(a/u)/1e3,S=Math.abs(x)<5;if(t||(t=S?.01:2),e||(e=S?.005:.5),g<1){const M=VA(_,g);m=b=>{const P=Math.exp(-g*_*b);return s-P*((y+g*_*x)/M*Math.sin(M*b)+x*Math.cos(M*b))}}else if(g===1)m=M=>s-Math.exp(-_*M)*(x+(y+_*x)*M);else{const M=_*Math.sqrt(g*g-1);m=b=>{const P=Math.exp(-g*_*b),R=Math.min(M*b,300);return s-P*((y+g*_*x)*Math.sinh(R)+M*x*Math.cosh(R))/M}}}return A(),{next:x=>{const _=m(x);if(p)o.done=x>=h;else{let S=y;if(x!==0)if(g<1){const P=Math.max(0,x-Y7);S=gw(_-m(P),x-P)}else S=0;const M=Math.abs(S)<=t,b=Math.abs(s-_)<=e;o.done=M&&b}return o.value=o.done?s:_,o},flipTarget:()=>{y=-y,[r,s]=[s,r],A()}}}LI.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const Q7=n=>0;function Z7({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const u=o+l,d=s===void 0?u:s(u);return d!==u&&(l=d-o),{next:h=>{const p=-l*Math.exp(-h/i);return a.done=!(p>r||p<-r),a.value=a.done?d:d+p,a},flipTarget:()=>{}}}const q7={decay:Z7,keyframes:HA,tween:HA,spring:LI};function II(n,e,t=0){return n-e-t}function $7(n,e=0,t=0,i=!0){return i?II(e+-n,e,t):e-(n-e)+t}function ej(n,e,t,i){return i?n>=e+t:n<=-t}const tj=n=>{const e=({delta:t})=>n(t);return{start:()=>Ai.update(e,!0),stop:()=>ca.update(e)}};function Xg({duration:n,driver:e=tj,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:d,onRepeat:h,onUpdate:p,type:m="keyframes",...y}){const g=t;let A,x=0,_=n,S=!1,M=!0,b;const P=q7[o.length>2?"keyframes":m]||HA,R=o[0],E=o[o.length-1];let T={done:!1,value:R};const{needsInterpolation:L}=P;L&&L(R,E)&&(b=EI([0,100],[R,E],{clamp:!1}),o=[0,100]);const I=P({...y,duration:n,keyframes:o});function V(){x++,r==="reverse"?(M=x%2===0,t=$7(t,_,s,M)):(t=II(t,_,s),r==="mirror"&&I.flipTarget()),S=!1,h&&h()}function G(){A&&A.stop(),d&&d()}function N(Y){M||(Y=-Y),t+=Y,S||(T=I.next(Math.max(0,t)),b&&(T.value=b(T.value)),S=M?T.done:t<=0),p&&p(T.value),S&&(x===0&&(_=_!==void 0?_:t),x<i?ej(t,_,s,M)&&V():G())}function j(){l&&l(),A=e(N),A.start()}return a&&j(),{stop:()=>{u&&u(),A&&A.stop()},set currentTime(Y){t=g,N(Y)},sample:Y=>{t=g;const $=n&&typeof n=="number"?Math.max(n*.5,50):50;let F=0;for(N(0);F<=Y;){const W=Y-F;N(Math.min(W,$)),F+=$}return T}}}function nj(n){return!n||Array.isArray(n)||typeof n=="string"&&DI[n]}const kf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,DI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kf([0,.65,.55,1]),circOut:kf([.55,0,1,.45]),backIn:kf([.31,.01,.66,-.59]),backOut:kf([.33,1.53,.69,.99])};function ij(n){if(n)return Array.isArray(n)?kf(n):DI[n]}function rj(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:i,duration:r,easing:ij(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const KT={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Ox={},FI={};for(const n in KT)FI[n]=()=>(Ox[n]===void 0&&(Ox[n]=KT[n]()),Ox[n]);function sj(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const oj=new Set(["opacity","clipPath","filter","transform"]),Rm=10;function aj(n,e,{onUpdate:t,onComplete:i,...r}){if(!(FI.waapi()&&oj.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=r;if(r.type==="spring"||!nj(r.ease)){if(r.repeat===1/0)return;const h=Xg({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let y=0;for(;!p.done&&y<2e4;)p=h.sample(y),m.push(p.value),y+=Rm;o=m,a=y-Rm,u="linear"}const d=rj(n.owner.current,e,o,{...r,delay:-l,duration:a,ease:u});return d.onfinish=()=>{n.set(sj(o,r)),Ai.update(()=>d.cancel()),i&&i()},{get currentTime(){return d.currentTime||0},set currentTime(h){d.currentTime=h},stop:()=>{const{currentTime:h}=d;if(h){const p=Xg({...r,autoplay:!1});n.setWithVelocity(p.sample(h-Rm).value,p.sample(h).value,Rm)}Ai.update(()=>d.cancel())}}}function kI(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(ca.read(i),n(s-e))};return Ai.read(i,!0),()=>ca.read(i)}function lj({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:kI(r,-e)}:r()}function uj({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:d,onUpdate:h,onComplete:p,onStop:m}){const y=n[0];let g;function A(M){return t!==void 0&&M<t||i!==void 0&&M>i}function x(M){return t===void 0?i:i===void 0||Math.abs(t-M)<Math.abs(i-M)?t:i}function _(M){g&&g.stop(),g=Xg({keyframes:[0,1],velocity:0,...M,driver:d,onUpdate:b=>{h&&h(b),M.onUpdate&&M.onUpdate(b)},onComplete:p,onStop:m})}function S(M){_({type:"spring",stiffness:o,damping:a,restDelta:l,...M})}if(A(y))S({velocity:e,keyframes:[y,x(y)]});else{let M=r*e+y;typeof u<"u"&&(M=u(M));const b=x(M),P=b===t?-1:1;let R,E;const T=L=>{R=E,E=L,e=gw(L-R,io.delta),(P===1&&L>b||P===-1&&L<b)&&S({keyframes:[L,b],velocity:e})};_({type:"decay",keyframes:[y,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:u,onUpdate:A(M)?T:void 0})}return{stop:()=>g&&g.stop()}}const cj={type:"spring",stiffness:500,damping:25,restSpeed:10},fj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dj={type:"keyframes",duration:.8},hj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pj=(n,{keyframes:e})=>e.length>2?dj:Il.has(n)?n.startsWith("scale")?fj(e[1]):cj:hj,WA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&fa.test(e)&&!e.startsWith("url("));function mj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function YT(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function QT(n){return typeof n=="number"?0:xw("",n)}function OI(n,e){return n[e]||n.default||n}function gj(n,e,t,i){const r=WA(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=xw(e,t):YT(s)&&typeof t=="string"?s=QT(t):!Array.isArray(t)&&YT(t)&&typeof s=="string"&&(t=QT(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const bw=(n,e,t,i={})=>r=>{const s=OI(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-rg(o);const l=gj(e,n,t,s),u=l[0],d=l[l.length-1],h=WA(n,u),p=WA(n,d);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!p||A7.current||s.type===!1)return lj(m);if(s.type==="inertia")return uj(m);if(mj(s)||(m={...m,...pj(n,m)}),m.duration&&(m.duration=rg(m.duration)),m.repeatDelay&&(m.repeatDelay=rg(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=aj(e,n,m);if(y)return y}return Xg(m)};function yj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>jA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=jA(n,e,t);else{const r=typeof e=="function"?J0(n,e,t.custom):e;i=NI(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function jA(n,e,t={}){const i=J0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>NI(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return vj(n,e,u+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(t.delay)])}function NI(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&Aj(d,h))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const A=n.getProps()[v7];A&&(y.elapsed=window.HandoffAppearAnimations(A,h,p,Ai))}let g=p.start(bw(h,p,m,n.shouldReduceMotion&&Il.has(h)?{type:!1}:y));jg(l)&&(l.add(h),g=g.then(()=>l.remove(h))),u.push(g)}return Promise.all(u).then(()=>{o&&h7(n,o)})}function vj(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(xj).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(jA(u,e,{...s,delay:t+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function xj(n,e){return n.sortNodePosition(e)}function Aj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const _j=[...iw].reverse(),Sj=iw.length;function wj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>yj(n,t,i)))}function Mj(n){let e=wj(n);const t=bj();let i=!0;const r=(l,u)=>{const d=J0(n,u);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},g=1/0;for(let x=0;x<Sj;x++){const _=_j[x],S=t[_],M=d[_]!==void 0?d[_]:h[_],b=Nd(M),P=_===u?S.isActive:null;P===!1&&(g=x);let R=M===h[_]&&M!==d[_]&&b;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...y},!S.isActive&&P===null||!M&&!S.prevProp||G0(M)||typeof M=="boolean")continue;const E=Cj(S.prevProp,M);let T=E||_===u&&S.isActive&&!R&&b||x>g&&b;const L=Array.isArray(M)?M:[M];let I=L.reduce(r,{});P===!1&&(I={});const{prevResolvedValues:V={}}=S,G={...V,...I},N=j=>{T=!0,m.delete(j),S.needsAnimating[j]=!0};for(const j in G){const Y=I[j],$=V[j];y.hasOwnProperty(j)||(Y!==$?Vg(Y)&&Vg($)?!dI(Y,$)||E?N(j):S.protectedKeys[j]=!0:Y!==void 0?N(j):m.add(j):Y!==void 0&&m.has(j)?N(j):S.protectedKeys[j]=!0)}S.prevProp=M,S.prevResolvedValues=I,S.isActive&&(y={...y,...I}),i&&n.blockInitialAnimation&&(T=!1),T&&!R&&p.push(...L.map(j=>({animation:j,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(x[_]=S)}),p.push({animation:x})}let A=Boolean(p.length);return i&&d.initial===!1&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function a(l,u,d){var h;if(t[l].isActive===u)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),t[l].isActive=u;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Cj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!dI(e,n):!1}function za(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bj(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class Ej extends Aa{constructor(e){super(e),e.animationState||(e.animationState=Mj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),G0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Tj=0;class Pj extends Aa{constructor(){super(...arguments),this.id=Tj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Bj={animation:{Feature:Ej},exit:{Feature:Pj}},ZT=(n,e)=>Math.abs(n-e);function Rj(n,e){const t=ZT(n.x,e.x),i=ZT(n.y,e.y);return Math.sqrt(t**2+i**2)}class UI{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ux(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=Rj(u.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=u,{timestamp:m}=io;this.history.push({...p,timestamp:m});const{onStart:y,onMove:g}=this.handlers;d||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Nx(d,this.transformPagePoint),Ai.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=Ux(u.type==="pointercancel"?this.lastMoveEventInfo:Nx(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),p&&p(u,m)},!aI(e))return;this.handlers=t,this.transformPagePoint=i;const r=W0(e),s=Nx(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=io;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Ux(s,this.history)),this.removeListeners=na(no(window,"pointermove",this.handlePointerMove),no(window,"pointerup",this.handlePointerUp),no(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ca.update(this.updatePoint)}}function Nx(n,e){return e?{point:e(n.point)}:n}function qT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Ux({point:n},e){return{point:n,delta:qT(n,zI(e)),offset:qT(n,Lj(e)),velocity:Ij(e,.1)}}function Lj(n){return n[0]}function zI(n){return n[n.length-1]}function Ij(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=zI(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>rg(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function er(n){return n.max-n.min}function JA(n,e=0,t=.01){return Math.abs(n-e)<=t}function $T(n,e,t,i=.5){n.origin=i,n.originPoint=an(e.min,e.max,n.origin),n.scale=er(t)/er(e),(JA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=an(t.min,t.max,n.origin)-n.originPoint,(JA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function $f(n,e,t,i){$T(n.x,e.x,t.x,i?i.originX:void 0),$T(n.y,e.y,t.y,i?i.originY:void 0)}function e2(n,e,t){n.min=t.min+e.min,n.max=n.min+er(e)}function Dj(n,e,t){e2(n.x,e.x,t.x),e2(n.y,e.y,t.y)}function t2(n,e,t){n.min=e.min-t.min,n.max=n.min+er(e)}function ed(n,e,t){t2(n.x,e.x,t.x),t2(n.y,e.y,t.y)}function Fj(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?an(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?an(t,n,i.max):Math.min(n,t)),n}function n2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kj(n,{top:e,left:t,bottom:i,right:r}){return{x:n2(n.x,t,r),y:n2(n.y,e,i)}}function i2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Oj(n,e){return{x:i2(n.x,e.x),y:i2(n.y,e.y)}}function Nj(n,e){let t=.5;const i=er(n),r=er(e);return r>i?t=Hd(e.min,e.max-i,n.min):i>r&&(t=Hd(n.min,n.max-r,e.min)),pc(0,1,t)}function Uj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const XA=.35;function zj(n=XA){return n===!1?n=0:n===!0&&(n=XA),{x:r2(n,"left","right"),y:r2(n,"top","bottom")}}function r2(n,e,t){return{min:s2(n,e),max:s2(n,t)}}function s2(n,e){return typeof n=="number"?n:n[e]||0}const o2=()=>({translate:0,scale:1,origin:0,originPoint:0}),td=()=>({x:o2(),y:o2()}),a2=()=>({min:0,max:0}),En=()=>({x:a2(),y:a2()});function fs(n){return[n("x"),n("y")]}function GI({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Gj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Hj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function zx(n){return n===void 0||n===1}function KA({scale:n,scaleX:e,scaleY:t}){return!zx(n)||!zx(e)||!zx(t)}function Xa(n){return KA(n)||HI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function HI(n){return l2(n.x)||l2(n.y)}function l2(n){return n&&n!=="0%"}function Kg(n,e,t){const i=n-t,r=e*i;return t+r}function u2(n,e,t,i,r){return r!==void 0&&(n=Kg(n,r,i)),Kg(n,t,i)+e}function YA(n,e=0,t=1,i,r){n.min=u2(n.min,e,t,i,r),n.max=u2(n.max,e,t,i,r)}function VI(n,{x:e,y:t}){YA(n.x,e.translate,e.scale,e.originPoint),YA(n.y,t.translate,t.scale,t.originPoint)}function Vj(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Uu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VI(n,o)),i&&Xa(s.latestValues)&&Uu(n,s.latestValues))}e.x=c2(e.x),e.y=c2(e.y)}function c2(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function No(n,e){n.min=n.min+e,n.max=n.max+e}function f2(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=an(n.min,n.max,s);YA(n,e[t],e[i],o,e.scale)}const Wj=["x","scaleX","originX"],jj=["y","scaleY","originY"];function Uu(n,e){f2(n.x,e,Wj),f2(n.y,e,jj)}function WI(n,e){return GI(Hj(n.getBoundingClientRect(),e))}function Jj(n,e,t){const i=WI(n,t),{scroll:r}=e;return r&&(No(i.x,r.offset.x),No(i.y,r.offset.y)),i}const Xj=new WeakMap;class Kj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(W0(l,"page").point)},s=(l,u)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uI(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(y=>{let g=this.getAxisMotionValue(y).get()||0;if(xs.test(g)){const{projection:A}=this.visualElement;if(A&&A.layout){const x=A.layout.layoutBox[y];x&&(g=er(x)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&p(l,u);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=u;if(h&&this.currentDirection===null){this.currentDirection=Yj(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new UI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Lm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Fj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=kj(i.layoutBox,e):this.constraints=!1,this.elastic=zj(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Uj(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ou(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Jj(i,r.root,this.visualElement.getTransformPagePoint());let o=Oj(r.layout.layoutBox,s);if(t){const a=t(Gj(o));this.hasMutatedConstraints=!!a,a&&(o=GI(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=fs(d=>{if(!Lm(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(bw(e,i,0,t))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fs(t=>{const{drag:i}=this.getProps();if(!Lm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ou(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};fs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=Nj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fs(o=>{if(!Lm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(an(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;Xj.set(this.visualElement,this);const e=this.visualElement.current,t=no(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ou(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=$s(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(fs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=XA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Lm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Yj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Qj extends Aa{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new Kj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}class Zj extends Aa{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new UI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=no(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qj(){const n=H.useContext(nw);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=H.useId();return H.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function d2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ef={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(nt.test(n))n=parseFloat(n);else return n;const t=d2(n,e.target.x),i=d2(n,e.target.y);return`${t}% ${i}%`}},jI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $j(n){const e=jI.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function QA(n,e,t=1){const[i,r]=$j(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():FA(r)?QA(r,e,t+1):r}function eJ(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!FA(s))return;const o=QA(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!FA(s))continue;const o=QA(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const h2="_$css",tJ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(jI,m=>(s.push(m),h2)));const o=fa.parse(n);if(o.length>5)return i;const a=fa.createTransformer(n),l=typeof o[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=u,o[1+l]/=d;const h=an(u,d,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(r){let m=0;p=p.replace(h2,()=>{const y=s[m];return m++,y})}return p}};class nJ extends n0.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;iW(iJ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ai.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JI(n){const[e,t]=qj(),i=H.useContext(XL);return n0.createElement(nJ,{...n,layoutGroup:i,switchLayoutGroup:H.useContext(KL),isPresent:e,safeToRemove:t})}const iJ={borderRadius:{...Ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ef,borderTopRightRadius:Ef,borderBottomLeftRadius:Ef,borderBottomRightRadius:Ef,boxShadow:tJ};function rJ(n,e,t={}){const i=ki(n)?n:mc(n);return i.start(bw("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const XI=["TopLeft","TopRight","BottomLeft","BottomRight"],sJ=XI.length,p2=n=>typeof n=="string"?parseFloat(n):n,m2=n=>typeof n=="number"||nt.test(n);function oJ(n,e,t,i,r,s){r?(n.opacity=an(0,t.opacity!==void 0?t.opacity:1,aJ(i)),n.opacityExit=an(e.opacity!==void 0?e.opacity:1,0,lJ(i))):s&&(n.opacity=an(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<sJ;o++){const a=`border${XI[o]}Radius`;let l=g2(e,a),u=g2(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||m2(l)===m2(u)?(n[a]=Math.max(an(p2(l),p2(u),i),0),(xs.test(u)||xs.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=an(e.rotate||0,t.rotate||0,i))}function g2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aJ=KI(0,.5,Mw),lJ=KI(.5,.95,Cr);function KI(n,e,t){return i=>i<n?0:i>e?1:t(Hd(n,e,i))}function y2(n,e){n.min=e.min,n.max=e.max}function yr(n,e){y2(n.x,e.x),y2(n.y,e.y)}function v2(n,e,t,i,r){return n-=e,n=Kg(n,1/t,i),r!==void 0&&(n=Kg(n,1/r,i)),n}function uJ(n,e=0,t=1,i=.5,r,s=n,o=n){if(xs.test(e)&&(e=parseFloat(e),e=an(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=an(s.min,s.max,i);n===s&&(a-=e),n.min=v2(n.min,e,t,a,r),n.max=v2(n.max,e,t,a,r)}function x2(n,e,[t,i,r],s,o){uJ(n,e[t],e[i],e[r],e.scale,s,o)}const cJ=["x","scaleX","originX"],fJ=["y","scaleY","originY"];function A2(n,e,t,i){x2(n.x,e,cJ,t?t.x:void 0,i?i.x:void 0),x2(n.y,e,fJ,t?t.y:void 0,i?i.y:void 0)}function _2(n){return n.translate===0&&n.scale===1}function YI(n){return _2(n.x)&&_2(n.y)}function ZA(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function S2(n){return er(n.x)/er(n.y)}class dJ{constructor(){this.members=[]}add(e){hw(this.members,e),e.scheduleRender()}remove(e){if(pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w2(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const hJ=(n,e)=>n.depth-e.depth;class pJ{constructor(){this.children=[],this.isDirty=!1}add(e){hw(this.children,e),this.isDirty=!0}remove(e){pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hJ),this.isDirty=!1,this.children.forEach(e)}}function mJ(n){window.MotionDebug&&window.MotionDebug.record(n)}const M2=["","X","Y","Z"],C2=1e3;let gJ=0;const Ka={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=gJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ka.totalNodes=Ka.resolvedTargetDeltas=Ka.recalculatedProjection=0,this.nodes.forEach(xJ),this.nodes.forEach(wJ),this.nodes.forEach(MJ),this.nodes.forEach(AJ),mJ(Ka)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new pJ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kI(p,250),Qf.hasAnimatedSinceResize&&(Qf.hasAnimatedSinceResize=!1,this.nodes.forEach(E2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||PJ,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!ZA(this.targetLayout,y)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const M={...OI(g,"layout"),onPlay:A,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else!p&&this.animationProgress===0&&E2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ca.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b2);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(BJ),this.potentialNodes.clear()),this.nodes.forEach(SJ),this.nodes.forEach(yJ),this.nodes.forEach(vJ),this.clearAllSnapshots(),Lx.update(),Lx.preRender(),Lx.render())}clearAllSnapshots(){this.nodes.forEach(_J),this.sharedNodes.forEach(bJ)}scheduleUpdateProjection(){Ai.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ai.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!YI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Xa(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),RJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return En();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(No(a.x,l.offset.x),No(a.y,l.offset.y)),a}removeElementScroll(o){const a=En();yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){yr(a,o);const{scroll:p}=this.root;p&&(No(a.x,-p.offset.x),No(a.y,-p.offset.y))}No(a.x,d.offset.x),No(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=En();yr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Uu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xa(d.latestValues)&&Uu(l,d.latestValues)}return Xa(this.latestValues)&&Uu(l,this.latestValues),l}removeTransform(o){const a=En();yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xa(u.latestValues))continue;KA(u.latestValues)&&u.updateSnapshot();const d=En(),h=u.measurePageBox();yr(d,h),A2(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xa(this.latestValues)&&A2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=En(),this.relativeTargetOrigin=En(),ed(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?Dj(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),VI(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=En(),this.relativeTargetOrigin=En(),ed(this.relativeTargetOrigin,this.target,p.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||KA(this.parent.latestValues)||HI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;yr(this.layoutCorrected,this.layout.layoutBox),Vj(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=td(),this.projectionDeltaWithTransform=td());const m=this.treeScale.x,y=this.treeScale.y,g=this.projectionTransform;$f(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=w2(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ka.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=td();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=En(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,A=this.getStack(),x=!A||A.members.length<=1,_=Boolean(g&&!x&&this.options.crossfade===!0&&!this.path.some(TJ));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const b=M/1e3;T2(h.x,o.x,b),T2(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ed(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EJ(this.relativeTarget,this.relativeTargetOrigin,p,b),S&&ZA(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=En()),yr(S,this.relativeTarget)),g&&(this.animationValues=d,oJ(d,u,this.latestValues,b,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ca.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ai.update(()=>{Qf.hasAnimatedSinceResize=!0,this.currentAnimation=rJ(0,C2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ZI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||En();const h=er(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=er(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}yr(a,l),Uu(a,d),$f(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dJ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<M2.length;d++){const h="rotate"+M2[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ig(o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ig(o.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=w2(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Gg){if(p[g]===void 0)continue;const{correct:A,applyTo:x}=Gg[g],_=u.transform==="none"?p[g]:A(p[g],h);if(x){const S=x.length;for(let M=0;M<S;M++)u[x[M]]=_}else u[g]=_}return this.options.layoutId&&(u.pointerEvents=h===this?ig(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(b2),this.root.sharedNodes.clear()}}}function yJ(n){n.updateLayout()}function vJ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?fs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=er(p);p.min=i[h].min,p.max=p.min+m}):ZI(s,t.layoutBox,i)&&fs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=er(i[h]);p.max=p.min+m});const a=td();$f(a,i,t.layoutBox);const l=td();o?$f(l,n.applyTransform(r,!0),t.measuredBox):$f(l,i,t.layoutBox);const u=!YI(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=En();ed(y,t.layoutBox,p.layoutBox);const g=En();ed(g,i,m.layoutBox),ZA(y,g)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function xJ(n){Ka.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function AJ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _J(n){n.clearSnapshot()}function b2(n){n.clearMeasurements()}function SJ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function E2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function wJ(n){n.resolveTargetDelta()}function MJ(n){n.calcProjection()}function CJ(n){n.resetRotation()}function bJ(n){n.removeLeadSnapshot()}function T2(n,e,t){n.translate=an(e.translate,0,t),n.scale=an(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function P2(n,e,t,i){n.min=an(e.min,t.min,i),n.max=an(e.max,t.max,i)}function EJ(n,e,t,i){P2(n.x,e.x,t.x,i),P2(n.y,e.y,t.y,i)}function TJ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PJ={duration:.45,ease:[.4,0,.1,1]};function BJ(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function B2(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function RJ(n){B2(n.x),B2(n.y)}function ZI(n,e,t){return n==="position"||n==="preserve-aspect"&&!JA(S2(e),S2(t),.2)}const LJ=QI({attachResizeListener:(n,e)=>$s(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gx={current:void 0},qI=QI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gx.current){const n=new LJ(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Gx.current=n}return Gx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),IJ={pan:{Feature:Zj},drag:{Feature:Qj,ProjectionNode:qI,MeasureLayout:JI}},DJ=new Set(["width","height","top","left","right","bottom","x","y"]),$I=n=>DJ.has(n),FJ=n=>Object.keys(n).some($I),R2=n=>n===Dl||n===nt,L2=(n,e)=>parseFloat(n.split(", ")[e]),I2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return L2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?L2(s[1],n):0}},kJ=new Set(["x","y","z"]),OJ=V0.filter(n=>!kJ.has(n));function NJ(n){const e=[];return OJ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const D2={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:I2(4,13),y:I2(5,14)},UJ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=D2[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),n[u]=D2[u](l,s)}),n},zJ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter($I);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=bf(d);const p=e[l];let m;if(Vg(p)){const y=p.length,g=p[0]===null?1:0;d=p[g],h=bf(d);for(let A=g;A<y;A++)m?Jg(bf(p[A])===m):m=bf(p[A])}else m=bf(p);if(h!==m)if(R2(h)&&R2(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===nt&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(p):(o||(s=NJ(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=UJ(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),z0&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function GJ(n,e,t,i){return FJ(e)?zJ(n,e,t,i):{target:e,transitionEnd:i}}const HJ=(n,e,t,i)=>{const r=eJ(n,e,i);return e=r.target,i=r.transitionEnd,GJ(n,e,t,i)},qA={current:null},eD={current:!1};function VJ(){if(eD.current=!0,!!z0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>qA.current=n.matches;n.addListener(e),e()}else qA.current=!1}function WJ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(ki(s))n.addValue(r,s),jg(i)&&i.add(r);else if(ki(o))n.addValue(r,mc(s,{owner:n})),jg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,mc(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const tD=Object.keys(Ud),jJ=tD.length,F2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],JJ=rw.length;class XJ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ai.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=H0(t),this.isVariantNode=jL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&ki(p)&&(p.set(a[h],!1),jg(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),eD.current||VJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ca.update(this.notifyUpdate),ca.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Il.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ai.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let u=0;u<jJ;u++){const d=tD[u],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:y}=Ud[d];m&&(a=m),h(t)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:Boolean(h)||p&&Ou(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<F2.length;i++){const r=F2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=WJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<JJ;i++){const r=rw[i],s=this.props[r];(Nd(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=mc(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=dw(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ki(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new mw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nD extends XJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=g7(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){p7(this,i,o);const a=HJ(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function KJ(n){return window.getComputedStyle(n)}class YJ extends nD{readValueFromInstance(e,t){if(Il.has(t)){const i=vw(t);return i&&i.default||0}else{const i=KJ(e),r=(ZL(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return WI(e,t)}build(e,t,i,r){ow(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return fw(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ki(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){nI(e,t,i,r)}}class QJ extends nD{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Il.has(t)){const i=vw(t);return i&&i.default||0}return t=iI.has(t)?t:cw(t),e.getAttribute(t)}measureInstanceViewportBox(){return En()}scrapeMotionValuesFromProps(e,t){return sI(e,t)}build(e,t,i,r){lw(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){rI(e,t,i,r)}mount(e){this.isSVGTag=uw(e.tagName),super.mount(e)}}const ZJ=(n,e)=>sw(n)?new QJ(e,{enableHardwareAcceleration:!1}):new YJ(e,{enableHardwareAcceleration:!0}),qJ={layout:{ProjectionNode:qI,MeasureLayout:JI}},$J={...Bj,...HW,...IJ,...qJ},Qr=tW((n,e)=>PW(n,e,$J,ZJ));var $A={},eX={get exports(){return $A},set exports(n){$A=n}};(function(n,e){(function(t,i){n.exports=i(H)})(bF,function(t){return function(i){var r={};function s(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return i[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=i,s.c=r,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,function(d){return o[d]}.bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="/",s(s.s=5)}([function(i,r,s){var o=s(3);i.exports=s(8)(o.isElement,!0)},function(i,r){i.exports=t},function(i,r,s){i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(i,r,s){i.exports=s(7)},function(i,r,s){/*!
 * 
 *   typed.js - A JavaScript Typing Animation Library
 *   Author: Matt Boldt <me@mattboldt.com>
 *   Version: v2.0.9
 *   Url: https://github.com/mattboldt/typed.js
 *   License(s): MIT
 * 
 */var o;o=function(){return function(a){var l={};function u(d){if(l[d])return l[d].exports;var h=l[d]={exports:{},id:d,loaded:!1};return a[d].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}return u.m=a,u.c=l,u.p="",u(0)}([function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function y(g,A){for(var x=0;x<A.length;x++){var _=A[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,A,x){return A&&y(g.prototype,A),x&&y(g,x),g}}(),h=u(1),p=u(3),m=function(){function y(g,A){(function(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")})(this,y),h.initializer.load(this,A,g),this.begin()}return d(y,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var g=arguments.length<=0||arguments[0]===void 0||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,g&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var g=this;this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){g.currentElContent&&g.currentElContent.length!==0?g.backspace(g.currentElContent,g.currentElContent.length):g.typewrite(g.strings[g.sequence[g.arrayPos]],g.strPos)},this.startDelay)}},{key:"typewrite",value:function(g,A){var x=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var _=this.humanizer(this.typeSpeed),S=1;this.pause.status!==!0?this.timeout=setTimeout(function(){A=p.htmlParser.typeHtmlChars(g,A,x);var M=0,b=g.substr(A);if(b.charAt(0)==="^"&&/^\^\d+/.test(b)){var P=1;P+=(b=/\d+/.exec(b)[0]).length,M=parseInt(b),x.temporaryPause=!0,x.options.onTypingPaused(x.arrayPos,x),g=g.substring(0,A)+g.substring(A+P),x.toggleBlinking(!0)}if(b.charAt(0)==="`"){for(;g.substr(A+S).charAt(0)!=="`"&&!(A+ ++S>g.length););var R=g.substring(0,A),E=g.substring(R.length+1,A+S),T=g.substring(A+S+1);g=R+E+T,S--}x.timeout=setTimeout(function(){x.toggleBlinking(!1),A>=g.length?x.doneTyping(g,A):x.keepTyping(g,A,S),x.temporaryPause&&(x.temporaryPause=!1,x.options.onTypingResumed(x.arrayPos,x))},M)},_):this.setPauseStatus(g,A,!0)}},{key:"keepTyping",value:function(g,A,x){A===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),A+=x;var _=g.substr(0,A);this.replaceText(_),this.typewrite(g,A)}},{key:"doneTyping",value:function(g,A){var x=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){x.backspace(g,A)},this.backDelay))}},{key:"backspace",value:function(g,A){var x=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var _=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){A=p.htmlParser.backSpaceHtmlChars(g,A,x);var S=g.substr(0,A);if(x.replaceText(S),x.smartBackspace){var M=x.strings[x.arrayPos+1];M&&S===M.substr(0,A)?x.stopNum=A:x.stopNum=0}A>x.stopNum?(A--,x.backspace(g,A)):A<=x.stopNum&&(x.arrayPos++,x.arrayPos===x.strings.length?(x.arrayPos=0,x.options.onLastStringBackspaced(),x.shuffleStringsIfNeeded(),x.begin()):x.typewrite(x.strings[x.sequence[x.arrayPos]],A))},_)}else this.setPauseStatus(g,A,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(g,A,x){this.pause.typewrite=x,this.pause.curString=g,this.pause.curStrPos=A}},{key:"toggleBlinking",value:function(g){this.cursor&&(this.pause.status||this.cursorBlinking!==g&&(this.cursorBlinking=g,g?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(g){return Math.round(Math.random()*g/2)+g}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var g=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){g.arrayPos++,g.replaceText(""),g.strings.length>g.arrayPos?g.typewrite(g.strings[g.sequence[g.arrayPos]],0):(g.typewrite(g.strings[0],0),g.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(g){this.attr?this.el.setAttribute(this.attr,g):this.isInput?this.el.value=g:this.contentType==="html"?this.el.innerHTML=g:this.el.textContent=g}},{key:"bindFocusEvents",value:function(){var g=this;this.isInput&&(this.el.addEventListener("focus",function(A){g.stop()}),this.el.addEventListener("blur",function(A){g.el.value&&g.el.value.length!==0||g.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),y}();l.default=m,a.exports=l.default},function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=Object.assign||function(x){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(x[M]=S[M])}return x},h=function(){function x(_,S){for(var M=0;M<S.length;M++){var b=S[M];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,S,M){return S&&x(_.prototype,S),M&&x(_,M),_}}(),p,m=u(2),y=(p=m)&&p.__esModule?p:{default:p},g=function(){function x(){(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,x)}return h(x,[{key:"load",value:function(_,S,M){if(_.el=typeof M=="string"?document.querySelector(M):M,_.options=d({},y.default,S),_.isInput=_.el.tagName.toLowerCase()==="input",_.attr=_.options.attr,_.bindInputFocusEvents=_.options.bindInputFocusEvents,_.showCursor=!_.isInput&&_.options.showCursor,_.cursorChar=_.options.cursorChar,_.cursorBlinking=!0,_.elContent=_.attr?_.el.getAttribute(_.attr):_.el.textContent,_.contentType=_.options.contentType,_.typeSpeed=_.options.typeSpeed,_.startDelay=_.options.startDelay,_.backSpeed=_.options.backSpeed,_.smartBackspace=_.options.smartBackspace,_.backDelay=_.options.backDelay,_.fadeOut=_.options.fadeOut,_.fadeOutClass=_.options.fadeOutClass,_.fadeOutDelay=_.options.fadeOutDelay,_.isPaused=!1,_.strings=_.options.strings.map(function(T){return T.trim()}),typeof _.options.stringsElement=="string"?_.stringsElement=document.querySelector(_.options.stringsElement):_.stringsElement=_.options.stringsElement,_.stringsElement){_.strings=[],_.stringsElement.style.display="none";var b=Array.prototype.slice.apply(_.stringsElement.children),P=b.length;if(P)for(var R=0;R<P;R+=1){var E=b[R];_.strings.push(E.innerHTML.trim())}}for(var R in _.strPos=0,_.arrayPos=0,_.stopNum=0,_.loop=_.options.loop,_.loopCount=_.options.loopCount,_.curLoop=0,_.shuffle=_.options.shuffle,_.sequence=[],_.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},_.typingComplete=!1,_.strings)_.sequence[R]=R;_.currentElContent=this.getCurrentElContent(_),_.autoInsertCss=_.options.autoInsertCss,this.appendAnimationCss(_)}},{key:"getCurrentElContent",value:function(_){return _.attr?_.el.getAttribute(_.attr):_.isInput?_.el.value:_.contentType==="html"?_.el.innerHTML:_.el.textContent}},{key:"appendAnimationCss",value:function(_){if(_.autoInsertCss&&(_.showCursor||_.fadeOut)&&!document.querySelector("[data-typed-js-css]")){var S=document.createElement("style");S.type="text/css",S.setAttribute("data-typed-js-css",!0);var M="";_.showCursor&&(M+=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `),_.fadeOut&&(M+=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `),S.length!==0&&(S.innerHTML=M,document.body.appendChild(S))}}}]),x}();l.default=g;var A=new g;l.initializer=A},function(a,l){Object.defineProperty(l,"__esModule",{value:!0});var u={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onComplete:function(d){},preStringTyped:function(d,h){},onStringTyped:function(d,h){},onLastStringBackspaced:function(d){},onTypingPaused:function(d,h){},onTypingResumed:function(d,h){},onReset:function(d){},onStop:function(d,h){},onStart:function(d,h){},onDestroy:function(d){}};l.default=u,a.exports=l.default},function(a,l){Object.defineProperty(l,"__esModule",{value:!0});var u=function(){function p(m,y){for(var g=0;g<y.length;g++){var A=y[g];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(m,A.key,A)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),d=function(){function p(){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p)}return u(p,[{key:"typeHtmlChars",value:function(m,y,g){if(g.contentType!=="html")return y;var A=m.substr(y).charAt(0);if(A==="<"||A==="&"){var x="";for(x=A==="<"?">":";";m.substr(y+1).charAt(0)!==x&&!(++y+1>m.length););y++}return y}},{key:"backSpaceHtmlChars",value:function(m,y,g){if(g.contentType!=="html")return y;var A=m.substr(y).charAt(0);if(A===">"||A===";"){var x="";for(x=A===">"?"<":"&";m.substr(y-1).charAt(0)!==x&&!(--y<0););y--}return y}}]),p}();l.default=d;var h=new d;l.htmlParser=h}])},i.exports=o()},function(i,r,s){s.r(r);var o=s(1),a=s.n(o),l=s(0),u=s.n(l),d=s(4),h=s.n(d);function p(S){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(S)}function m(S,M){if(S==null)return{};var b,P,R=function(T,L){if(T==null)return{};var I,V,G={},N=Object.keys(T);for(V=0;V<N.length;V++)I=N[V],L.indexOf(I)>=0||(G[I]=T[I]);return G}(S,M);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);for(P=0;P<E.length;P++)b=E[P],M.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(S,b)&&(R[b]=S[b])}return R}function y(S,M){for(var b=0;b<M.length;b++){var P=M[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}function g(S){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(S)}function A(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function x(S,M){return(x=Object.setPrototypeOf||function(b,P){return b.__proto__=P,b})(S,M)}var _=function(S){function M(){var R,E,T,L,I,V,G;(function($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")})(this,M);for(var N=arguments.length,j=new Array(N),Y=0;Y<N;Y++)j[Y]=arguments[Y];return T=this,E=!(L=(R=g(M)).call.apply(R,[this].concat(j)))||p(L)!=="object"&&typeof L!="function"?A(T):L,I=A(E),V="rootElement",G=a.a.createRef(),V in I?Object.defineProperty(I,V,{value:G,enumerable:!0,configurable:!0,writable:!0}):I[V]=G,E}var b,P;return function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),E&&x(R,E)}(M,o.Component),b=M,(P=[{key:"componentDidMount",value:function(){var R=this.props,E=(R.style,R.typedRef,R.stopped),T=(R.className,m(R,["style","typedRef","stopped","className"]));this.constructTyped(T),E&&this.typed.stop()}},{key:"constructTyped",value:function(){var R=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.props,L=(T.style,T.typedRef,T.stopped,T.className,m(T,["style","typedRef","stopped","className"]));this.typed&&this.typed.destroy(),this.typed=new h.a(this.rootElement.current,Object.assign(L,E)),this.props.typedRef&&this.props.typedRef(this.typed),this.typed.reConstruct=function(I){R.constructTyped(I)}}},{key:"shouldComponentUpdate",value:function(R){var E=this;if(this.props!==R){R.style,R.typedRef,R.stopped,R.className;var T=m(R,["style","typedRef","stopped","className"]);return this.typed.options=Object.assign(this.typed.options,T),!Object.keys(R).every(function(L){return!E.props[L]&&R[L]?(E.constructTyped(R),!1):(E.typed[L]&&(E.typed[L]=R[L]),!0)})||this.props.strings.length===R.strings.length||this.constructTyped(R),!0}return!1}},{key:"render",value:function(){var R=this.props,E=R.style,T=R.className,L=R.children,I=a.a.createElement("span",{ref:this.rootElement});return L&&(I=a.a.cloneElement(L,{ref:this.rootElement})),a.a.createElement("span",{style:E,className:T},I)}}])&&y(b.prototype,P),M}();_.propTypes={style:u.a.object,className:u.a.string,children:u.a.object,typedRef:u.a.func,stopped:u.a.bool,strings:u.a.arrayOf(u.a.string),typeSpeed:u.a.number,startDelay:u.a.number,backSpeed:u.a.number,smartBackspace:u.a.bool,shuffle:u.a.bool,backDelay:u.a.number,fadeOut:u.a.bool,fadeOutClass:u.a.string,fadeOutDelay:u.a.number,loop:u.a.bool,loopCount:u.a.number,showCursor:u.a.bool,cursorChar:u.a.string,autoInsertCss:u.a.bool,attr:u.a.string,bindInputFocusEvents:u.a.bool,contentType:u.a.oneOf(["html",""]),onComplete:u.a.func,preStringTyped:u.a.func,onStringTyped:u.a.func,onLastStringBackspaced:u.a.func,onTypingPaused:u.a.func,onTypingResumed:u.a.func,onReset:u.a.func,onStop:u.a.func,onStart:u.a.func,onDestroy:u.a.func},r.default=_},function(i,r,s){/** @license React v16.9.0
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&Symbol.for,a=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,d=o?Symbol.for("react.strict_mode"):60108,h=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,m=o?Symbol.for("react.context"):60110,y=o?Symbol.for("react.async_mode"):60111,g=o?Symbol.for("react.concurrent_mode"):60111,A=o?Symbol.for("react.forward_ref"):60112,x=o?Symbol.for("react.suspense"):60113,_=o?Symbol.for("react.suspense_list"):60120,S=o?Symbol.for("react.memo"):60115,M=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.fundamental"):60117,P=o?Symbol.for("react.responder"):60118;function R(T){if(typeof T=="object"&&T!==null){var L=T.$$typeof;switch(L){case a:switch(T=T.type){case y:case g:case u:case h:case d:case x:return T;default:switch(T=T&&T.$$typeof){case m:case A:case p:return T;default:return L}}case M:case S:case l:return L}}}function E(T){return R(T)===g}r.typeOf=R,r.AsyncMode=y,r.ConcurrentMode=g,r.ContextConsumer=m,r.ContextProvider=p,r.Element=a,r.ForwardRef=A,r.Fragment=u,r.Lazy=M,r.Memo=S,r.Portal=l,r.Profiler=h,r.StrictMode=d,r.Suspense=x,r.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===u||T===g||T===h||T===d||T===x||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===M||T.$$typeof===S||T.$$typeof===p||T.$$typeof===m||T.$$typeof===A||T.$$typeof===b||T.$$typeof===P)},r.isAsyncMode=function(T){return E(T)||R(T)===y},r.isConcurrentMode=E,r.isContextConsumer=function(T){return R(T)===m},r.isContextProvider=function(T){return R(T)===p},r.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===a},r.isForwardRef=function(T){return R(T)===A},r.isFragment=function(T){return R(T)===u},r.isLazy=function(T){return R(T)===M},r.isMemo=function(T){return R(T)===S},r.isPortal=function(T){return R(T)===l},r.isProfiler=function(T){return R(T)===h},r.isStrictMode=function(T){return R(T)===d},r.isSuspense=function(T){return R(T)===x}},function(i,r,s){/** @license React v16.9.0
* react-is.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&Symbol.for,a=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,d=o?Symbol.for("react.strict_mode"):60108,h=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,m=o?Symbol.for("react.context"):60110,y=o?Symbol.for("react.async_mode"):60111,g=o?Symbol.for("react.concurrent_mode"):60111,A=o?Symbol.for("react.forward_ref"):60112,x=o?Symbol.for("react.suspense"):60113,_=o?Symbol.for("react.suspense_list"):60120,S=o?Symbol.for("react.memo"):60115,M=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.fundamental"):60117,P=o?Symbol.for("react.responder"):60118,R=function(re){for(var ee=arguments.length,Be=Array(ee>1?ee-1:0),Re=1;Re<ee;Re++)Be[Re-1]=arguments[Re];var Ne=0,_e="Warning: "+re.replace(/%s/g,function(){return Be[Ne++]});typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}},E=function(re,ee){if(ee===void 0)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!re){for(var Be=arguments.length,Re=Array(Be>2?Be-2:0),Ne=2;Ne<Be;Ne++)Re[Ne-2]=arguments[Ne];R.apply(void 0,[ee].concat(Re))}};function T(re){if(typeof re=="object"&&re!==null){var ee=re.$$typeof;switch(ee){case a:var Be=re.type;switch(Be){case y:case g:case u:case h:case d:case x:return Be;default:var Re=Be&&Be.$$typeof;switch(Re){case m:case A:case p:return Re;default:return ee}}case M:case S:case l:return ee}}}var L=y,I=g,V=m,G=p,N=a,j=A,Y=u,$=M,F=S,W=l,X=h,te=d,K=x,oe=!1;function xe(re){return T(re)===g}r.typeOf=T,r.AsyncMode=L,r.ConcurrentMode=I,r.ContextConsumer=V,r.ContextProvider=G,r.Element=N,r.ForwardRef=j,r.Fragment=Y,r.Lazy=$,r.Memo=F,r.Portal=W,r.Profiler=X,r.StrictMode=te,r.Suspense=K,r.isValidElementType=function(re){return typeof re=="string"||typeof re=="function"||re===u||re===g||re===h||re===d||re===x||re===_||typeof re=="object"&&re!==null&&(re.$$typeof===M||re.$$typeof===S||re.$$typeof===p||re.$$typeof===m||re.$$typeof===A||re.$$typeof===b||re.$$typeof===P)},r.isAsyncMode=function(re){return oe||(oe=!0,E(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),xe(re)||T(re)===y},r.isConcurrentMode=xe,r.isContextConsumer=function(re){return T(re)===m},r.isContextProvider=function(re){return T(re)===p},r.isElement=function(re){return typeof re=="object"&&re!==null&&re.$$typeof===a},r.isForwardRef=function(re){return T(re)===A},r.isFragment=function(re){return T(re)===u},r.isLazy=function(re){return T(re)===M},r.isMemo=function(re){return T(re)===S},r.isPortal=function(re){return T(re)===l},r.isProfiler=function(re){return T(re)===h},r.isStrictMode=function(re){return T(re)===d},r.isSuspense=function(re){return T(re)===x}})()},function(i,r,s){var o=s(3),a=s(9),l=s(2),u=s(10),d=Function.call.bind(Object.prototype.hasOwnProperty),h=function(){};function p(){return null}h=function(m){var y="Warning: "+m;typeof console<"u"&&console.error(y);try{throw new Error(y)}catch{}},i.exports=function(m,y){var g=typeof Symbol=="function"&&Symbol.iterator,A="@@iterator",x="<<anonymous>>",_={array:P("array"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:b(p),arrayOf:function(I){return b(function(V,G,N,j,Y){if(typeof I!="function")return new M("Property `"+Y+"` of component `"+N+"` has invalid PropType notation inside arrayOf.");var $=V[G];if(!Array.isArray($))return new M("Invalid "+j+" `"+Y+"` of type `"+E($)+"` supplied to `"+N+"`, expected an array.");for(var F=0;F<$.length;F++){var W=I($,F,N,j,Y+"["+F+"]",l);if(W instanceof Error)return W}return null})},element:b(function(I,V,G,N,j){var Y=I[V];return m(Y)?null:new M("Invalid "+N+" `"+j+"` of type `"+E(Y)+"` supplied to `"+G+"`, expected a single ReactElement.")}),elementType:b(function(I,V,G,N,j){var Y=I[V];return o.isValidElementType(Y)?null:new M("Invalid "+N+" `"+j+"` of type `"+E(Y)+"` supplied to `"+G+"`, expected a single ReactElement type.")}),instanceOf:function(I){return b(function(V,G,N,j,Y){if(!(V[G]instanceof I)){var $=I.name||x;return new M("Invalid "+j+" `"+Y+"` of type `"+function(F){return!F.constructor||!F.constructor.name?x:F.constructor.name}(V[G])+"` supplied to `"+N+"`, expected instance of `"+$+"`.")}return null})},node:b(function(I,V,G,N,j){return R(I[V])?null:new M("Invalid "+N+" `"+j+"` supplied to `"+G+"`, expected a ReactNode.")}),objectOf:function(I){return b(function(V,G,N,j,Y){if(typeof I!="function")return new M("Property `"+Y+"` of component `"+N+"` has invalid PropType notation inside objectOf.");var $=V[G],F=E($);if(F!=="object")return new M("Invalid "+j+" `"+Y+"` of type `"+F+"` supplied to `"+N+"`, expected an object.");for(var W in $)if(d($,W)){var X=I($,W,N,j,Y+"."+W,l);if(X instanceof Error)return X}return null})},oneOf:function(I){return Array.isArray(I)?b(function(V,G,N,j,Y){for(var $=V[G],F=0;F<I.length;F++)if(S($,I[F]))return null;var W=JSON.stringify(I,function(X,te){return T(te)==="symbol"?String(te):te});return new M("Invalid "+j+" `"+Y+"` of value `"+String($)+"` supplied to `"+N+"`, expected one of "+W+".")}):(arguments.length>1?h("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):h("Invalid argument supplied to oneOf, expected an array."),p)},oneOfType:function(I){if(!Array.isArray(I))return h("Invalid argument supplied to oneOfType, expected an instance of array."),p;for(var V=0;V<I.length;V++){var G=I[V];if(typeof G!="function")return h("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+L(G)+" at index "+V+"."),p}return b(function(N,j,Y,$,F){for(var W=0;W<I.length;W++)if((0,I[W])(N,j,Y,$,F,l)==null)return null;return new M("Invalid "+$+" `"+F+"` supplied to `"+Y+"`.")})},shape:function(I){return b(function(V,G,N,j,Y){var $=V[G],F=E($);if(F!=="object")return new M("Invalid "+j+" `"+Y+"` of type `"+F+"` supplied to `"+N+"`, expected `object`.");for(var W in I){var X=I[W];if(X){var te=X($,W,N,j,Y+"."+W,l);if(te)return te}}return null})},exact:function(I){return b(function(V,G,N,j,Y){var $=V[G],F=E($);if(F!=="object")return new M("Invalid "+j+" `"+Y+"` of type `"+F+"` supplied to `"+N+"`, expected `object`.");var W=a({},V[G],I);for(var X in W){var te=I[X];if(!te)return new M("Invalid "+j+" `"+Y+"` key `"+X+"` supplied to `"+N+"`.\nBad object: "+JSON.stringify(V[G],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(I),null,"  "));var K=te($,X,N,j,Y+"."+X,l);if(K)return K}return null})}};function S(I,V){return I===V?I!==0||1/I==1/V:I!=I&&V!=V}function M(I){this.message=I,this.stack=""}function b(I){var V={},G=0;function N(Y,$,F,W,X,te,K){if(W=W||x,te=te||F,K!==l){if(y){var oe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw oe.name="Invariant Violation",oe}if(typeof console<"u"){var xe=W+":"+F;!V[xe]&&G<3&&(h("You are manually calling a React.PropTypes validation function for the `"+te+"` prop on `"+W+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),V[xe]=!0,G++)}}return $[F]==null?Y?$[F]===null?new M("The "+X+" `"+te+"` is marked as required in `"+W+"`, but its value is `null`."):new M("The "+X+" `"+te+"` is marked as required in `"+W+"`, but its value is `undefined`."):null:I($,F,W,X,te)}var j=N.bind(null,!1);return j.isRequired=N.bind(null,!0),j}function P(I){return b(function(V,G,N,j,Y,$){var F=V[G];return E(F)!==I?new M("Invalid "+j+" `"+Y+"` of type `"+T(F)+"` supplied to `"+N+"`, expected `"+I+"`."):null})}function R(I){switch(typeof I){case"number":case"string":case"undefined":return!0;case"boolean":return!I;case"object":if(Array.isArray(I))return I.every(R);if(I===null||m(I))return!0;var V=function(Y){var $=Y&&(g&&Y[g]||Y[A]);if(typeof $=="function")return $}(I);if(!V)return!1;var G,N=V.call(I);if(V!==I.entries){for(;!(G=N.next()).done;)if(!R(G.value))return!1}else for(;!(G=N.next()).done;){var j=G.value;if(j&&!R(j[1]))return!1}return!0;default:return!1}}function E(I){var V=typeof I;return Array.isArray(I)?"array":I instanceof RegExp?"object":function(G,N){return G==="symbol"||!!N&&(N["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&N instanceof Symbol)}(V,I)?"symbol":V}function T(I){if(I==null)return""+I;var V=E(I);if(V==="object"){if(I instanceof Date)return"date";if(I instanceof RegExp)return"regexp"}return V}function L(I){var V=T(I);switch(V){case"array":case"object":return"an "+V;case"boolean":case"date":case"regexp":return"a "+V;default:return V}}return M.prototype=Error.prototype,_.checkPropTypes=u,_.resetWarningCache=u.resetWarningCache,_.PropTypes=_,_}},function(i,r,s){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function u(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}i.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var h={},p=0;p<10;p++)h["_"+String.fromCharCode(p)]=p;if(Object.getOwnPropertyNames(h).map(function(y){return h[y]}).join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(y){m[y]=y}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(d,h){for(var p,m,y=u(d),g=1;g<arguments.length;g++){for(var A in p=Object(arguments[g]))a.call(p,A)&&(y[A]=p[A]);if(o){m=o(p);for(var x=0;x<m.length;x++)l.call(p,m[x])&&(y[m[x]]=p[m[x]])}}return y}},function(i,r,s){var o=function(){},a=s(2),l={},u=Function.call.bind(Object.prototype.hasOwnProperty);function d(h,p,m,y,g){for(var A in h)if(u(h,A)){var x;try{if(typeof h[A]!="function"){var _=Error((y||"React class")+": "+m+" type `"+A+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof h[A]+"`.");throw _.name="Invariant Violation",_}x=h[A](p,A,y,m,null,a)}catch(M){x=M}if(!x||x instanceof Error||o((y||"React class")+": type specification of "+m+" `"+A+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof x+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),x instanceof Error&&!(x.message in l)){l[x.message]=!0;var S=g?g():"";o("Failed "+m+" type: "+x.message+(S??""))}}}o=function(h){var p="Warning: "+h;typeof console<"u"&&console.error(p);try{throw new Error(p)}catch{}},d.resetWarningCache=function(){l={}},i.exports=d},function(i,r,s){var o=s(2);function a(){}function l(){}l.resetWarningCache=a,i.exports=function(){function u(p,m,y,g,A,x){if(x!==o){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}function d(){return u}u.isRequired=u;var h={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:d,element:u,elementType:u,instanceOf:d,node:u,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:l,resetWarningCache:a};return h.PropTypes=h,h}}])})})(eX);const tX=o_($A),Zr={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},nX={black:"#000",white:"#fff"},Vd=nX,iX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},hu=iX,rX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},pu=rX,sX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mu=sX,oX={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},gu=oX,aX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},yu=aX,lX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tf=lX,uX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cX=uX;function Xs(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function iD(n){if(!Xs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=iD(n[t])}),e}function Xr(n,e,t={clone:!0}){const i=t.clone?it({},n):n;return Xs(n)&&Xs(e)&&Object.keys(e).forEach(r=>{r!=="__proto__"&&(Xs(e[r])&&r in n&&Xs(n[r])?i[r]=Xr(n[r],e[r],t):t.clone?i[r]=Xs(e[r])?iD(e[r]):e[r]:i[r]=e[r])}),i}function gc(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function gl(n){if(typeof n!="string")throw new Error(gc(7));return n.charAt(0).toUpperCase()+n.slice(1)}function rD(n,e){const t=it({},e);return Object.keys(n).forEach(i=>{if(i.toString().match(/^(components|slots)$/))t[i]=it({},n[i],t[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=n[i]||{},s=e[i];t[i]={},!s||!Object.keys(s)?t[i]=r:!r||!Object.keys(r)?t[i]=s:(t[i]=it({},s),Object.keys(r).forEach(o=>{t[i][o]=rD(r[o],s[o])}))}else t[i]===void 0&&(t[i]=n[i])}),t}function fX(n,e,t=void 0){const i={};return Object.keys(n).forEach(r=>{i[r]=n[r].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),t&&t[o]&&s.push(t[o])}return s},[]).join(" ")}),i}const k2=n=>n,dX=()=>{let n=k2;return{configure(e){n=e},generate(e){return n(e)},reset(){n=k2}}},hX=dX(),pX=hX,mX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function sD(n,e,t="Mui"){const i=mX[e];return i?`${t}-${i}`:`${pX.generate(n)}-${e}`}function gX(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=sD(n,r,t)}),i}const oD="$$material";function Cs(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function yX(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var vX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xX=yX(function(n){return vX.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function AX(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function _X(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SX=function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_X(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AX(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ai="-ms-",Yg="-moz-",Ft="-webkit-",aD="comm",Ew="rule",Tw="decl",wX="@import",lD="@keyframes",MX="@layer",CX=Math.abs,X0=String.fromCharCode,bX=Object.assign;function EX(n,e){return Kn(n,0)^45?(((e<<2^Kn(n,0))<<2^Kn(n,1))<<2^Kn(n,2))<<2^Kn(n,3):0}function uD(n){return n.trim()}function TX(n,e){return(n=e.exec(n))?n[0]:n}function kt(n,e,t){return n.replace(e,t)}function e_(n,e){return n.indexOf(e)}function Kn(n,e){return n.charCodeAt(e)|0}function Wd(n,e,t){return n.slice(e,t)}function ds(n){return n.length}function Pw(n){return n.length}function Im(n,e){return e.push(n),n}function PX(n,e){return n.map(e).join("")}var K0=1,yc=1,cD=0,Oi=0,Tn=0,Rc="";function Y0(n,e,t,i,r,s,o){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:K0,column:yc,length:o,return:""}}function Pf(n,e){return bX(Y0("",null,null,"",null,null,0),n,{length:-n.length},e)}function BX(){return Tn}function RX(){return Tn=Oi>0?Kn(Rc,--Oi):0,yc--,Tn===10&&(yc=1,K0--),Tn}function Zi(){return Tn=Oi<cD?Kn(Rc,Oi++):0,yc++,Tn===10&&(yc=1,K0++),Tn}function As(){return Kn(Rc,Oi)}function sg(){return Oi}function Mh(n,e){return Wd(Rc,n,e)}function jd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fD(n){return K0=yc=1,cD=ds(Rc=n),Oi=0,[]}function dD(n){return Rc="",n}function og(n){return uD(Mh(Oi-1,t_(n===91?n+2:n===40?n+1:n)))}function LX(n){for(;(Tn=As())&&Tn<33;)Zi();return jd(n)>2||jd(Tn)>3?"":" "}function IX(n,e){for(;--e&&Zi()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return Mh(n,sg()+(e<6&&As()==32&&Zi()==32))}function t_(n){for(;Zi();)switch(Tn){case n:return Oi;case 34:case 39:n!==34&&n!==39&&t_(Tn);break;case 40:n===41&&t_(n);break;case 92:Zi();break}return Oi}function DX(n,e){for(;Zi()&&n+Tn!==47+10;)if(n+Tn===42+42&&As()===47)break;return"/*"+Mh(e,Oi-1)+"*"+X0(n===47?n:Zi())}function FX(n){for(;!jd(As());)Zi();return Mh(n,Oi)}function kX(n){return dD(ag("",null,null,null,[""],n=fD(n),0,[0],n))}function ag(n,e,t,i,r,s,o,a,l){for(var u=0,d=0,h=o,p=0,m=0,y=0,g=1,A=1,x=1,_=0,S="",M=r,b=s,P=i,R=S;A;)switch(y=_,_=Zi()){case 40:if(y!=108&&Kn(R,h-1)==58){e_(R+=kt(og(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:R+=og(_);break;case 9:case 10:case 13:case 32:R+=LX(y);break;case 92:R+=IX(sg()-1,7);continue;case 47:switch(As()){case 42:case 47:Im(OX(DX(Zi(),sg()),e,t),l);break;default:R+="/"}break;case 123*g:a[u++]=ds(R)*x;case 125*g:case 59:case 0:switch(_){case 0:case 125:A=0;case 59+d:x==-1&&(R=kt(R,/\f/g,"")),m>0&&ds(R)-h&&Im(m>32?N2(R+";",i,t,h-1):N2(kt(R," ","")+";",i,t,h-2),l);break;case 59:R+=";";default:if(Im(P=O2(R,e,t,u,d,r,a,S,M=[],b=[],h),s),_===123)if(d===0)ag(R,e,P,P,M,s,h,a,b);else switch(p===99&&Kn(R,3)===110?100:p){case 100:case 108:case 109:case 115:ag(n,P,P,i&&Im(O2(n,P,P,0,0,r,a,S,r,M=[],h),b),r,b,h,a,i?M:b);break;default:ag(R,P,P,P,[""],b,0,a,b)}}u=d=m=0,g=x=1,S=R="",h=o;break;case 58:h=1+ds(R),m=y;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&RX()==125)continue}switch(R+=X0(_),_*g){case 38:x=d>0?1:(R+="\f",-1);break;case 44:a[u++]=(ds(R)-1)*x,x=1;break;case 64:As()===45&&(R+=og(Zi())),p=As(),d=h=ds(S=R+=FX(sg())),_++;break;case 45:y===45&&ds(R)==2&&(g=0)}}return s}function O2(n,e,t,i,r,s,o,a,l,u,d){for(var h=r-1,p=r===0?s:[""],m=Pw(p),y=0,g=0,A=0;y<i;++y)for(var x=0,_=Wd(n,h+1,h=CX(g=o[y])),S=n;x<m;++x)(S=uD(g>0?p[x]+" "+_:kt(_,/&\f/g,p[x])))&&(l[A++]=S);return Y0(n,e,t,r===0?Ew:a,l,u,d)}function OX(n,e,t){return Y0(n,e,t,aD,X0(BX()),Wd(n,2,-2),0)}function N2(n,e,t,i){return Y0(n,e,t,Tw,Wd(n,0,i),Wd(n,i+1,-1),i)}function Yu(n,e){for(var t="",i=Pw(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function NX(n,e,t,i){switch(n.type){case MX:if(n.children.length)break;case wX:case Tw:return n.return=n.return||n.value;case aD:return"";case lD:return n.return=n.value+"{"+Yu(n.children,i)+"}";case Ew:n.value=n.props.join(",")}return ds(t=Yu(n.children,i))?n.return=n.value+"{"+t+"}":""}function UX(n){var e=Pw(n);return function(t,i,r,s){for(var o="",a=0;a<e;a++)o+=n[a](t,i,r,s)||"";return o}}function zX(n){return function(e){e.root||(e=e.return)&&n(e)}}var GX=function(e,t,i){for(var r=0,s=0;r=s,s=As(),r===38&&s===12&&(t[i]=1),!jd(s);)Zi();return Mh(e,Oi)},HX=function(e,t){var i=-1,r=44;do switch(jd(r)){case 0:r===38&&As()===12&&(t[i]=1),e[i]+=GX(Oi-1,t,i);break;case 2:e[i]+=og(r);break;case 4:if(r===44){e[++i]=As()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=X0(r)}while(r=Zi());return e},VX=function(e,t){return dD(HX(fD(e),t))},U2=new WeakMap,WX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!U2.get(i))&&!r){U2.set(e,!0);for(var s=[],o=VX(t,s),a=i.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},jX=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function hD(n,e){switch(EX(n,e)){case 5103:return Ft+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ft+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ft+n+Yg+n+ai+n+n;case 6828:case 4268:return Ft+n+ai+n+n;case 6165:return Ft+n+ai+"flex-"+n+n;case 5187:return Ft+n+kt(n,/(\w+).+(:[^]+)/,Ft+"box-$1$2"+ai+"flex-$1$2")+n;case 5443:return Ft+n+ai+"flex-item-"+kt(n,/flex-|-self/,"")+n;case 4675:return Ft+n+ai+"flex-line-pack"+kt(n,/align-content|flex-|-self/,"")+n;case 5548:return Ft+n+ai+kt(n,"shrink","negative")+n;case 5292:return Ft+n+ai+kt(n,"basis","preferred-size")+n;case 6060:return Ft+"box-"+kt(n,"-grow","")+Ft+n+ai+kt(n,"grow","positive")+n;case 4554:return Ft+kt(n,/([^-])(transform)/g,"$1"+Ft+"$2")+n;case 6187:return kt(kt(kt(n,/(zoom-|grab)/,Ft+"$1"),/(image-set)/,Ft+"$1"),n,"")+n;case 5495:case 3959:return kt(n,/(image-set\([^]*)/,Ft+"$1$`$1");case 4968:return kt(kt(n,/(.+:)(flex-)?(.*)/,Ft+"box-pack:$3"+ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ft+n+n;case 4095:case 3583:case 4068:case 2532:return kt(n,/(.+)-inline(.+)/,Ft+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ds(n)-1-e>6)switch(Kn(n,e+1)){case 109:if(Kn(n,e+4)!==45)break;case 102:return kt(n,/(.+:)(.+)-([^]+)/,"$1"+Ft+"$2-$3$1"+Yg+(Kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~e_(n,"stretch")?hD(kt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Kn(n,e+1)!==115)break;case 6444:switch(Kn(n,ds(n)-3-(~e_(n,"!important")&&10))){case 107:return kt(n,":",":"+Ft)+n;case 101:return kt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ft+(Kn(n,14)===45?"inline-":"")+"box$3$1"+Ft+"$2$3$1"+ai+"$2box$3")+n}break;case 5936:switch(Kn(n,e+11)){case 114:return Ft+n+ai+kt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ft+n+ai+kt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ft+n+ai+kt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ft+n+ai+n+n}return n}var JX=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case Tw:e.return=hD(e.value,e.length);break;case lD:return Yu([Pf(e,{value:kt(e.value,"@","@"+Ft)})],r);case Ew:if(e.length)return PX(e.props,function(s){switch(TX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yu([Pf(e,{props:[kt(s,/:(read-\w+)/,":"+Yg+"$1")]})],r);case"::placeholder":return Yu([Pf(e,{props:[kt(s,/:(plac\w+)/,":"+Ft+"input-$1")]}),Pf(e,{props:[kt(s,/:(plac\w+)/,":"+Yg+"$1")]}),Pf(e,{props:[kt(s,/:(plac\w+)/,ai+"input-$1")]})],r)}return""})}},XX=[JX],KX=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(g){var A=g.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var r=e.stylisPlugins||XX,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var A=g.getAttribute("data-emotion").split(" "),x=1;x<A.length;x++)s[A[x]]=!0;a.push(g)});var l,u=[WX,jX];{var d,h=[NX,zX(function(g){d.insert(g)})],p=UX(u.concat(r,h)),m=function(A){return Yu(kX(A),p)};l=function(A,x,_,S){d=_,m(A?A+"{"+x.styles+"}":x.styles),S&&(y.inserted[x.name]=!0)}}var y={key:t,sheet:new SX({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},YX=!0;function QX(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):i+=r+" "}),i}var pD=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||YX===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},ZX=function(e,t,i){pD(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qX(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $X={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function eK(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var tK=/[A-Z]|^ms/g,nK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mD=function(e){return e.charCodeAt(1)===45},z2=function(e){return e!=null&&typeof e!="boolean"},Hx=eK(function(n){return mD(n)?n:n.replace(tK,"-$&").toLowerCase()}),G2=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(nK,function(i,r,s){return hs={name:r,styles:s,next:hs},r})}return $X[e]!==1&&!mD(e)&&typeof t=="number"&&t!==0?t+"px":t};function Jd(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return hs={name:t.name,styles:t.styles,next:hs},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)hs={name:i.name,styles:i.styles,next:hs},i=i.next;var r=t.styles+";";return r}return iK(n,e,t)}case"function":{if(n!==void 0){var s=hs,o=t(n);return hs=s,Jd(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function iK(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Jd(n,e,t[r])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":z2(o)&&(i+=Hx(s)+":"+G2(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)z2(o[a])&&(i+=Hx(s)+":"+G2(s,o[a])+";");else{var l=Jd(n,e,o);switch(s){case"animation":case"animationName":{i+=Hx(s)+":"+l+";";break}default:i+=s+"{"+l+"}"}}}return i}var H2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,hs,rK=function(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";hs=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,s+=Jd(i,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Jd(i,t,e[a]),r&&(s+=o[a]);H2.lastIndex=0;for(var l="",u;(u=H2.exec(s))!==null;)l+="-"+u[1];var d=qX(s)+l;return{name:d,styles:s,next:hs}},sK=function(e){return e()},oK=rd["useInsertionEffect"]?rd["useInsertionEffect"]:!1,aK=oK||sK,gD=H.createContext(typeof HTMLElement<"u"?KX({key:"css"}):null);gD.Provider;var lK=function(e){return H.forwardRef(function(t,i){var r=H.useContext(gD);return e(t,r,i)})},yD=H.createContext({}),uK=xX,cK=function(e){return e!=="theme"},V2=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?uK:cK},W2=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},fK=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return pD(t,i,r),aK(function(){return ZX(t,i,r)}),null},dK=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=W2(e,t,i),l=a||V2(r),u=!l("as");return function(){var d=arguments,h=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],d[0][m])}var y=lK(function(g,A,x){var _=u&&g.as||r,S="",M=[],b=g;if(g.theme==null){b={};for(var P in g)b[P]=g[P];b.theme=H.useContext(yD)}typeof g.className=="string"?S=QX(A.registered,M,g.className):g.className!=null&&(S=g.className+" ");var R=rK(h.concat(M),A.registered,b);S+=A.key+"-"+R.name,o!==void 0&&(S+=" "+o);var E=u&&a===void 0?V2(_):l,T={};for(var L in g)u&&L==="as"||E(L)&&(T[L]=g[L]);return T.className=S,T.ref=x,H.createElement(H.Fragment,null,H.createElement(fK,{cache:A,serialized:R,isStringTag:typeof _=="string"}),H.createElement(_,T))});return y.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=r,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(g,A){return n(g,it({},t,A,{shouldForwardProp:W2(y,A,!0)})).apply(void 0,h)},y}},hK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],n_=dK.bind();hK.forEach(function(n){n_[n]=n_(n)});/**
 * @mui/styled-engine v5.15.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function pK(n,e){return n_(n,e)}const mK=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},gK=["values","unit","step"],yK=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>it({},t,{[i.key]:i.val}),{})};function vK(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5}=n,r=Cs(n,gK),s=yK(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-i/100}${t})`}function u(p,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-i/100}${t})`}function d(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function h(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return it({keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:t},r)}const xK={borderRadius:4},AK=xK;function nd(n,e){return e?Xr(n,e,{clone:!1}):n}const Bw={xs:0,sm:600,md:900,lg:1200,xl:1536},j2={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Bw[n]}px)`};function fo(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||j2;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=i.breakpoints||j2;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Bw).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function _K(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function SK(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function Q0(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function Qg(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=Q0(n,t)||i,e&&(r=e(r,i,n)),r}function wn(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Q0(l,i)||{};return fo(o,a,h=>{let p=Qg(u,r,h);return h===p&&typeof h=="string"&&(p=Qg(u,r,`${e}${h==="default"?"":gl(h)}`,h)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function wK(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const MK={m:"margin",p:"padding"},CK={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},J2={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},bK=wK(n=>{if(n.length>2)if(J2[n])n=J2[n];else return[n];const[e,t]=n.split(""),i=MK[e],r=CK[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),Rw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Lw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Rw,...Lw];function Ch(n,e,t,i){var r;const s=(r=Q0(n,e,!1))!=null?r:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function vD(n){return Ch(n,"spacing",8)}function bh(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),i=n(t);return e>=0?i:typeof i=="number"?-i:`-${i}`}function EK(n,e){return t=>n.reduce((i,r)=>(i[r]=bh(e,t),i),{})}function TK(n,e,t,i){if(e.indexOf(t)===-1)return null;const r=bK(t),s=EK(r,i),o=n[t];return fo(n,o,s)}function xD(n,e){const t=vD(n.theme);return Object.keys(n).map(i=>TK(n,e,i,t)).reduce(nd,{})}function pn(n){return xD(n,Rw)}pn.propTypes={};pn.filterProps=Rw;function mn(n){return xD(n,Lw)}mn.propTypes={};mn.filterProps=Lw;function PK(n=8){if(n.mui)return n;const e=vD({spacing:n}),t=(...i)=>(i.length===0?[1]:i).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function Z0(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?nd(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function _r(n){return typeof n!="number"?n:`${n}px solid`}function Tr(n,e){return wn({prop:n,themeKey:"borders",transform:e})}const BK=Tr("border",_r),RK=Tr("borderTop",_r),LK=Tr("borderRight",_r),IK=Tr("borderBottom",_r),DK=Tr("borderLeft",_r),FK=Tr("borderColor"),kK=Tr("borderTopColor"),OK=Tr("borderRightColor"),NK=Tr("borderBottomColor"),UK=Tr("borderLeftColor"),zK=Tr("outline",_r),GK=Tr("outlineColor"),q0=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Ch(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:bh(e,i)});return fo(n,n.borderRadius,t)}return null};q0.propTypes={};q0.filterProps=["borderRadius"];Z0(BK,RK,LK,IK,DK,FK,kK,OK,NK,UK,q0,zK,GK);const $0=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Ch(n.theme,"spacing",8),t=i=>({gap:bh(e,i)});return fo(n,n.gap,t)}return null};$0.propTypes={};$0.filterProps=["gap"];const ey=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Ch(n.theme,"spacing",8),t=i=>({columnGap:bh(e,i)});return fo(n,n.columnGap,t)}return null};ey.propTypes={};ey.filterProps=["columnGap"];const ty=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Ch(n.theme,"spacing",8),t=i=>({rowGap:bh(e,i)});return fo(n,n.rowGap,t)}return null};ty.propTypes={};ty.filterProps=["rowGap"];const HK=wn({prop:"gridColumn"}),VK=wn({prop:"gridRow"}),WK=wn({prop:"gridAutoFlow"}),jK=wn({prop:"gridAutoColumns"}),JK=wn({prop:"gridAutoRows"}),XK=wn({prop:"gridTemplateColumns"}),KK=wn({prop:"gridTemplateRows"}),YK=wn({prop:"gridTemplateAreas"}),QK=wn({prop:"gridArea"});Z0($0,ey,ty,HK,VK,WK,jK,JK,XK,KK,YK,QK);function Qu(n,e){return e==="grey"?e:n}const ZK=wn({prop:"color",themeKey:"palette",transform:Qu}),qK=wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qu}),$K=wn({prop:"backgroundColor",themeKey:"palette",transform:Qu});Z0(ZK,qK,$K);function Ji(n){return n<=1&&n!==0?`${n*100}%`:n}const eY=wn({prop:"width",transform:Ji}),Iw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,r;const s=((i=n.theme)==null||(i=i.breakpoints)==null||(i=i.values)==null?void 0:i[t])||Bw[t];return s?((r=n.theme)==null||(r=r.breakpoints)==null?void 0:r.unit)!=="px"?{maxWidth:`${s}${n.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ji(t)}};return fo(n,n.maxWidth,e)}return null};Iw.filterProps=["maxWidth"];const tY=wn({prop:"minWidth",transform:Ji}),nY=wn({prop:"height",transform:Ji}),iY=wn({prop:"maxHeight",transform:Ji}),rY=wn({prop:"minHeight",transform:Ji});wn({prop:"size",cssProperty:"width",transform:Ji});wn({prop:"size",cssProperty:"height",transform:Ji});const sY=wn({prop:"boxSizing"});Z0(eY,Iw,tY,nY,iY,rY,sY);const oY={border:{themeKey:"borders",transform:_r},borderTop:{themeKey:"borders",transform:_r},borderRight:{themeKey:"borders",transform:_r},borderBottom:{themeKey:"borders",transform:_r},borderLeft:{themeKey:"borders",transform:_r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:q0},color:{themeKey:"palette",transform:Qu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qu},backgroundColor:{themeKey:"palette",transform:Qu},p:{style:mn},pt:{style:mn},pr:{style:mn},pb:{style:mn},pl:{style:mn},px:{style:mn},py:{style:mn},padding:{style:mn},paddingTop:{style:mn},paddingRight:{style:mn},paddingBottom:{style:mn},paddingLeft:{style:mn},paddingX:{style:mn},paddingY:{style:mn},paddingInline:{style:mn},paddingInlineStart:{style:mn},paddingInlineEnd:{style:mn},paddingBlock:{style:mn},paddingBlockStart:{style:mn},paddingBlockEnd:{style:mn},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$0},rowGap:{style:ty},columnGap:{style:ey},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ji},maxWidth:{style:Iw},minWidth:{transform:Ji},height:{transform:Ji},maxHeight:{transform:Ji},minHeight:{transform:Ji},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ny=oY;function aY(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function lY(n,e){return typeof n=="function"?n(e):n}function uY(){function n(t,i,r,s){const o={[t]:i,theme:r},a=s[t];if(!a)return{[t]:i};const{cssProperty:l=t,themeKey:u,transform:d,style:h}=a;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[t]:i};const p=Q0(r,u)||{};return h?h(o):fo(o,i,y=>{let g=Qg(p,d,y);return y===g&&typeof y=="string"&&(g=Qg(p,d,`${t}${y==="default"?"":gl(y)}`,y)),l===!1?g:{[l]:g}})}function e(t){var i;const{sx:r,theme:s={}}=t||{};if(!r)return null;const o=(i=s.unstable_sxConfig)!=null?i:ny;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=_K(s.breakpoints),h=Object.keys(d);let p=d;return Object.keys(u).forEach(m=>{const y=lY(u[m],s);if(y!=null)if(typeof y=="object")if(o[m])p=nd(p,n(m,y,s,o));else{const g=fo({theme:s},y,A=>({[m]:A}));aY(g,y)?p[m]=e({sx:y,theme:s}):p=nd(p,g)}else p=nd(p,n(m,y,s,o))}),SK(h,p)}return Array.isArray(r)?r.map(a):a(r)}return e}const AD=uY();AD.filterProps=["sx"];const Dw=AD,cY=["breakpoints","palette","spacing","shape"];function Fw(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={}}=n,o=Cs(n,cY),a=vK(t),l=PK(r);let u=Xr({breakpoints:a,direction:"ltr",components:{},palette:it({mode:"light"},i),spacing:l,shape:it({},AK,s)},o);return u=e.reduce((d,h)=>Xr(d,h),u),u.unstable_sxConfig=it({},ny,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Dw({sx:h,theme:this})},u}function fY(n){return Object.keys(n).length===0}function dY(n=null){const e=H.useContext(yD);return!e||fY(e)?n:e}const hY=Fw();function pY(n=hY){return dY(n)}const mY=["sx"],gY=n=>{var e,t;const i={systemProps:{},otherProps:{}},r=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:ny;return Object.keys(n).forEach(s=>{r[s]?i.systemProps[s]=n[s]:i.otherProps[s]=n[s]}),i};function yY(n){const{sx:e}=n,t=Cs(n,mY),{systemProps:i,otherProps:r}=gY(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Xs(a)?it({},i,a):i}:s=it({},i,e),it({},r,{sx:s})}function _D(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=_D(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function vY(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=_D(n))&&(i&&(i+=" "),i+=e);return i}const xY=["variant"];function X2(n){return n.length===0}function SD(n){const{variant:e}=n,t=Cs(n,xY);let i=e||"";return Object.keys(t).sort().forEach(r=>{r==="color"?i+=X2(i)?n[r]:gl(n[r]):i+=`${X2(i)?r:gl(r)}${gl(n[r].toString())}`}),i}const AY=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _Y(n){return Object.keys(n).length===0}function SY(n){return typeof n=="string"&&n.charCodeAt(0)>96}const wY=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,Zg=n=>{const e={};return n&&n.forEach(t=>{const i=SD(t.props);e[i]=t.style}),e},MY=(n,e)=>{let t=[];return e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants),Zg(t)},qg=(n,e,t)=>{const{ownerState:i={}}=n,r=[];return t&&t.forEach(s=>{let o=!0;Object.keys(s.props).forEach(a=>{i[a]!==s.props[a]&&n[a]!==s.props[a]&&(o=!1)}),o&&r.push(e[SD(s.props)])}),r},CY=(n,e,t,i)=>{var r;const s=t==null||(r=t.components)==null||(r=r[i])==null?void 0:r.variants;return qg(n,e,s)};function lg(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const bY=Fw(),EY=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function ug({defaultTheme:n,theme:e,themeId:t}){return _Y(e)?n:e[t]||e}function TY(n){return n?(e,t)=>t[n]:null}const K2=({styledArg:n,props:e,defaultTheme:t,themeId:i})=>{const r=n(it({},e,{theme:ug(it({},e,{defaultTheme:t,themeId:i}))}));let s;if(r&&r.variants&&(s=r.variants,delete r.variants),s){const o=qg(e,Zg(s),s);return[r,...o]}return r};function PY(n={}){const{themeId:e,defaultTheme:t=bY,rootShouldForwardProp:i=lg,slotShouldForwardProp:r=lg}=n,s=o=>Dw(it({},o,{theme:ug(it({},o,{defaultTheme:t,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{mK(o,M=>M.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=TY(EY(u))}=a,m=Cs(a,AY),y=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,g=h||!1;let A,x=lg;u==="Root"||u==="root"?x=i:u?x=r:SY(o)&&(x=void 0);const _=pK(o,it({shouldForwardProp:x,label:A},m)),S=(M,...b)=>{const P=b?b.map(L=>{if(typeof L=="function"&&L.__emotion_real!==L)return I=>K2({styledArg:L,props:I,defaultTheme:t,themeId:e});if(Xs(L)){let I=L,V;return L&&L.variants&&(V=L.variants,delete I.variants,I=G=>{let N=L;return qg(G,Zg(V),V).forEach(Y=>{N=Xr(N,Y)}),N}),I}return L}):[];let R=M;if(Xs(M)){let L;M&&M.variants&&(L=M.variants,delete R.variants,R=I=>{let V=M;return qg(I,Zg(L),L).forEach(N=>{V=Xr(V,N)}),V})}else typeof M=="function"&&M.__emotion_real!==M&&(R=L=>K2({styledArg:M,props:L,defaultTheme:t,themeId:e}));l&&p&&P.push(L=>{const I=ug(it({},L,{defaultTheme:t,themeId:e})),V=wY(l,I);if(V){const G={};return Object.entries(V).forEach(([N,j])=>{G[N]=typeof j=="function"?j(it({},L,{theme:I})):j}),p(L,G)}return null}),l&&!y&&P.push(L=>{const I=ug(it({},L,{defaultTheme:t,themeId:e}));return CY(L,MY(l,I),I,l)}),g||P.push(s);const E=P.length-b.length;if(Array.isArray(M)&&E>0){const L=new Array(E).fill("");R=[...M,...L],R.raw=[...M.raw,...L]}const T=_(R,...P);return o.muiName&&(T.muiName=o.muiName),T};return _.withConfig&&(S.withConfig=_.withConfig),S}}function BY(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:rD(e.components[t].defaultProps,i)}function RY({props:n,name:e,defaultTheme:t,themeId:i}){let r=pY(t);return i&&(r=r[i]||r),BY({theme:r,name:e,props:n})}function wD(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function LY(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function vc(n){if(n.type)return n;if(n.charAt(0)==="#")return vc(LY(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(gc(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(gc(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}function kw(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.indexOf("rgb")!==-1?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.indexOf("color")!==-1?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function IY(n){n=vc(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),o=(u,d=(u+t/30)%12)=>r-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),kw({type:a,values:l})}function Y2(n){n=vc(n);let e=n.type==="hsl"||n.type==="hsla"?vc(IY(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function DY(n,e){const t=Y2(n),i=Y2(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function FY(n,e){if(n=vc(n),e=wD(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return kw(n)}function kY(n,e){if(n=vc(n),e=wD(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return kw(n)}function OY(n,e){return it({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const NY=["mode","contrastThreshold","tonalOffset"],Q2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vd.white,default:Vd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vx={text:{primary:Vd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Z2(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=kY(n.main,r):e==="dark"&&(n.dark=FY(n.main,s)))}function UY(n="light"){return n==="dark"?{main:mu[200],light:mu[50],dark:mu[400]}:{main:mu[700],light:mu[400],dark:mu[800]}}function zY(n="light"){return n==="dark"?{main:pu[200],light:pu[50],dark:pu[400]}:{main:pu[500],light:pu[300],dark:pu[700]}}function GY(n="light"){return n==="dark"?{main:hu[500],light:hu[300],dark:hu[700]}:{main:hu[700],light:hu[400],dark:hu[800]}}function HY(n="light"){return n==="dark"?{main:gu[400],light:gu[300],dark:gu[700]}:{main:gu[700],light:gu[500],dark:gu[900]}}function VY(n="light"){return n==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:yu[800],light:yu[500],dark:yu[900]}}function WY(n="light"){return n==="dark"?{main:Tf[400],light:Tf[300],dark:Tf[700]}:{main:"#ed6c02",light:Tf[500],dark:Tf[900]}}function jY(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2}=n,r=Cs(n,NY),s=n.primary||UY(e),o=n.secondary||zY(e),a=n.error||GY(e),l=n.info||HY(e),u=n.success||VY(e),d=n.warning||WY(e);function h(g){return DY(g,Vx.text.primary)>=t?Vx.text.primary:Q2.text.primary}const p=({color:g,name:A,mainShade:x=500,lightShade:_=300,darkShade:S=700})=>{if(g=it({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(gc(11,A?` (${A})`:"",x));if(typeof g.main!="string")throw new Error(gc(12,A?` (${A})`:"",JSON.stringify(g.main)));return Z2(g,"light",_,i),Z2(g,"dark",S,i),g.contrastText||(g.contrastText=h(g.main)),g},m={dark:Vx,light:Q2};return Xr(it({common:it({},Vd),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:cX,contrastThreshold:t,getContrastText:h,augmentColor:p,tonalOffset:i},m[e]),r)}const JY=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function XY(n){return Math.round(n*1e5)/1e5}const q2={textTransform:"uppercase"},$2='"Roboto", "Helvetica", "Arial", sans-serif';function KY(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:i=$2,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h}=t,p=Cs(t,JY),m=r/14,y=h||(x=>`${x/u*m}rem`),g=(x,_,S,M,b)=>it({fontFamily:i,fontWeight:x,fontSize:y(_),lineHeight:S},i===$2?{letterSpacing:`${XY(M/_)}em`}:{},b,d),A={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,q2),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,q2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Xr(it({htmlFontSize:u,pxToRem:y,fontFamily:i,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},A),p,{clone:!1})}const YY=.2,QY=.14,ZY=.12;function Zt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${YY})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${QY})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${ZY})`].join(",")}const qY=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],$Y=qY,eQ=["duration","easing","delay"],tQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eP(n){return`${Math.round(n)}ms`}function iQ(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function rQ(n){const e=it({},tQ,n.easing),t=it({},nQ,n.duration);return it({getAutoHeightDuration:iQ,create:(r=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Cs(s,eQ),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof o=="string"?o:eP(o)} ${a} ${typeof l=="string"?l:eP(l)}`).join(",")}},n,{easing:e,duration:t})}const sQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},oQ=sQ,aQ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function lQ(n={},...e){const{mixins:t={},palette:i={},transitions:r={},typography:s={}}=n,o=Cs(n,aQ);if(n.vars)throw new Error(gc(18));const a=jY(i),l=Fw(n);let u=Xr(l,{mixins:OY(l.breakpoints,t),palette:a,shadows:$Y.slice(),typography:KY(a,s),transitions:rQ(r),zIndex:it({},oQ)});return u=Xr(u,o),u=e.reduce((d,h)=>Xr(d,h),u),u.unstable_sxConfig=it({},ny,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Dw({sx:h,theme:this})},u}const uQ=lQ(),MD=uQ;function cQ({props:n,name:e}){return RY({props:n,name:e,defaultTheme:MD,themeId:oD})}const fQ=n=>lg(n)&&n!=="classes",dQ=PY({themeId:oD,defaultTheme:MD,rootShouldForwardProp:fQ}),hQ=dQ;function pQ(n){return sD("MuiTypography",n)}gX("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mQ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],gQ=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${gl(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return fX(a,pQ,o)},yQ=hQ("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${gl(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>it({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),tP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vQ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},xQ=n=>vQ[n]||n,AQ=H.forwardRef(function(e,t){const i=cQ({props:e,name:"MuiTypography"}),r=xQ(i.color),s=yY(it({},i,{color:r})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=tP}=s,y=Cs(s,mQ),g=it({},s,{align:o,color:r,className:a,component:l,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:m}),A=l||(h?"p":m[p]||tP[p])||"span",x=gQ(g);return ve(yQ,it({as:A,ref:t,ownerState:g,className:vY(x.root,a)},y))}),_Q=AQ,SQ=()=>vt("section",{className:"relative w-full h-screen mx-auto",children:[vt("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${Zr.paddingX} flex flex-row items-start gap-5`,children:[vt("div",{className:"flex flex-col justify-center items-center mt-5",children:[ve("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),ve("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),ve("div",{className:"col-lg-6 col-sm-12 ",children:ve(_Q,{sx:{fontWeight:"bold"},variant:"h3",children:ve(tX,{strings:["Hi, I'm Shayan."],typeSpeed:40,backSpeed:60,loop:!0})})})]}),ve(GV,{}),ve("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:ve("a",{href:"#about",children:ve("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:ve(Qr.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),wQ="/assets/backend-565fc01f.png",MQ="/assets/creator-dbbffaec.png",CQ="/assets/mobile-896ef2f5.png",bQ="/assets/web-0d05165f.png",EQ="/assets/github-3b4e1609.png",TQ="/assets/menu-b5599218.svg",PQ="/assets/close-54702a70.svg",BQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASsAAACoCAMAAACPKThEAAAAkFBMVEUAAADlCRPnCRMQAgPZChbqCBR4DhQfBATDDhmmDhWiCxGtCxQaBQbVDBgAAQBSBglCCQqeDBLGCxN+CRBCBgziChINDQ0UFBRKBgmGCQ+tCRNPCQwnBQcIAADMCxU2BAa6DRcuBQdkCg5xDxXhChieDhnPDRWRDBOTCxE0Bgm1ChFZCg1hCQ56Cg8oBAa4DBKw270zAAAGR0lEQVR4nO2dC3uaPBiGk0g8tEotNZu6iqjUaq3r//93X06c2QorIP2u5961joRI8j68eXMwu0oIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBb8OPnrVtQmZ8/btwA171xA6rzjZoKAAAAAAAAAAAAAAAAAAAAAAAAANAtLnHtv7nsmk+pf6fJj3TGZqCwCdekTNIdFFCWTAu5040sXVI4zt2U1rlJVWJKuEmlndhel0PoSCY2tVAJ5zjSicDJMZHWzMN8rjNbysKTfP5YZk59lRv+ytX5osu+6Ot7Xdgf2Vt35onzDiyvz5BTSlm4M6k5ZyplWj5mEprA1zJzyWkWWeJB5q85ZZn8oxR2OlN5/CFdoXSeiXwG43f6+sDVA/nQ3NyFskbGxx0KUAOjFbua1FzZxpxIq5wqpVpJiZTf3OcLz2RmmVbEaEWVVqaIkPJYdV65UDLuu7C8PlorGr3JhU7V04qWa3UklbQij1oetlDXA12ezjqxvD5GKyq2OqW1+sSvcrlf9CuyDHWZR3V9NS/uqRvTa2O0EnylU3/TivF7EvtV5laiVZJdWStbjaOGPk89gDnP3ZheG+tXzNOpYh/kp+084iwzB/pq+6bvrc29KbFasXVSWDlqJa1MC9iBkIsM7IKyx45Mr80wij9q4C/TqrxDTFjaXGK0YvyULVVJq2dHy/xm9RZ829f5aKSVeZsFrcSftOJxkDHc68I5l6iklZlCUHE+64bw4OtGtUSs1UzNnWv6VU4r+m9a/ZJJQfnqJAWT04f3JsxqhbgPctXGYmyv41f/ppVLfMpkmHL0gGgDZy+JtBJylHOtVmGnWhGy4tKh5B/9yq5NWNUOsVZUKXSTPkh+h5QapaR35RfaPSKOV/qNlmhV/p4b9StybyZ58RDTU+J4JVhQqtXLr3fJfv+eeeGlfiWYP7k3/NaZVbW6RM4twm0bRjZErBWjsp3z4npQLfzlXz7L7CmV+pXaImAabkyuqhU5GscyS4PeEmul1znF+ZXQCxeplfO5X6XWODW1emVGK5ov2iuMVo5gergu+FVkvKAV/CoK0PKiplZbPV8QrKcbVxazf+V9aBMX22IfFHaAymn1B7+KtK2pFfnQUrNhCxY2h/Er76AlezwX+iBlNgI5lfyKW2pp5ZKNr0Xu8+SKWK24N1ALWDYrie2O73ljSZCNV6VaUW9lMU+o7FcH44/fow+StdqepCtWdX7V5Fw07u4sXHzdovaItNprj5qJglYdrHHMVyJ6zvDSgEmtEWm1cZIxv+s1jswQ0Wg7Iv0l0kpaz+po1aRf7fRun5Hr0IRRLRFrdYknpZ371atxKz2SBg3Y1BaxVu6MixpaNelXDmNyFmenZucmrGqHWCvyUkurBv3qwNXmFQuEdqzcln2fSLR6iN5seq+v1n57uVaC588z5LQam0qnngqY7NjfDaxEK+JHWqXXg/qkweB5u7zsr6md8Dp+xbxgPXk8rYb7y0ILkdXqQY+AfEKepGOL3u+3G61OUXRP90HmeMeZE+qFyzr5WA2/kt1LrZE0dJd8ONLKbPTRORnpgx/0rT1jv0hKq2XUCTPrQRqflsloVcOvlLeYJbgIi1qdQ/3swDxDhfhRXw+sJVq56hBRPl5FmG+Vk48V/SqfoTDxitp5pvpR1Opk6lQ972JeyapFc79Eyq/Iipuh6G9nPywTddwqLc1a7YiWaZV+CCv6lZFTn6oh5EiTxvSQtFZns1lX0IqZbpjpg1SdzXtNMl4/giAY5wbNqR+GIbXbNCoYFf3qyoXg0Wi7MuvCS1vGfpG0VmTMM+MgNxGZCanLzB+/pZR43v0eTQebTwKLuzsvlg/v++F19XqavHm+b7WSD7VaqX4vdI1uFLtYXzfdM1o96QS38WriBRM90i9300brXF6fTpMPHZb22uHi7YU1V9Hdaba6xrD7oiaxC4Uj/efU6jHgzFxzMXx6XHt+9E3XXo2EvT2sNlSzHu7b1HybeqVuK2O3W3KV5MyUl/GeRveDH9yt9rf+BjOWbbTYr+4Cf3nLxvyRfq6++vl/AXo4R3b72Kj+0lOtetosAAAAAAAAAAAAAAAAAAAAAAAA4H/BN/qFrTdvKn5nMQAAAAAAAAAAAAAAAAAAAAAAAAAAAACAz/gP9Zddjp0B/9oAAAAASUVORK5CYII=",RQ="/assets/css-79a7f026.png",LQ="/assets/docker-602a695a.png",IQ="/assets/figma-184a11e6.png",DQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",FQ="/assets/html-92b76a73.png",kQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",OQ="/assets/mongodb-54000b2b.png",NQ="/assets/nodejs-d83eb6dd.png",UQ="/assets/reactjs-966214a8.png",zQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",GQ="/assets/threejs-fe160e71.svg",nP=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],HQ=[{title:"Frontend Development",icon:bQ},{title:"Automation",icon:CQ},{title:"Backend Development",icon:wQ},{title:"SEO",icon:MQ}],VQ=[{name:"HTML 5",icon:FQ},{name:"CSS 3",icon:RQ},{name:"JavaScript",icon:kQ},{name:"TypeScript",icon:zQ},{name:"React JS",icon:UQ},{name:"Node JS",icon:NQ},{name:"MongoDB",icon:OQ},{name:"Three JS",icon:GQ},{name:"git",icon:DQ},{name:"figma",icon:IQ},{name:"docker",icon:LQ}],WQ=[{title:"Software Engineer",company_name:"Gas POS",iconBg:"#383E56",date:"Sept 2022 - Present",points:["Assumed ownership and led the strategic development of the company's web portal, implementing user-friendly design, robust functionality, and efficient security measures.","Engineered validation and compression algorithms to enhance the efficiency and reliability of data processing within the enterprise software solution.","Developed APIs to augment software functionality and facilitate seamless data interchange between systems","Managed, optimized, and monitored cloud computing resources on Azure to ensure high availability, scalability, and cost-efficiency."]},{title:"React Engineer",company_name:"BRU'D Rewards",iconBg:"#E6DEDD",date:"Feb 2021 - Mar 2023",points:["Engineered an intuitive user-friendly interface for a rewards application tailored for small to medium-sized businesses.","Seamlessly integrated multiple APIs, enhancing backend functionality and broadening application capabilities.","Conducted thorough end-to-end quality assurance testing to ensure software reliability and performance."]},{title:"Full-Stack Engineer",company_name:"Hustle Striking",iconBg:"#383E56",date:"Jan 2020 - Jan 2021",points:["Designed, developed, and maintained both the front-end and back-end components of the e-commerce application, ensuring seamless integration and optimized performance for an enhanced user experience.","Managed the company's cloud computing system, overseeing deployment, scalability, and security of the e-commerce application, ensuring optimal uptime and responsiveness.","Regularly reviewed and analyzed the e-commerce application for areas of enhancement. Implemented updates and new features based on feedback, emerging technologies, and market trends to keep the platform competitive and user-friendly."]}],jQ=[{name:"Netflix Clone",description:"Developed a Netflix clone application featuring a dynamic user interface by leveraging React.js and modern web technologies.",tags:[],image:BQ,source_code_link:"https://netflix-clone-9d54e.web.app/"}],JQ="/assets/logo-8872f438.png",XQ=()=>{const[n,e]=H.useState(""),[t,i]=H.useState(!1),[r,s]=H.useState(!1);return H.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),ve("nav",{className:`${Zr.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:vt("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[vt(BN,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[ve("img",{src:JQ,alt:"logo",className:"w-9 h-9 object-contain"}),vt("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Shayan ",ve("span",{className:"sm:block hidden",children:" | Software Engineer"})]})]}),ve("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:nP.map(o=>ve("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:ve("a",{href:`#${o.id}`,children:o.title})},o.id))}),vt("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[ve("img",{src:t?PQ:TQ,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),ve("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:ve("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:nP.map(o=>ve("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:ve("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})};var CD={};Object.defineProperty(CD,"__esModule",{value:!0});var Bf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KQ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),bD=H,YQ=ZQ(bD),QQ=cg;function ZQ(n){return n&&n.__esModule?n:{default:n}}function qQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $Q(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function eZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var tZ=function(n){eZ(e,n);function e(t){qQ(this,e);var i=$Q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return KQ(e,[{key:"componentDidMount",value:function(){this.element=(0,QQ.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Bf({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:Bf({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Bf({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:Bf({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),u=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),d=o*100,h=a*100;return{tiltX:l,tiltY:u,percentageX:d,percentageY:h}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:Bf({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return YQ.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(bD.Component),ED=CD.default=tZ;const Ow=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),iy=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),iP=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),nZ=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Eh=(n,e)=>function(){return vt(Qr.section,{variants:nZ(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Zr.padding} max-w-7xl mx-auto relative z-0`,children:[ve("span",{className:"hash-span",id:e,children:""}),ve(n,{})]})},iZ=({index:n,title:e,icon:t})=>ve(ED,{className:"xs:w-[250px] w-full",children:ve(Qr.div,{variants:iy("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:vt("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[ve("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),ve("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),rZ=()=>vt(f_,{children:[vt(Qr.div,{variants:Ow(),children:[ve("p",{className:Zr.sectionSubText,children:"Introduction"}),ve("h2",{className:Zr.sectionHeadText,children:"Overview."})]}),ve(Qr.p,{variants:iy("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"As a dedicated software engineer, I've honed my expertise in a diverse set of programming languages and frameworks to deliver robust and scalable solutions. My passion lies in crafting efficient and user-friendly applications that drive results and enhance user experiences."}),ve("div",{className:"mt-20 flex flex-wrap gap-10",children:HQ.map((n,e)=>ve(iZ,{index:e,...n},n.title))})]}),sZ=Eh(rZ,"about"),oZ=()=>ve("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:VQ.map(n=>ve("div",{className:"w-28 h-28",children:ve(UV,{icon:n.icon})},n.name))}),aZ=Eh(oZ,"");var ry={},$g={},lZ={get exports(){return $g},set exports(n){$g=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(lZ);ry.__esModule=!0;ry.default=void 0;var uZ=Nw(H),Lo=Nw(zg),cZ=Nw($g);function Nw(n){return n&&n.__esModule?n:{default:n}}const TD=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),uZ.default.createElement("div",{className:(0,cZ.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));TD.propTypes={children:Lo.default.oneOfType([Lo.default.arrayOf(Lo.default.node),Lo.default.node]).isRequired,className:Lo.default.string,animate:Lo.default.bool,layout:Lo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Lo.default.string};var fZ=TD;ry.default=fZ;var sy={};function i_(){return i_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},i_.apply(this,arguments)}function dZ(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,r_(n,e)}function r_(n,e){return r_=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},r_(n,e)}function hZ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var s_=new Map,Dm=new WeakMap,rP=0,PD=void 0;function pZ(n){PD=n}function mZ(n){return n?(Dm.has(n)||(rP+=1,Dm.set(n,rP.toString())),Dm.get(n)):"0"}function gZ(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?mZ(n.root):n[e])}).toString()}function yZ(n){var e=gZ(n),t=s_.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(d){d(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},s_.set(e,t)}return t}function Uw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=PD),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=yZ(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),s_.delete(o))}}var vZ=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function sP(n){return typeof n.children!="function"}var e0=function(n){dZ(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),sP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,d=r.fallbackInView;this._unobserveCb=Uw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!sP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,d=hZ(a,vZ);return H.createElement(u||"div",i_({ref:this.handleNode},d),l)},e}(H.Component);e0.displayName="InView";e0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function xZ(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,d=e.fallbackInView,h=H.useRef(),p=H.useState({inView:!!u}),m=p[0],y=p[1],g=H.useCallback(function(x){h.current!==void 0&&(h.current(),h.current=void 0),!l&&x&&(h.current=Uw(x,function(_,S){y({inView:_,entry:S}),S.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);H.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!u})});var A=[g,m.inView,m.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const AZ=Object.freeze(Object.defineProperty({__proto__:null,InView:e0,default:e0,defaultFallbackInView:pZ,observe:Uw,useInView:xZ},Symbol.toStringTag,{value:"Module"})),_Z=EF(AZ);sy.__esModule=!0;sy.default=void 0;var Io=zw(H),qt=zw(zg),Fm=zw($g),SZ=_Z;function zw(n){return n&&n.__esModule?n:{default:n}}const BD=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:g={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:A=!1})=>Io.default.createElement(SZ.InView,g,({inView:x,ref:_})=>Io.default.createElement("div",{ref:_,id:h,className:(0,Fm.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Io.default.createElement(Io.default.Fragment,null,Io.default.createElement("span",{style:d,onClick:l,className:(0,Fm.default)(a,"vertical-timeline-element-icon",{"bounce-in":x||A,"is-hidden":!(x||A)})},o),Io.default.createElement("div",{style:i,onClick:u,className:(0,Fm.default)(y,"vertical-timeline-element-content",{"bounce-in":x||A,"is-hidden":!(x||A)})},Io.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Io.default.createElement("span",{className:(0,Fm.default)(s,"vertical-timeline-element-date")},r)))));BD.propTypes={children:qt.default.oneOfType([qt.default.arrayOf(qt.default.node),qt.default.node]),className:qt.default.string,contentArrowStyle:qt.default.shape({}),contentStyle:qt.default.shape({}),date:qt.default.node,dateClassName:qt.default.string,icon:qt.default.element,iconClassName:qt.default.string,iconStyle:qt.default.shape({}),iconOnClick:qt.default.func,onTimelineElementClick:qt.default.func,id:qt.default.string,position:qt.default.string,style:qt.default.shape({}),textClassName:qt.default.string,visible:qt.default.bool,intersectionObserverProps:qt.default.shape({root:qt.default.object,rootMargin:qt.default.string,threshold:qt.default.number,triggerOnce:qt.default.bool})};var wZ=BD;sy.default=wZ;var RD={VerticalTimeline:ry.default,VerticalTimelineElement:sy.default};const MZ=({experience:n})=>vt(RD.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},children:[vt("div",{children:[ve("h3",{className:"text-white text-[24px] font-bold",children:n.title}),ve("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),ve("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>ve("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),CZ=()=>vt(f_,{children:[vt(Qr.div,{variants:Ow(),children:[ve("p",{className:`${Zr.sectionSubText} text-center`,children:"What I have done so far"}),ve("h2",{className:`${Zr.sectionHeadText} text-center`,children:"Work Experience."})]}),ve("div",{className:"mt-20 flex flex-col",children:ve(RD.VerticalTimeline,{children:WQ.map((n,e)=>ve(MZ,{experience:n},`experience-${e}`))})})]}),bZ=Eh(CZ,"work"),EZ=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>ve(Qr.div,{variants:iy("up","spring",n*.5,.75),children:vt(ED,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[vt("div",{className:"relative w-full h-[230px]",children:[ve("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),ve("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:ve("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:ve("img",{src:EQ,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),vt("div",{className:"mt-5",children:[ve("h3",{className:"text-white font-bold text-[24px]",children:e}),ve("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),ve("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>vt("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),TZ=()=>vt(f_,{children:[vt(Qr.div,{variants:Ow(),children:[ve("p",{className:`${Zr.sectionSubText} `,children:"My work"}),ve("h2",{className:`${Zr.sectionHeadText}`,children:"Projects."})]}),ve("div",{className:"w-full flex",children:ve(Qr.p,{variants:iy("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),ve("div",{className:"mt-20 flex flex-wrap gap-7",children:jQ.map((n,e)=>ve(EZ,{index:e,...n},`project-${e}`))})]}),PZ=Eh(TZ,""),Xd={_origin:"https://api.emailjs.com"},BZ=(n,e="https://api.emailjs.com")=>{Xd._userID=n,Xd._origin=e},LD=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class oP{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const ID=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new oP(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new oP(o))}),s.open("POST",Xd._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),RZ=(n,e,t,i)=>{const r=i||Xd._userID;return LD(r,n,e),ID("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},LZ=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},IZ=(n,e,t,i)=>{const r=i||Xd._userID,s=LZ(t);LD(r,n,e);const o=new FormData(s);return o.append("lib_version","3.10.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),ID("/api/v1.0/email/send-form",o)},DZ={init:BZ,send:RZ,sendForm:IZ},FZ=()=>{const n=H.useRef(),[e,t]=H.useState({name:"",email:"",message:""}),[i,r]=H.useState(!1),s=a=>{const{target:l}=a,{name:u,value:d}=l;t({...e,[u]:d})},o=a=>{a.preventDefault(),r(!0),DZ.send("service_8ap6hya","template_2e65hhh",{from_name:e.name,to_name:"Shayan",from_email:e.email,to_email:"valaieshayanse@gmail.com",message:e.message},"3Q63r0ES5OylojtvS").then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return vt("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[vt(Qr.div,{variants:iP("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[ve("p",{className:Zr.sectionSubText}),ve("h3",{className:Zr.sectionHeadText,children:"Say Hi."}),vt("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[ve("label",{className:"flex flex-col",children:ve("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"Your Name",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})}),ve("label",{className:"flex flex-col",children:ve("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"Your Email Address",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})}),ve("label",{className:"flex flex-col",children:ve("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"Your Message",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})}),ve("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]})]}),ve(Qr.div,{variants:iP("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:ve(OV,{})})]})},kZ=Eh(FZ,"contact"),OZ=()=>ve(TN,{children:vt("div",{className:"relative z-0 bg-primary",children:[vt("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[ve(XQ,{}),ve(SQ,{})]}),ve(sZ,{}),ve(bZ,{}),ve(aZ,{}),ve(PZ,{}),vt("div",{className:"relative z-0",children:[ve(kZ,{}),ve(VV,{})]})]})});Wx.createRoot(document.getElementById("root")).render(ve(n0.StrictMode,{children:ve(OZ,{})}));
